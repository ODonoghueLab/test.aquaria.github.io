{"version":3,"sources":["webpack:///./src/components/Popup/PopupMinimal.vue?c29e","webpack:///./src/views/Coverage.vue","webpack:///src/views/Coverage.vue","webpack:///./src/views/Coverage.vue?791e","webpack:///./src/views/Coverage.vue?0e01","webpack:///./src/components/Popup/PopupGeneric.vue?bdfa","webpack:///./src/components/AquariaLayout/helpers/hidePanels.js","webpack:///./src/assets/img/search_dark.png","webpack:///./src/components/InfoAbout/Errors.vue?4153","webpack:///./src/components/InfoAbout/UserHelp.vue?1bcb","webpack:///./src/assets/images/aquaria-symbol-01.svg","webpack:///./src/components/Features/Features.vue?d551","webpack:///./src/assets/img/up.png","webpack:///./src/components/InfoAbout/Sequence.vue?5780","webpack:///./src/components/InfoAbout/AboutUniprot.vue?6a27","webpack:///./src/assets/img/MS-01.svg","webpack:///./src/components/MatchingStructures/CoverageMap.vue?6215","webpack:///./src/components/InfoAbout/AboutPdb.vue?9df3","webpack:///./src/components/AquariaLayout/Tabs.vue?54b8","webpack:///./src/components/Search/SearchPanel.vue?3a87","webpack:///./src/components/MatchingStructures/mapLoader.vue?37f8","webpack:///./src/assets/img/down.png","webpack:///./src/components/Popup/PopupGeneric.vue?cfd3","webpack:///./src/components/Header/Header.vue?9fab","webpack:///./src/components/Popup/PopupGeneric.vue?dbfb","webpack:///./src/views/Coverage.vue?8d3d","webpack:///./src/assets/img/aquaria-loader3.svg","webpack:///./src/components/MatchingStructures/TreeView.vue?a32a","webpack:///./src/components/Popup/PopupGeneric.vue?c0fe","webpack:///./src/assets/img/FT-01.svg","webpack:///./src/components/InfoAbout/AboutAlignment.vue?e9d1","webpack:///./src/components/AquariaLayout/Scrim.vue?b618","webpack:///./src/assets/img/search_100.png","webpack:///./src/components/Popup/PopUpVariant.vue?fbc3","webpack:///./src/components/AquariaLayout/NodeLoader.vue?a8e9","webpack:///./src/views/Wrapper.vue","webpack:///./src/components/AquariaLayout/helpers/aquaria.js","webpack:///./src/components/Header/Header.vue","webpack:///./src/components/Header/Title.vue","webpack:///src/components/Header/Title.vue","webpack:///./src/components/Header/Title.vue?d59e","webpack:///./src/components/Header/Title.vue?a5a9","webpack:///./src/components/Header/Menu.vue","webpack:///src/components/Header/Menu.vue","webpack:///./src/components/Header/Menu.vue?d64b","webpack:///./src/components/Header/Menu.vue?7f4b","webpack:///src/components/Header/Header.vue","webpack:///./src/components/Header/Header.vue?4811","webpack:///./src/components/Header/Header.vue?a549","webpack:///./src/components/AquariaLayout/Scrim.vue","webpack:///src/components/AquariaLayout/Scrim.vue","webpack:///./src/components/AquariaLayout/Scrim.vue?5859","webpack:///./src/components/AquariaLayout/Scrim.vue?72b9","webpack:///./src/components/InfoAbout/Sequence.vue","webpack:///./src/components/Search/SearchPanel.vue","webpack:///./src/components/Search/SearchOrganism.vue","webpack:///src/components/Search/SearchOrganism.vue","webpack:///./src/components/Search/SearchOrganism.vue?894d","webpack:///./src/components/Search/SearchOrganism.vue?b8db","webpack:///./src/components/Search/SearchProtein.vue","webpack:///src/components/Search/SearchProtein.vue","webpack:///./src/components/Search/SearchProtein.vue?69d2","webpack:///./src/components/Search/SearchProtein.vue?5e4a","webpack:///src/components/Search/SearchPanel.vue","webpack:///./src/components/Search/SearchPanel.vue?914f","webpack:///./src/components/Search/SearchPanel.vue?08c7","webpack:///./src/components/InfoAbout/AboutUniprot.vue","webpack:///src/components/InfoAbout/AboutUniprot.vue","webpack:///./src/components/InfoAbout/AboutUniprot.vue?c1d5","webpack:///./src/components/InfoAbout/AboutUniprot.vue?0a7c","webpack:///src/components/InfoAbout/Sequence.vue","webpack:///./src/components/InfoAbout/Sequence.vue?5f86","webpack:///./src/components/InfoAbout/Sequence.vue?4edc","webpack:///./src/components/InfoAbout/AboutAlignment.vue","webpack:///src/components/InfoAbout/AboutAlignment.vue","webpack:///./src/components/InfoAbout/AboutAlignment.vue?cba3","webpack:///./src/components/InfoAbout/AboutAlignment.vue?743e","webpack:///./src/components/InfoAbout/AboutPdb.vue","webpack:///src/components/InfoAbout/AboutPdb.vue","webpack:///./src/components/InfoAbout/AboutPdb.vue?5b94","webpack:///./src/components/InfoAbout/AboutPdb.vue?3668","webpack:///./src/components/StructureViewer/StructureViewer.vue","webpack:///./src/components/StructureViewer/helpers/timers.js","webpack:///src/components/StructureViewer/StructureViewer.vue","webpack:///./src/components/MatchingStructures/helpers/show_matching_structures.js","webpack:///./src/components/StructureViewer/StructureViewer.vue?e164","webpack:///./src/components/StructureViewer/StructureViewer.vue?c18f","webpack:///./src/components/AquariaLayout/Tabs.vue","webpack:///./src/components/MatchingStructures/MatchingStructures.vue","webpack:///./src/components/MatchingStructures/TreeView.vue","webpack:///./src/components/MatchingStructures/helpers/clusterRenderer.js","webpack:///src/components/MatchingStructures/TreeView.vue","webpack:///./src/components/MatchingStructures/TreeView.vue?4ebc","webpack:///./src/components/MatchingStructures/TreeView.vue?22e3","webpack:///./src/components/AquariaLayout/NodeLoader.vue","webpack:///src/components/AquariaLayout/NodeLoader.vue","webpack:///./src/components/AquariaLayout/NodeLoader.vue?624a","webpack:///./src/components/AquariaLayout/NodeLoader.vue?cf2b","webpack:///src/components/MatchingStructures/MatchingStructures.vue","webpack:///./src/components/MatchingStructures/MatchingStructures.vue?2304","webpack:///./src/components/MatchingStructures/MatchingStructures.vue?6772","webpack:///./src/components/Features/Features.vue","webpack:///./src/components/Features/helpers/handleFeaturePop.js","webpack:///./src/components/Features/helpers/renderPanel.js","webpack:///src/components/Features/Features.vue","webpack:///src/components/MatchingStructures/CoverageMap.vue","webpack:///src/components/InfoAbout/UserHelp.vue","webpack:///./src/components/Features/Features.vue?104b","webpack:///./src/components/Features/Features.vue?60ff","webpack:///src/components/AquariaLayout/Tabs.vue","webpack:///./src/components/AquariaLayout/Tabs.vue?5a30","webpack:///./src/components/AquariaLayout/Tabs.vue?b3f4","webpack:///./src/components/MatchingStructures/CoverageMap.vue","webpack:///./src/components/Features/FeatureMap.vue","webpack:///src/components/Features/FeatureMap.vue","webpack:///./src/components/Features/FeatureMap.vue?85d1","webpack:///./src/components/Features/FeatureMap.vue?28ff","webpack:///./src/components/MatchingStructures/mapLoader.vue","webpack:///src/components/MatchingStructures/mapLoader.vue","webpack:///./src/components/MatchingStructures/mapLoader.vue?5c14","webpack:///./src/components/MatchingStructures/mapLoader.vue?ff30","webpack:///./src/components/MatchingStructures/CoverageMap.vue?fc2c","webpack:///./src/components/MatchingStructures/CoverageMap.vue?da72","webpack:///./src/components/InfoAbout/Errors.vue","webpack:///src/components/InfoAbout/Errors.vue","webpack:///./src/components/InfoAbout/Errors.vue?0323","webpack:///./src/components/InfoAbout/Errors.vue?bdcd","webpack:///./src/components/InfoAbout/UserHelp.vue","webpack:///./src/components/InfoAbout/Playlist.vue","webpack:///src/components/InfoAbout/Playlist.vue","webpack:///./src/components/InfoAbout/Playlist.vue?a01c","webpack:///./src/components/InfoAbout/Playlist.vue?b473","webpack:///./src/components/InfoAbout/UserHelp.vue?fcea","webpack:///./src/components/InfoAbout/UserHelp.vue?f480","webpack:///./src/components/Popup/PopUpVariant.vue","webpack:///./src/components/Popup/PopupGeneric.vue","webpack:///src/components/Popup/PopupGeneric.vue","webpack:///./src/components/Popup/PopupGeneric.vue?80ef","webpack:///./src/components/Popup/PopupGeneric.vue?75db","webpack:///src/components/Popup/PopUpVariant.vue","webpack:///./src/components/Popup/PopUpVariant.vue?c5f1","webpack:///./src/components/Popup/PopUpVariant.vue?6033","webpack:///./src/components/Popup/PopupMinimal.vue","webpack:///src/components/Popup/PopupMinimal.vue","webpack:///./src/components/Popup/PopupMinimal.vue?3df5","webpack:///./src/components/Popup/PopupMinimal.vue?c339","webpack:///./src/components/Popup/PopupAllVar.vue","webpack:///src/components/Popup/PopupAllVar.vue","webpack:///./src/components/Popup/PopupAllVar.vue?e2a8","webpack:///./src/components/Popup/PopupAllVar.vue?cce6","webpack:///src/views/Wrapper.vue","webpack:///./src/views/Wrapper.vue?4bbc","webpack:///./src/views/Wrapper.vue?fd23","webpack:///./src/assets/img/node.gif","webpack:///./src/assets/images/aquaria-menu.svg","webpack:///./src/components/AquariaLayout/helpers/utilities.js","webpack:///./src/components/InfoAbout/UserHelp.vue?bf60","webpack:///./src/components/Popup/PopupAllVar.vue?4686","webpack:///./src/components/Header/Menu.vue?2a97","webpack:///./src/components/Features/FeatureMap.vue?1cef","webpack:///./src/components/InfoAbout/Playlist.vue?82a4","webpack:///./src/components/MatchingStructures/MatchingStructures.vue?79b3","webpack:///./src/views/Wrapper.vue?38b8","webpack:///./src/components/StructureViewer/StructureViewer.vue?bdc3","webpack:///./src/components/Header/Title.vue?3579"],"names":["render","_vm","this","_c","_self","attrs","staticRenderFns","name","components","MatrixHeader","LoadingPage","data","hostname","store","state","url","publicPath","process","structures","totalStructures","d3","require","green","backgroundColour","x","y","organismId","mounted","allStructures","_this","concat","window","BACKEND","axios","method","then","response","JSON","parse","primary_accessions","getStructures","console","log","getMatchingStructures","getProteinSynonyms","loadShapes","document","querySelector","style","visibility","display","addEventListener","initialDisplay","methods","getResidueSize","scale","length","_this2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","continuous","i","svg","offset","prevLayer","prefixName","nextElem","prefixSize","large","placeholder","n","hadFragments","height","triangleSize","width","nextLayer","nextName","prevElem","wrap","_context","prev","next","partitionToThree","Math","max","apply","_toConsumableArray","map","el","getListSum","select","append","attr","floor","id","dark","placeholderLarge","primary_accession","synonym","drawArrow","drawRuler","addNonDarkToFragments","fragments","drawFragments","drawMatchingStructures","drawExpandButton","stop","fillData","protein","color","nonDark","segment","push","Start","Stop","getNonDarkBetween","start","splitToChunks","array","parts","result","splice","ceil","j","fragment","fill","p","hoverText","description","prevOffset","nonDarkFragments","stringify","numChunks","newFill","prevStop","len","slice","fragmentWidth","k","shapeFill","selectAll","enter","d","rectLen","on","cursor","baseUrl","location","origin","open","text","lab","node","getComputedTextLength","shortest","reduce","a","b","replace","range","xScale","linear","domain","ticks","axis","call","tickSize","tickFormat","interval","orient","smallAxis","axisLabel","datum","getBBox","parentNode","appendChild","Name","Primary_Accession","Short_Name","match","pdb","Description","renderImage","imgYOffset","link","imgSize","xOffset","transition","duration","l","img","splitLargeGaps","clusters","cluster","seq_start","seq_end","newCluster","s","_this3","filter","c","sort","cluster_size","spliced","start1","min","start2","end1","end2","forEach","end","matchingScale","nice","matchingAxis","matchingLabel","pdb_id","imageObj","expandButton","innerWidth","innerHeight","className","baseVal","split","indexOf","classed","transform","translate","rows","foundOpen","topOpen","renderHalfMoon","arcGenerator","arc","outerRadius","innerRadius","startAngle","PI","endAngle","semicircle","arrow","isResize","opened","list","totalSum","newNum","twoPart","partitionToTwo","pop","threePart","index","cur","sortStructures","_this4","_callee2","pos","_context2","getPositions","sent","position","first","second","abrupt","cleanProteins","proteins","_this5","_callee3","positionArrays","proteinsCleaned","_loop","substring","newNonDark","indexStart","indexEnd","_context4","positionArray","longest","_context3","sequence","findSubstring","e","Object","keys","delegateYield","a1","a2","L","charAt","_callee4","posUrl","r","_context5","position_index","_this6","_callee5","_context6","getSynonym","_callee6","synUrl","synonyms","_context7","Synonym","_this7","_callee7","loadRequest","urlMatching","_context8","selector","params","Best_PDB","countMatchingStructures","members","getNonDarkRegions","_this8","_callee8","_context9","getNonDarkCoverage","getNonDark","_callee9","_context10","primaryAccession","_callee10","urlCoverage","nonDarkCleaned","_context11","_this9","_callee11","purl","_loop2","_context13","_context12","count","sequences","seqLength","getFragments","_callee12","_context14","component","hidePanel","elemParent","elemChild","hidePanels","commit","scrollBy","module","exports","staticClass","showHelpIcon","pdbOnly","_e","showSequenceInfo","showAlignmentInfo","showStructureInfo","showAboutAquaria","showScrim","MAX_PROTEIN_HISTORY","proteinSubmitListeners","addProteinSubmitListener","listener","proteinTopTen","TopTenStore","showAbout","aquariasymbol","getStructure","accession","$event","makeActive","search","_v","_s","helpOption","showHelp","getOrganism","seqRes","background","activeTab","replaceAll","getGene","showAllVarPopup","chain","structRes","closePanel","props","computed","_objectSpread","hash","scrim","mapGetters","watch","bool","newVal","urlParams","query","queryStore","decodeURIComponent","history","pushState","title","getHash","getIntersectingStructs","getSortedKeys","getVariantResidues","getVariantStructs","getElementById","getBoundingClientRect","$parent","resetPopup","$store","dropFragment","appendHash","panel3d","copyToClipboard","openPanel","panelName","includes","updated","selectedRes","MutationObserver","PDBIndex","findPDBMember","currentMember","Matches","member","residues","innerText","model","pdb_chain","observe","attributes","childList","characterData","hamburger","showMenu","closeMenu","print","helpActive","_m","directives","rawName","value","selected","expression","$$selectedVal","Array","prototype","target","options","o","val","_value","multiple","onChange","classList","remove","contains","event","toLowerCase","click","toggleActive","ev","screenshotHref","screenshot","createElement","href","download","preventDefault","currentTarget","viewUtils","Title","Menu","show","class","scrimClass","zIndex","loader","scrimLevel","dismissPanel","overlay","loaderMsg","Loader","LoaderMsg","newUser","errorMsg","fillin","ref","getResultValue","handleSubmit","Autocomplete","OrganismSynonyms","OrgID","Organism","organism_id","orgNames","localStorage","preferred_organism_name","textpanel","setAttribute","clear","$refs","autocomplete","input","labelValues","term","Promise","resolve","res","item","label","Organism_ID","maxHeight","callbackData","names","ids","pdbIDs","cacheProteinSynonyms","proteinSynonymOrgId","pdbId","collectResponsevalues","type","accessionObject","LoadAQUARIA","Accession","getters","LRU","getLRU","collectResponse","isNaN","parseInt","isID","nameCallback","idCallback","pdbCallback","getAll","suffix","category","lruMatches","startsWith","showPopup","allValues","nameData","organism","previous","current","dup","idData","Source_Field","pdbData","Category","SearchOrganism","SearchProtein","setTimeout","selectOrganism","placeholderText","orgInput","protInput","getAttribute","$","focus","blur","uniprotDesc","_l","descriptions","key","domProps","staticStyle","ExpandableTextLine","sections","tightSections","desc","currentSequence","newCount","updateUniprotInfo","info","patt","extractLines","unshift","makeLists","fromCollection","head","nextHead","newList","linkCode","lhref","lname","ltitle","finalList","section","EachSec","SearchPanel","AboutUniprot","showSequencePanel","opacity","alignment","pdbName","chainId","uniprotName","score","evalueString","power","quality","precisiontxt","pdbChainData","qualClass","showAlignmentPanel","newData","resetSelection","querySelectorAll","biounitLeft","biounitRight","biounit","currentData","structureAlignment","matches","showPDBPanel","currentBiounit","biounits","display3DStructure","lerpFrequency","frequency","callback","lerpInternal","delta","timer","setInterval","finished","abs","Number","EPSILON","clearInterval","rank","SELECTION_FADE_DURATION_MS","SELECTON_FADE_INTERVAL_MS","DEFAULT_SELECTION_LIGHTNESS_OFFSET","selectedResidues","hideSelection","mousedown","showSelection","checkPhone","adjustSize","selectionTimeout","setTimer","clearTimeout","iDevices","navigator","platform","screen","baseWindowHeight","documentBody","body","newWindowHeight","add","renderClusters","activateStructs","MS","showStructures","showFeatures","getStructCount","toLocaleString","renderFeatures","activateFeats","FT","getFeatCount","showPanel","closeTab","showTree","prop","treeCoordinates","parentElem","showLoader","change","hideTree","Panels","ClusterRenderer","onTextClick","onClusterItemClick","_classCallCheck","clustSize","container","drawClusterContainer","drawCluster","_createClass","clusterToUpdate","that","nusvg","secondary_structure","structStart","structEnd","identity_score","alignment_identity_score","pad","outerdiv","margin","left","mouseover","mouseout","substr","addThumbnails","clickTitle","drawClusterResidues","setConservation","thickness","conservation","conservationArray","rect","srw","insertions","gap","each","imgName","toUpperCase","over","parseFloat","shortId","clusterRenderers","clickCoord","clusterN","selectCluster","clusterNumber","pdbMember","initialise","offsetWidth","right","top","bottom","drawAxisRuler","updateSizes","newClusters","updateCluster","refresh","existingClusters","RenderCluster","pdbIndex","loadData","structure","clusterRenderer","clusterItemClick","getClusterId","cluster_nbr","layerId","rsvg","insert","tickPadding","tickList","allTicks","textContent","doesItFit","tickValues","rulerEnd","limit","w","h","radius","featureRegex","RegExp","pdbs","up","down","treeReady","oldVal","coordinates","clientX","clientY","parent","chunks","chunk","generateArc","nodeClick","children","items","size","_ref","reversePdbArray","outputArray","arr","pdblist","parentPDB","nodes","elems","pdbArray","undefined","hasOwnProperty","createLinks","removeChild","shift","dx","dy","getMatches","showMatchingStructures","E_value","test","waitForElement","pNode","pathNm","imgNm","nodeLabel","label_long","tier","links","output","verticalMargin","nodeStartY","d3Shape","source","points","xpoint","ypoint","Gen","curve","connector","AQUARIA","passFeature","customfeatureSet","customfeatureSetioid","hideLoader","elem","marginLeft","marginTop","TreeView","NodeLoader","treeData","cord","getTreeCoordinates","obj","inputs","parentElement","getfeatureSets","toggleTrack","highlight","removeHighlight","showInfo","Highcharts","oneAaCodes","hidePopup","f","eid","urlhtml","urls","oldAa","btnsDiv","anAa","_i","isUniCosOrFun","isUniCosOrFunPresent","balloonText","popupTitle","getIdxInVarRes","handleCathPopups","updateTheStyleOfHc","resNum","popupText","varRes","theOrigFeatStr","tag_open","tag_close","firstOpenPos","lastClosePos","lastIndexOf","variantStructs","reject","hc_go","series","doThePlotting_v2","dataLabels","distance","innerSize","prepend","catch","error","createANewDiv_hcNoData","innerHTML","hc_ec","hc_species","hcSeriesGroup","getElementsByClassName","thePaths","getElementsByTagName","pathKey","theColor","removeAttribute","divId","theSeriesData_inner","theSeriesData_outer","theTitle","theSize_inner","labelCol_inner","labelDist_inner","innerSize_outer","name_inner","name_outer","labelCol_outer","chart","plotOptions","pie","shadow","center","tooltip","valueSuffix","enabled","formatter","point","responsive","rules","condition","maxWidth","chartOptions","newDiv","featureSetCount","updateFeatureUI","addedFeature","fh","featureHeader","aFsIdx","SeqHash","uniprot_hash","html","Type","Server","drawTrack","features","Tracks","track","createSVGforFeature","set","viewer","popup","panels","oid","drawSingleFeature","feature","featureCount","featCount","Class","variantResidues","viewBoxwidth","svgElem","targetId","jAlignment","jController","initialFeature","sideChain","sidechain","getcompleteServerNum","featureInfo","aggregatedAnnotations","completeServers","completeExtServers","groupFeatureSets","getCoverageMap","$route","checkAddedFeature","getPdbIndex","initiate","fetch_features","getLoadedFeature","updateSelection","old","loadFeature","clearResidues","controller","clearSelectedResidues","eventElem","trackElem","lastChild","About","srcElement","_fetch_features","uniprotMD5hash","fetchAnnotations","_x","arguments","featureList","extServerIds","featureSet","groupedFeatures","_","groupBy","String","featureSets","renderFeature","MatchingStructures","Features","setState","getBottomPanel","updateHash","string","activePanel","inactivePanel","activateTab","inactivateTab","hideTabs","element","drawFeature","coverageMapsrw","residueColor","loadedFeature","drawMap","setScales","drawFeatureResidues","getIsDefaultFeature","loadPopup","getVariantIdx","getVariant","allKeys","order","getAllVariantsCoordinates","pdbID","fResidueHeight","tmp1","tmp2","covMap","elemHeight","parentId","oldHash","transitionVar","greyScale","FeatureMap","mapLoader","densityScale","darkRegions","myArray","coverageMapData","docFrag","secondaryStructure","getCoveragemapOverlay","currentCluster","updateUI","setStructFeatmap","selectStructmap","checkSeq","init","selectPDB","selectChain","joleculeWatcher","View","renderSVG","drawLine","drawDarkRegions","secondaryStructures","drawResidues","maxStruct","densityMap","createDocumentFragment","ptext","ptitle","sequenceAa","getSequences","idx","getOneAaCodes","longAa","getThreeAaCodes","pdbResNum","mapSeqResToPdbResOfChain","iRes","soup","findResidueIndices","structAa","getResidueProxy","load","resType","selectedClus","density","secondaryStruct","getSecondaryStructure","seqStart","seqEnd","elemId","getStructureColor","loadLastSuccess","lastURL","showReportIssue","issuesURL","issues","changes","logo","message","encodeURIComponent","pageUrl","fallback","searchStrNoFs","join","pathname","arr1","searchStrNoFs1","getItem","helpTitle","closeHelp","videos","video","refInFor","paused","showContents","playing","playlist","play","$children","$attrs","player","playVideo","Playlist","activeVideoID","getIndex","youtube","iframe","requestFullScreen","mozRequestFullScreen","webkitRequestFullScreen","bind","pauseVideo","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","exitFullscreen","stopVideo","PopupPos","defaultDesc","aaCode","variant","getAaDataAsArr","dataStr","getOldAa","getVarDisplay","getIsShownVar","showTreeView","getPdbCount","isHrHidden","getResInfo","getPosInfoDataAsArr","arrObj","keyStr","getIsShownRes","getTotalPdbCount","getIfBoldInfoPres","highlightAa","getPopupType","timeout","header","dragMouseDown","togglePinBehaviour","closePopup","header2","displayHelp","_t","float","tailHeight","tailWidth","isShowTreeViewClicked","tailPosition","setPopupPos","pbody","parentRef","pshell","ptail","setTailPosition","setShellPosition","handleEdgeCases","_typeof","getPopupText","bodyPos","pinned","run","onmouseup","closeDragElement","onmousemove","elementDrag","elmnt","offsetTop","offsetLeft","thePin","setDefault","tail","residue","listOfPdbs","sortedKeys","$el","pdbI","aKey","aKeyI","aa","theHelpBtn","PopupGeneric","threeAaCodes","hasVariant","hasResidue","variantCoordinates","popupCoordinates","totalNumStructs","stoptimeout","starttimeout","handleVariantPopup","handlePin","resetToInitVar","newAas","getDefaultDesc","handleInitAa","getCurrentSequence","getInitialSequence","aaBtn","speRep","newAa","consInfo","getNewAa","getNewAa_opp","consequent","hidden","isOne","isMakeBold","arrForExpandable","Selected_PDB","arr2","thePdb","isFound","isAnAa","positionInfo","theDiv","updateSpanAa","valToDisp","getPopupTitle","getTotalPDBres","timeOutVar","dataToPrint","isShown","theClass","noMissenseVars","isComputed","isAnyCountSeen","allVariantsCoordinates","getSortedKeys1","totalZeros","counter_intersectingStructs","keyI","getTheOldAa","totalStructs","structCounts2","isInCurrStruct","isCurrPdbInVar","isCurrPdbIncluded","theRes","idxIntersectingStructs","resPos","getInitPdb","aPdbAndChain","structCounts","theAa","currPdbChain","GdprConsentModal","Header","Sequence","AboutAlignment","AboutPdb","StructureViewer","Tabs","CoverageMap","PopUpVariant","PopupMinimal","AboutAquaria","Errors","UserHelp","Scrim","PopupAllVar","arrayOfVideos","residueSelected","cleaned","replaceState","showSelectedState","showInitialState","newHash","popupTail","popupTail2","inspectHeight","hDiff","outerHeight","scrollY","scrollHeight","loadAccession","$props","urlRequest","uniprotAccession","loadPDB","isPhone","scrollTo","fn","digits","ready","removeClass","addClass","hide","my","at","collision","delay"],"mappings":"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","file":"js/wrapper.41107614.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupMinimal.vue?vue&type=style&index=0&id=b8b70cfc&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"matrix\"}},[_c('MatrixHeader'),_c('LoadingPage'),_c('div',{attrs:{\"id\":\"container\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id='matrix'>\n    <MatrixHeader />\n    <LoadingPage />\n     <div id='container'>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport MatrixHeader from '../components/MatrixLayout/MatrixHeader'\nimport LoadingPage from '../components/MatrixLayout/LoadingPage'\nimport store from '@/store/index'\n\nexport default {\n  name: 'Matrix',\n  components: {\n    MatrixHeader,\n    LoadingPage\n  },\n  data () {\n    return {\n      hostname: store.state.url,\n      publicPath: process.env.BASE_URL,\n      structures: null,\n      totalStructures: 0,\n      d3: require('d3'),\n      green: '#7A9D5B',\n      backgroundColour: '#ffffff',\n      x: 0,\n      y: 15,\n      organismId: '2697049' // COVID:2697049 SARS:694009 MERS:1263720\n    }\n  },\n  mounted () {\n    let allStructures\n    // window.BACKEND = 'https://odonoghuelab.org:8011/'\n\n    // gets an organism and runs all the functions and loads everything\n    var url = `${window.BACKEND}/${this.organismId}`\n    axios({\n      method: 'get',\n      url: url\n    })\n      .then(response => {\n        allStructures = JSON.parse(response.data.primary_accessions)\n        this.getStructures(this.organismId, allStructures).then(response => { // creates a list of objects with info on each structure\n          console.log(response)\n          this.getMatchingStructures(response).then(response => {\n            this.getProteinSynonyms(response).then(response => {\n              this.loadShapes(response).then(() => {\n                if (document.querySelector('.matrixLoading')) {\n                  document.querySelector('.matrixLoading').style.visibility = 'hidden'\n                  document.querySelector('.matrixLoading').style.display = 'none'\n                }\n              })\n            })\n          })\n        })\n        this.structures = allStructures\n      })\n\n    window.addEventListener('resize', this.initialDisplay)\n  },\n  methods: {\n    // TODO: adding a gap if there is no gap between continous regions!!\n    // TODO: add a minimum image size as well as a max one.\n    // start writing a documentation about how things are done. IE, how polyproteins are split etc.\n\n    // given sequence length, return length of the rectangle to generate.\n    getResidueSize (scale, length) {\n      return length * scale\n    },\n\n    // This function takes in the protein data, and draws all the shapes\n    async loadShapes (data) {\n      // data in the format of [{name:string, primary_accession:string, sequence:string, position:int, length:int, clusters:array or 0, continuous:bool}]\n      data = this.partitionToThree(data)\n      var continuous = 0 // used to draw continuous axis over multiple proteins\n\n      var scale = 960 / Math.max(...(data.map(el => this.getListSum(el)))) // scale the viewport by the longest of the three lists in data\n\n      for (var i = 0; i < data.length; i++) {\n        var svg = this.d3.select('#container').append('svg').attr('class', 'row').attr('preserveAspectRatio', 'xMinYMin meet').attr('viewBox', '0 0 960 360') // 960 width preserving aspect ratio instead of using window.innerWidth\n\n        this.x = 0 // displacement from the left\n        this.y = 15\n        var offset = 0\n\n        if (i !== 0) { // if not the first residue, add placeholder grey arrow before it\n          // add arrow before\n          var prevLayer = data[i - 1]\n          var prefixName = prevLayer[prevLayer.length - 1]\n          var nextElem = data[i][0]\n          var prefixSize = Math.floor(nextElem.length / 500 + 1)\n          var large = false\n          if (prefixSize > 3) {\n            large = true\n          }\n          var placeholder = { id: 'placeholder', dark: true, placeholderLarge: large, primary_accession: prefixName.primary_accession, name: prefixName.name, synonym: prefixName.synonym, placeholder: true }\n          this.drawArrow(svg, placeholder, 150, 20, 20 / 1.5, offset, scale)\n          this.drawRuler(svg, placeholder, continuous, 150, 20 / 1.5, offset)\n          offset = offset + 150 + (20 / 1.5)\n        }\n\n        for (var n = 0; n < data[i].length; n++) {\n          var hadFragments = false\n          var height = 20 // the height of the rectangles, and the length of the triangle that is appended. Triangle width is 2*height\n          var triangleSize = height / 1.5\n          var width = this.getResidueSize(scale, data[i][n].length) - triangleSize // length of the residues, minus the width of the appended triangle\n          if (width < 0) {\n            triangleSize = this.getResidueSize(scale, data[i][n].length) // scale down the triangle\n            width = 0\n          }\n\n          // Draw the arrows for the protein\n          this.drawArrow(svg, data[i][n], width, height, triangleSize, offset, scale)\n\n          // draw the non-dark regions\n          // this.fillArrow(svg, data[i][n], width, height, triangleSize, offset, scale)\n\n          // Draw the axis\n          this.drawRuler(svg, data[i][n], continuous, width, triangleSize, offset)\n\n          if (data[i][n].continuous) {\n            continuous = data[i][n].length\n          } else {\n            continuous = 0\n          }\n\n          this.addNonDarkToFragments(data[i][n])\n\n          // Draw fragments if they exist\n          if (data[i][n].fragments.length !== 0) {\n            this.y = this.y + 33\n            hadFragments = true\n          }\n          this.drawFragments(svg, data[i][n].fragments, scale, offset)\n\n          // Draw the image of the protein if one exists, or fetch default if it does not\n          this.drawMatchingStructures(svg, data[i][n], width, height, triangleSize, offset, scale)\n\n          // Adjust the offset for the next protein\n          offset = offset + width + triangleSize\n          if (hadFragments) {\n            this.y = this.y - 33\n          }\n        }\n        if (i !== 0 && i !== data.length - 1) {\n          // add grey placeholder arrow after\n          var nextLayer = data[i + 1]\n          var nextName = nextLayer[0]\n          var prevElem = data[i - 1]\n          prefixSize = Math.floor(prevElem[prevElem.length - 1].length / 500 + 1)\n          large = false\n          if (prefixSize > 3) {\n            large = true\n          }\n          placeholder = { id: 'placeholder', dark: true, placeholderLarge: large, primary_accession: nextName.primary_accession, name: nextName.name, synonym: nextName.synonym, placeholder: true }\n          this.drawArrow(svg, placeholder, this.getResidueSize(scale, nextLayer[0].length) - 20 / 1.5, 20, 20 / 1.5, offset, scale)\n          // Draw the axis\n          this.drawRuler(svg, placeholder, continuous, this.getResidueSize(scale, nextLayer[0].length) - 20 / 1.5, 20 / 1.5, offset)\n        }\n\n        this.drawExpandButton(svg)\n      }\n      this.initialDisplay(false)\n    },\n\n    fillData (protein) {\n      var data = [{ offset: '0%', color: 'black' }]\n      if (protein.nonDark) {\n        console.log(protein.nonDark)\n        for (var i = 0; i < protein.nonDark.length; i++) {\n          var segment = protein.nonDark[i]\n          data.push({ offset: '' + 100 * (segment.Start / protein.length) + '%', color: 'black' }) // end of the black\n          data.push({ offset: '' + 100 * (segment.Start / protein.length) + '%', color: this.green }) // start of the green\n          data.push({ offset: '' + 100 * (segment.Stop / protein.length) + '%', color: this.green }) // end of the green\n          data.push({ offset: '' + 100 * (segment.Stop / protein.length) + '%', color: 'black' }) // start of the black\n        }\n      }\n      if (protein.placeholder) {\n        data = [{ offset: '0%', color: '#CCCCCC' }]\n      }\n      // data.push({ offset: '100%', color: 'black' })\n      return data\n    },\n\n    getNonDarkBetween (protein, start, stop) {\n      var nonDark = []\n      if (protein.nonDark) {\n        for (var i = 0; i < protein.nonDark.length; i++) {\n          if (protein.nonDark[i].Start <= start && protein.nonDark[i].Stop >= start) {\n            nonDark.push({ Start: 0, Stop: (protein.nonDark[i].Stop - start) })\n          } else if (protein.nonDark[i].Start >= start && protein.nonDark[i].Stop <= stop) {\n            nonDark.push({ Start: (protein.nonDark[i].Start - start), Stop: (protein.nonDark[i].Stop - start) })\n          } else if (protein.nonDark[i].Start <= stop && protein.nonDark[i].Stop >= stop) {\n            nonDark.push({ Start: (protein.nonDark[i].Start - start), Stop: (stop - start) })\n          }\n        }\n      }\n      return nonDark\n    },\n\n    splitToChunks (array, parts) {\n      var result = []\n      for (let i = parts; i > 0; i--) {\n        result.push(array.splice(0, Math.ceil(array.length / i)))\n      }\n      return result\n    },\n\n    addNonDarkToFragments (protein) {\n      if (protein.fragments) {\n        for (var j = 0; j < protein.fragments.length; j++) {\n          var fragment = protein.fragments[j]\n          protein.fragments[j].nonDark = this.getNonDarkBetween(protein, fragment.Start, fragment.Stop)\n        }\n      }\n    },\n\n    /* eslint-enable */\n\n    drawArrow (svg, protein, width, height, triangleSize, offset, scale) {\n      // var fill = protein.dark ? 'black' : this.green\n      // create a rectangle\n      var fill = this.fillData(protein)\n      var id = protein.id ? protein.id : protein.primary_accession\n      console.log(id)\n      var hoverText = protein.description ? protein.description : protein.name\n\n      // split longer proteins into multiple rectangles to get around chrome issue. No more than 7 explicit start / end definitions\n      // this is necessary for some browers like chrome, which renders large gradients with many explicit divisions incorrectly\n      if (fill.length > 14 && width > 300) {\n        var prevOffset = 0\n        var nonDarkFragments = JSON.parse(JSON.stringify(protein.nonDark))\n        var numChunks = Math.floor(fill.length / 10) > 4 ? Math.floor(fill.length / 10) : 4\n\n        var newFill = this.splitToChunks(nonDarkFragments, numChunks) // can split into more chunks if needed to get around chrome blurring\n        var prevStop = 0\n        for (var i = 0; i < newFill.length; i++) {\n          var len = newFill[i].slice(-1)[0].Stop - prevStop\n          if (i === newFill.length - 1) {\n            len = protein.length - prevStop\n          }\n          var fragmentWidth = this.getResidueSize(scale, len)\n          for (var k = 0; k < newFill[i].length; k++) {\n            newFill[i][k].Start = newFill[i][k].Start - prevStop\n            newFill[i][k].Stop = newFill[i][k].Stop - prevStop\n          }\n\n          var shapeFill = this.fillData({ length: len, nonDark: newFill[i] })\n\n          svg.append('linearGradient')\n            .attr('id', 'grad_partial_' + id + '_' + i)\n            .attr('x1', '0%').attr('y1', '0%')\n            .attr('x2', '100%').attr('y2', '0%')\n            .selectAll('stop')\n            .data(shapeFill)\n            // .data([{\"offset\":\"0%\",\"color\":\"black\"},{\"offset\":\"0%\",\"color\":\"black\"},{\"offset\":\"0%\",\"color\":\"#7A9D5B\"},{\"offset\":\"2%\",\"color\":\"#7A9D5B\"},{\"offset\":\"2%\",\"color\":\"black\"},{\"offset\":\"3%\",\"color\":\"black\"},{\"offset\":\"3%\",\"color\":\"#7A9D5B\"},{\"offset\":\"4%\",\"color\":\"#7A9D5B\"},{\"offset\":\"4%\",\"color\":\"black\"},{\"offset\":\"18%\",\"color\":\"black\"},{\"offset\":\"18%\",\"color\":\"#7A9D5B\"},{\"offset\":\"21%\",\"color\":\"#7A9D5B\"},{\"offset\":\"21%\",\"color\":\"black\"},{\"offset\":\"23%\",\"color\":\"black\"},{\"offset\":\"23%\",\"color\":\"#7A9D5B\"},{\"offset\":\"27%\",\"color\":\"#7A9D5B\"},{\"offset\":\"27%\",\"color\":\"black\"},{\"offset\":\"27%\",\"color\":\"black\"},{\"offset\":\"27%\",\"color\":\"#7A9D5B\"},{\"offset\":\"42%\",\"color\":\"#7A9D5B\"},{\"offset\":\"42%\",\"color\":\"black\"},{\"offset\":\"42%\",\"color\":\"black\"},{\"offset\":\"42%\",\"color\":\"#7A9D5B\"},{\"offset\":\"45%\",\"color\":\"#7A9D5B\"},{\"offset\":\"45%\",\"color\":\"black\"},{\"offset\":\"71%\",\"color\":\"black\"},{\"offset\":\"71%\",\"color\":\"#7A9D5B\"},{\"offset\":\"72%\",\"color\":\"#7A9D5B\"},{\"offset\":\"72%\",\"color\":\"black\"},{\"offset\":\"72%\",\"color\":\"black\"},{\"offset\":\"72%\",\"color\":\"#7A9D5B\"},{\"offset\":\"81%\",\"color\":\"#7A9D5B\"},{\"offset\":\"81%\",\"color\":\"black\"},{\"offset\":\"87%\",\"color\":\"black\"},{\"offset\":\"87%\",\"color\":\"#7A9D5B\"},{\"offset\":\"99%\",\"color\":\"#7A9D5B\"},{\"offset\":\"99%\",\"color\":\"black\"}])\n            .enter().append('stop')\n            .attr('offset', function (d) { return d.offset })\n            .attr('stop-color', function (d) { return d.color })\n            .attr('stop-opacity', 1)\n\n          if (i === newFill.length - 1) {\n            var rectLen = fragmentWidth - triangleSize\n            let p\n            if (rectLen > 0) {\n              p = [this.x, this.y, this.x, this.y + height, this.x + rectLen, this.y + height, this.x + rectLen, this.y + (0.5 * height) + triangleSize, this.x + rectLen + triangleSize, this.y + 0.5 * height, this.x + rectLen, this.y + (0.5 * height) - triangleSize, this.x + rectLen, this.y]\n            } else {\n              p = [this.x, this.y + (0.5 * height) - triangleSize, this.x, this.y + (0.5 * height) + triangleSize, this.x + triangleSize, this.y + (0.5 * height)] // point 1 x coords, y coords. Point 2 x, y. Point 3 x,y.\n            }\n\n            // create an arrow\n            svg.append('svg:polygon')\n              .attr('points', p)\n              // .attr('fill', fill)\n              .attr('fill', 'url(#grad_partial_' + id + '_' + i + ')')\n              .attr('id', id)\n              .attr('title', id)\n              .attr('transform', 'translate(' + (offset + prevOffset) + ',0)')\n              .attr('class', 'arrow')\n              .on('mouseover', function (d, i) {\n                var d3 = require('d3')\n                d3.select(this).attr('opacity', '.85')\n                d3.selectAll('rect#' + this.id).attr('opacity', '.85')\n                this.style.cursor = 'pointer'\n              })\n              .on('mouseout', function (d, i) {\n                var d3 = require('d3')\n                d3.select(this).attr('opacity', '1')\n                d3.selectAll('rect#' + this.id).attr('opacity', '1')\n              })\n              .on('click', function () {\n                var d3 = require('d3')\n                var baseUrl = window.location.origin\n                window.open(baseUrl + '/' + d3.select(this).attr('title'))\n              })\n              .append('svg:title')\n              .text(hoverText)\n          } else {\n            // create an arrow\n            svg.append('svg:rect')\n              .attr('fill', 'url(#grad_partial_' + id + '_' + i + ')')\n              .attr('x', this.x)\n              .attr('y', this.y)\n              .attr('width', fragmentWidth)\n              .attr('height', height)\n              .attr('id', id)\n              .attr('class', 'arrow')\n              .attr('title', id)\n              .attr('transform', 'translate(' + (offset + prevOffset) + ',0)')\n              .on('mouseover', function (d, i) {\n                var d3 = require('d3')\n                d3.select(this).attr('opacity', '.85')\n                d3.selectAll('rect#' + this.id).attr('opacity', '.85')\n                d3.selectAll('polygon#' + this.id).attr('opacity', '.85')\n                this.style.cursor = 'pointer'\n              })\n              .on('mouseout', function (d, i) {\n                var d3 = require('d3')\n                d3.select(this).attr('opacity', '1')\n                d3.selectAll('rect#' + this.id).attr('opacity', '1')\n                d3.selectAll('polygon#' + this.id).attr('opacity', '1')\n              })\n              .on('click', function () {\n                var d3 = require('d3')\n                var baseUrl = window.location.origin\n                window.open(baseUrl + '/' + d3.select(this).attr('title'))\n              })\n              .append('svg:title')\n              .text(hoverText)\n          }\n          prevStop = prevStop + len\n          prevOffset = prevOffset + fragmentWidth\n        }\n      } else {\n        svg.append('linearGradient')\n          .attr('id', 'grad_' + id)\n          .attr('x1', '0%').attr('y1', '0%')\n          .attr('x2', '100%').attr('y2', '0%')\n          .selectAll('stop')\n          .data(fill)\n          .enter().append('stop')\n          .attr('offset', function (d) { return d.offset })\n          .attr('stop-color', function (d) { return d.color })\n          .attr('stop-opacity', 1)\n\n        let p\n        if (width > 0) {\n          p = [this.x, this.y, this.x, this.y + height, this.x + width, this.y + height, this.x + width, this.y + (0.5 * height) + triangleSize, this.x + width + triangleSize, this.y + 0.5 * height, this.x + width, this.y + (0.5 * height) - triangleSize, this.x + width, this.y]\n        } else {\n          p = [this.x, this.y + (0.5 * height) - triangleSize, this.x, this.y + (0.5 * height) + triangleSize, this.x + triangleSize, this.y + (0.5 * height)] // point 1 x coords, y coords. Point 2 x, y. Point 3 x,y.\n        }\n\n        // create an arrow\n        svg.append('svg:polygon')\n          .attr('points', p)\n          // .attr('fill', fill)\n          .attr('fill', 'url(#grad_' + id + ')')\n          .attr('id', id)\n          .attr('title', id)\n          .attr('class', 'arrow')\n          .attr('transform', 'translate(' + offset + ',0)')\n          .on('mouseover', function (d, i) {\n            var d3 = require('d3')\n            this.style.cursor = 'pointer'\n            d3.select(this).attr('opacity', '.85')\n            // d3.select('rect#' + this.id).transition().duration('50').attr('opacity', '.85')\n          })\n          .on('mouseout', function (d, i) {\n            var d3 = require('d3')\n            d3.select(this).attr('opacity', '1')\n            // d3.select('rect#' + this.id).transition().duration('50').attr('opacity', '1')\n          })\n          .on('click', function () {\n            var d3 = require('d3')\n            var baseUrl = window.location.origin\n            window.open(baseUrl + '/' + d3.select(this).attr('title'))\n          })\n          .append('svg:title')\n          .text(hoverText)\n      }\n\n      // append protein names to the rectangles\n      var lab = svg.append('text')\n        .attr('x', this.x + 0.5 * (width + 0.5 * triangleSize))\n        .attr('y', this.y + 0.5 * height)\n        .attr('transform', 'translate(' + offset + ',0)')\n        .attr('dy', '.35em')\n        .style('text-anchor', 'middle')\n        .attr('class', 'arrow')\n        .style('fill', 'white')\n        .text(protein.name)\n\n      if (lab.node().getComputedTextLength() > width) {\n        lab.text(protein.synonym[0]) // prefer the first synonym\n        if (lab.node().getComputedTextLength() > width) { // if it's too long\n          var shortest = protein.synonym.reduce((a, b) => a.length <= b.length ? a : b)\n          shortest = shortest.replace('orf', '').replace('ORF', '')\n          lab.text(shortest) // use the shortest name\n          if (lab.node().getComputedTextLength() > width + 0.5 * triangleSize) {\n            // if the shortest name still doesn't fit, display it below the arrow in green\n            lab.attr('y', this.y + height * 1.5)\n            lab.style('fill', this.green)\n            lab.attr('class', 'rowContent')\n          }\n        }\n      }\n    },\n\n    drawRuler (svg, protein, continuous, width, triangleSize, offset) {\n      // Draw the axis\n      var range = [1, width + triangleSize - 1]\n      if (continuous) range = [0, width + triangleSize]\n      var xScale = this.d3.scale.linear()\n        .domain([continuous, continuous + protein.length]) // This is what is written on the Axis: from 0 to length of residue\n        .range(range) // This is where the axis is placed: from start to end of triangle. Add a tiny bit of spacing between the two\n\n      var ticks = Math.floor(protein.length / 500 + 1) // a tick every 500 residues\n      if (ticks > 3 || protein.placeholderLarge) { // if longer than 1500 residues\n        if (protein.placeholderLarge) ticks = 0\n        var axis = svg\n          .append('g')\n          .attr('transform', 'translate(' + offset + ',' + (this.y - 15) + ')') // This controls the vertical position of the Axis\n          .attr('style', '')\n          .style('fill', 'gray')\n          .style('font-size', '10px')\n          .attr('class', 'rowContent')\n          .call(this.d3.svg.axis().scale(xScale).tickSize(0, 1).tickFormat((interval, i) => { return (interval === 0 || interval % 1000 !== 0) ? ' ' : interval }).orient('bottom').ticks(ticks)) // render only thousand ticks\n          // .call(g => g.selectAll('text')\n          //   .attr('y', 4)\n          //   .attr('dx', -4)) // shifts text to the left.\n        if (protein.placeholder) {\n          axis.style('fill', '#CCCCCC')\n        }\n\n        axis.selectAll('.tick')\n          .attr('stroke', 'gray')\n          .attr('x1', this.x)\n          .attr('x2', this.x)\n          .attr('y2', 0)\n          .attr('y1', 3)\n          .attr('stroke-width', '1')\n      } else if (protein.length > 200 || protein.placeholder) {\n        ticks = 2\n        if (protein.placeholder) ticks = 0\n        var smallAxis = svg.append('g')\n          .attr('transform', 'translate(' + offset + ',' + (this.y - 10) + ')')\n          .style('fill', 'gray')\n          .attr('class', 'rowContent')\n          .call(this.d3.svg.axis().scale(this.d3.scale.linear().domain([0, 1]).range([1, width + triangleSize - 1])).tickSize(2, 1).orient('top').ticks(ticks).tickFormat(''))\n\n        smallAxis.selectAll('.tick')\n          .attr('stroke', 'gray')\n          .attr('x1', this.x)\n          .attr('y1', 4) // height of the ticks\n          .attr('y2', -1) // displacement from the line\n          .attr('stroke-width', '1')\n\n        if (protein.placeholder) {\n          smallAxis.style('fill', '#CCCCCC')\n        }\n\n        var axisLabel = svg.append('text')\n          .attr('x', this.x + 0.5 * (width + triangleSize))\n          .attr('y', this.y - 10)\n          .attr('dy', '.35em')\n          .style('text-anchor', 'middle')\n          .attr('transform', 'translate(' + offset + ',0)')\n          .style('fill', 'gray')\n          .style('font-size', '10px')\n          .attr('class', 'rowContent')\n          .text(protein.length)\n\n        svg.append('rect', 'text') // draw a white rectangle\n          .datum(function () { return axisLabel.node().getBBox() })\n          .attr('x', function (d) { return d.x - 2 })\n          .attr('y', function (d) { return d.y })\n          .style('fill', this.backgroundColour)\n          .attr('transform', 'translate(' + offset + ',0)')\n          .attr('class', 'rowContent')\n          .attr('width', function (d) { return d.width + 2 * 2 })\n          .attr('height', function (d) { return d.height })\n\n        axisLabel.node().parentNode.appendChild(axisLabel.node()) // put label above rectangle\n      }\n    },\n\n    drawFragments (svg, fragments, scale, offset) {\n      for (var i = 0; i < fragments.length; i++) {\n        console.log(fragments)\n        var protein = {\n          name: fragments[i].Name,\n          primary_accession: fragments[i].Primary_Accession,\n          synonym: [fragments[i].Short_Name].concat(fragments[i].Short_Name.match(/[0-9]+/g)),\n          Start: fragments[i].Start,\n          Stop: fragments[i].Stop,\n          pdb: null,\n          length: (fragments[i].Stop - fragments[i].Start),\n          id: fragments[i].Primary_Accession + '_' + fragments[i].Short_Name,\n          nonDark: fragments[i].nonDark,\n          description: fragments[i].Description\n        }\n        var len = fragments[i].Stop - fragments[i].Start\n        var height = 20 // the height of the rectangles, and the length of the triangle that is appended. Triangle width is 2*height\n        var triangleSize = height / 1.5\n        var width = this.getResidueSize(scale, len) - triangleSize // length of the residues, minus the width of the appended triangle\n        if (width < 0) {\n          triangleSize = this.getResidueSize(scale, len) // scale down the triangle\n          width = 0\n        }\n        if (i === 0) {\n          this.drawArrow(svg, protein, width, height, triangleSize, offset, scale)\n          offset = offset + width + triangleSize\n        // if the start of the fragment is after the end of the previous fragment (not occupying the same space)\n        } else if (fragments[i].Start >= fragments[i - 1].Stop) {\n          this.drawArrow(svg, protein, width, height, triangleSize, offset, scale) // draw the fragment\n          offset = offset + width + triangleSize\n        }\n      }\n    },\n\n    renderImage (svg, protein, width, height, offset, imgYOffset, link) {\n      // Add the image of the protein if one exists\n      // TODO: trim images and crop them down.\n      // Add a rectangle? pass in the pdb id and link?\n      var imgSize = (width < 120 ? width : 120) + 10\n      var xOffset = protein.Start ? protein.Start : 0\n\n      if (link) {\n        svg.append('rect', 'text') // draw a white rectangle\n          .attr('x', width * 0.5 + xOffset) // for the nsp matching structures, add the starting distance of the fragment\n          .attr('y', this.y + height)\n          .style('fill', this.backgroundColour)\n          .attr('transform', 'translate(' + (offset - imgSize / 2) + ',' + (20 + imgYOffset) + ')')\n          .attr('width', imgSize)\n          .attr('height', 200)\n          .attr('title', link)\n          .on('mouseover', function (d, i) {\n            var d3 = require('d3')\n            d3.select(this).transition().duration(500).style('fill', 'orange')\n            this.style.cursor = 'pointer'\n          })\n          .on('mouseout', function (d, i) {\n            var d3 = require('d3')\n            d3.select(this).transition().duration(500).style('fill', 'white')\n          })\n          .on('click', function () {\n            var d3 = require('d3')\n            var l = d3.select(this).attr('title')\n            if (l) {\n              var baseUrl = window.location.origin\n              window.open(baseUrl + '/' + d3.select(this).attr('title'))\n            }\n          })\n\n        var img = svg.append('svg:image') // add the image of the protein\n          .attr('x', width * 0.5 + xOffset) // for the nsp matching structures, add the starting distance of the fragment\n          .attr('y', this.y + height)\n          .attr('transform', 'translate(' + (offset - imgSize / 2) + ',' + (20 + imgYOffset) + ')') // - half its width to have image anchor center\n          .attr('width', imgSize)\n          .attr('height', imgSize)\n          // need to change this on error function so it doesnt loop infinitely if an image cannot be fetched\n          // .on('error', function () {\n          //   console.log('loading image from server')\n          //   var d3 = require('d3') // if a saved image doesnt exist, get one from server\n          //   d3.select(this).attr('xlink:href', 'https://aquaria.ws:8080/image/' + protein.primary_accession + '/' + protein.pdb + '?color=0x000000&alpha=0')\n          // })\n          .style('pointer-events', 'none')\n\n        if (!protein.dark && protein.pdb) {\n          img.attr('xlink:href', '../images/pdb/' + protein.pdb + '.png')\n        } else {\n          img.attr('xlink:href', '../images/covid19/unknown-structure_1000.png')\n          img.style('visibility', 'hidden')\n        }\n      }\n    },\n\n    splitLargeGaps (clusters) {\n      // split on 100 residues gaps. issues are caused by 188 residues\n      for (var i = 0; i < clusters.length; i++) {\n        var cluster = clusters[i]\n        if (cluster.seq_start.length > 1) { // if there are gaps in the alignment\n          for (var j = 0; j < cluster.seq_start.length - 1; j++) {\n            if (cluster.seq_start[j + 1] - cluster.seq_end[j] > 100) { // if there is a 100 length gap between two starts / stops\n              var newCluster = JSON.parse(JSON.stringify(cluster))\n              newCluster.seq_start = cluster.seq_start.slice(0, j + 1)\n              newCluster.seq_end = cluster.seq_end.slice(0, j + 1)\n              clusters[i].seq_start = cluster.seq_start.slice(j + 1)\n              clusters[i].seq_end = cluster.seq_end.slice(j + 1)\n              clusters.push(newCluster)\n              break\n            }\n          }\n        }\n      }\n      return clusters\n    },\n\n    // add url to the structures, and merge the overlapping structures into the top ranked structure if overlaps by more than 80%? 70%?\n\n    drawMatchingStructures (svg, protein, width, height, triangleSize, offset, s) {\n      var imgYOffset = 30\n      // draw the bottom matching structures axis\n\n      if (protein.clusters) {\n        protein.clusters = this.splitLargeGaps(protein.clusters)\n        protein.clusters = protein.clusters.filter(c => c.seq_start[0] >= 0) // for split proteins, take only the sections that start after 0\n\n        // sort by length of matched structure, largest first\n        protein.clusters.sort((a, b) => (a.cluster_size > b.cluster_size) ? -1 : ((b.cluster_size > a.cluster_size) ? 1 : 0))\n\n        var i = 1\n        // for each protein j, check all later proteins i and merge any compatible ones.\n        while (i < protein.clusters.length) {\n          var j = 0\n\n          var spliced = false\n\n          // if i not merged into j\n          // TODO: does not currently filter out the same pdb id created from splitting.\n          while (j < i && !spliced) {\n            // get the start and end of both sequences\n            var start1 = Math.min(...protein.clusters[j].seq_start)\n            var start2 = Math.min(...protein.clusters[i].seq_start)\n            var end1 = Math.max(...protein.clusters[j].seq_end)\n            var end2 = Math.max(...protein.clusters[i].seq_end)\n            // if i is within j, merge i into j\n            if (start1 <= start2 && end1 >= end2) {\n              protein.clusters[j].cluster_size += protein.clusters[i].cluster_size\n              protein.clusters.splice(i, 1)\n              spliced = true\n            // otherwise merge i into j if there is a significant % overlap\n            } else if ((start1 > start2 && start1 - start2 < 0.9 * (end2 - start2)) ||\n                      (end1 < end2 && end2 - end1 < 0.9 * (end2 - start2))) { // (Math.abs(start1 - start2) + Math.abs(end1 - end2) < 0.8 * (end1 - start1)) {\n              protein.clusters[j].cluster_size += protein.clusters[i].cluster_size\n              // modify the start and end locations of the new structure\n              protein.clusters[j].seq_start = [Math.min(start1, start2)]\n              protein.clusters[j].seq_end = [Math.max(end1, end2)]\n              protein.clusters.splice(i, 1)\n              spliced = true\n            }\n            j++\n          }\n\n          if (!spliced) {\n            i++\n          }\n        }\n\n        // TODO CURRENTLY JUST REMOVES ALL REMAINING < 20 RESIDUES in length\n        protein.clusters = protein.clusters.filter(c => Math.max(...c.seq_end) - Math.min(...c.seq_start) > 20)\n\n        protein.clusters.forEach(cluster => {\n          var start = this.getResidueSize(s, cluster.seq_start[0])\n          if (cluster.seq_start < 0) {\n            return\n          }\n          var end = this.getResidueSize(s, cluster.seq_end[cluster.seq_end.length - 1])\n          if (cluster.seq_end > protein.length) {\n            return\n          }\n\n          var matchingScale = this.d3.scale.linear()\n            .domain([0, 2]) // This is what is written on the Axis: from 0 to length of residue\n            // .range([2, width + triangleSize - 2]) // This is where the axis is placed: from start to end of triangle. Add a tiny bit of spacing between the two\n            .range([start + 1, end - 1]) // leave a small gap\n            .nice()\n\n          var matchingAxis = svg\n            .append('g')\n            .attr('transform', 'translate(' + offset + ',' + (this.y + height + 10) + ')') // This controls the vertical position of the Axis\n            .attr('style', '')\n            .style('fill', this.green)\n            .style('font-size', '10px')\n            .call(this.d3.svg.axis().scale(matchingScale).tickSize(0, 1).tickFormat('').orient('bottom').ticks(2)) // render only two ticks\n\n          // Create a long down tick in the centre of the bottom axis\n          this.d3.select(matchingAxis.selectAll('.tick')[0][1])\n            .attr('stroke', this.green)\n            .attr('x1', this.x)\n            .attr('x2', this.x)\n            .attr('y2', 0)\n            .attr('y1', imgYOffset)\n            .attr('stroke-width', '1')\n\n          var matchingLabel = svg.append('text') // set this as var la\n            .datum(function () { return matchingAxis.node().getBBox() })\n            // .attr('x', this.x + 0.5 * (width + triangleSize))\n            .attr('x', function (d) { return d.x + 0.5 * d.width })\n            .attr('y', this.y + height + imgYOffset + 5) // the axis offset from matchingAxis\n            .attr('dy', '.35em')\n            .style('text-anchor', 'middle')\n            .attr('transform', 'translate(' + offset + ',0)')\n            .style('fill', 'white')\n            .style('font-size', '12px')\n            .text(cluster.cluster_size)\n            .attr('title', protein.primary_accession + '/' + cluster.pdb_id)\n            .style('pointer-events', 'none')\n\n          svg.append('rect', 'text') // draw a green round rectangle\n            .datum(function () { return matchingLabel.node().getBBox() })\n            .attr('x', function (d) { return d.x - 4 })\n            .attr('y', function (d) { return d.y })\n            .attr('rx', 6)\n            .attr('ry', 10)\n            .style('fill', this.green)\n            .attr('transform', 'translate(' + offset + ',0)')\n            .attr('width', function (d) { return d.width + 4 * 2 })\n            .attr('height', function (d) { return d.height })\n            .attr('title', protein.primary_accession + '/' + cluster.pdb_id)\n            .on('click', function () {\n              var d3 = require('d3')\n              console.log(d3.select(this).attr('title'))\n              var baseUrl = window.location.origin\n              window.open(baseUrl + '/' + d3.select(this).attr('title'))\n            })\n            .on('mouseover', function () {\n              this.style.cursor = 'pointer'\n            })\n\n          matchingLabel.node().parentNode.appendChild(matchingLabel.node()) // put label above rectangle\n\n          var imageObj = {\n            name: cluster.pdb_id,\n            primary_accession: protein.primary_accession,\n            Start: start,\n            Stop: end,\n            pdb: cluster.pdb_id,\n            length: (end - start),\n            id: protein.primary_accession + '_' + cluster.pdb_id,\n            nonDark: true\n          }\n          // TODO: white rectangle behind render image?\n          this.renderImage(svg, imageObj, (end - start), height, offset, imgYOffset, protein.primary_accession + '/' + cluster.pdb_id)\n        })\n      } else {\n        this.renderImage(svg, protein, width, height, offset, imgYOffset, '')\n      }\n    },\n\n    drawExpandButton (svg) {\n      // Create the expand and collapse button\n      var expandButton = svg.append('svg:rect')\n        .attr('x', 0)\n        .attr('y', 0)\n        .attr('stroke', '#CCCCCC')\n        .attr('fill', '#CCCCCC')\n        .attr('opacity', 0.80)\n        .attr('width', window.innerWidth)\n        .attr('height', 30)\n        .attr('id', 'expand')\n\n      if (window.innerHeight > window.innerWidth) {\n        expandButton.attr('display', 'none')\n      }\n\n      expandButton.on('mouseover', function (d, i) {\n        var d3 = require('d3')\n        d3.select(this.parentNode).select('path#expand:last-child').attr('stroke', 'orange')\n        this.style.cursor = 'pointer'\n      })\n        .on('mouseout', function (d, i) {\n          var d3 = require('d3')\n          d3.select(this.parentNode).select('path#expand:last-child').attr('stroke', '#CCCCCC')\n        })\n\n      expandButton.on('click', function (d, i) {\n        var d3 = require('d3')\n\n        if (this.parentNode.className.baseVal.split(' ').indexOf('open') > -1) { // if current row is open\n          d3.select(this.parentNode).classed('open', false)\n          d3.selectAll('.row').transition().duration(1000).attr('viewBox', '0 0 960 35')\n          d3.selectAll('.rowContent').transition().duration(1000).attr('opacity', 0)\n        } else {\n          d3.selectAll('.open').selectAll('rect#expand').attr('opacity', 0)\n          d3.selectAll('.open').selectAll('rect#expand').attr('display', 'block')\n          d3.selectAll('.open').selectAll('rect#expand').transition().duration(1000).attr('opacity', 0.8)\n\n          d3.selectAll('.open').selectAll('path#expand').attr('opacity', 0)\n          d3.selectAll('.open').selectAll('path#expand').attr('display', 'block')\n          d3.selectAll('.open').selectAll('path#expand').transition().duration(1000).attr('opacity', 1)\n\n          d3.selectAll('.arrow').transition().duration(1000).attr('transform', function () {\n            var transform = d3.transform(d3.select(this).attr('transform'))\n            return 'translate(' + transform.translate[0] + ', -10)'\n          })\n\n          d3.selectAll('.row').classed('open', false)\n          d3.selectAll('.row').transition().duration(1000).attr('viewBox', '0 0 960 35')\n          d3.selectAll('.rowContent').transition().duration(1000).attr('opacity', 0)\n\n          d3.select(this.parentNode).classed('open', true)\n          d3.select(this).attr('display', 'none')\n          // d3.selectAll('.open').transition().duration(1000).attr('viewBox', '0 0 960 ' + viewboxHeight)\n          d3.select(this.parentNode).selectAll('path#expand').attr('display', 'none')\n          d3.selectAll('.open').transition().duration(1000).attr('viewBox', '0 0 960 360')\n          d3.selectAll('.open .rowContent').transition().duration(1000).attr('opacity', 1)\n\n          d3.select(this.parentNode).selectAll('.arrow').transition().duration(1000).attr('transform', function () {\n            var transform = d3.transform(d3.select(this).attr('transform'))\n            return 'translate(' + transform.translate[0] + ', 0)'\n          })\n\n          // change the direction of the semi-circle arrows\n          var rows = d3.selectAll('.row')\n          var foundOpen = false\n          var topOpen = true\n          for (var j = 0; j < rows[0].length; j++) {\n            if (d3.select(rows[0][j]).classed('open')) {\n              foundOpen = true\n            }\n            if (!foundOpen) {\n              topOpen = false\n              // document.getElementById('container').style.padding = '8px 0px 0px 0px'\n              d3.select('#container').transition().duration(1000).style('padding', '8px 0px 0px 0px')\n              d3.select(rows[0][j]).select('path#expand').attr('transform', 'translate(' + 480 + ',' + 30 + ')')\n              d3.select(rows[0][j]).select('path#expand:last-child').attr('transform', 'scale(1, -1) translate(' + 480 + ', -' + 30 + ')')\n            } else {\n              d3.select(rows[0][j]).select('path#expand').attr('transform', 'scale(1, -1) translate(' + 480 + ', -' + 0 + ')')\n              d3.select(rows[0][j]).select('path#expand:last-child').attr('transform', 'translate(' + 480 + ',' + 0 + ')')\n            }\n          }\n          if (topOpen) {\n            // document.getElementById('container').style.padding = '0px 0px 0px 0px'\n            d3.select('#container').transition().duration(1000).style('padding', '0px 0px 0px 0px')\n          }\n        }\n      })\n\n      this.renderHalfMoon(svg, 480, 0)\n    },\n\n    renderHalfMoon (svg, x, y) {\n      var arcGenerator = this.d3.svg.arc()\n        .outerRadius(20)\n        .innerRadius(0)\n        .startAngle(-Math.PI / 2)\n        .endAngle(Math.PI / 2)\n\n      var semicircle = svg.append('path')\n        .attr('transform', 'scale(1, -1) translate(' + x + ', -' + y + ')')\n        .attr('d', arcGenerator())\n        .attr('fill', 'gray')\n        .attr('id', 'expand')\n        .on('mouseover', function (d, i) {\n          var d3 = require('d3')\n          d3.select(this.parentNode).select('path#expand:last-child').attr('stroke', 'orange')\n          this.style.cursor = 'pointer'\n        })\n        .on('mouseout', function (d, i) {\n          var d3 = require('d3')\n          d3.select(this.parentNode).select('path#expand:last-child').attr('stroke', '#CCCCCC')\n        })\n\n      var arrow = svg.append('path')\n        .attr('transform', 'translate(' + x + ',' + y + ')')\n        .attr('d', 'M-8 12 0 5 8 12')\n        .attr('stroke', '#CCCCCC')\n        .attr('stroke-width', 3)\n        .attr('fill', 'transparent')\n        .attr('id', 'expand')\n        .on('mouseover', function (d, i) {\n          var d3 = require('d3')\n          d3.select(this).attr('stroke', 'orange')\n          this.style.cursor = 'pointer'\n        })\n        .on('mouseout', function (d, i) {\n          var d3 = require('d3')\n          d3.select(this).attr('stroke', '#CCCCCC')\n        })\n\n      arrow.on('click', function (d, i) {\n        var d3 = require('d3')\n\n        d3.selectAll('.open').selectAll('rect#expand').attr('opacity', 0)\n        d3.selectAll('.open').selectAll('rect#expand').attr('display', 'block')\n        d3.selectAll('.open').selectAll('rect#expand').transition().duration(1000).attr('opacity', 0.8)\n\n        d3.selectAll('.open').selectAll('path#expand').attr('opacity', 0)\n        d3.selectAll('.open').selectAll('path#expand').attr('display', 'block')\n        d3.selectAll('.open').selectAll('path#expand').transition().duration(1000).attr('opacity', 1)\n\n        d3.selectAll('.row').classed('open', false)\n        d3.selectAll('.row').transition().duration(1000).attr('viewBox', '0 0 960 35')\n        d3.selectAll('.rowContent').transition().duration(1000).attr('opacity', 0)\n\n        d3.selectAll('.arrow').transition().duration(1000).attr('transform', function () {\n          var transform = d3.transform(d3.select(this).attr('transform'))\n          return 'translate(' + transform.translate[0] + ', -10)'\n        })\n\n        d3.selectAll('.row').classed('open', false)\n        d3.selectAll('.row').transition().duration(1000).attr('viewBox', '0 0 960 35')\n        d3.selectAll('.rowContent').transition().duration(1000).attr('opacity', 0)\n\n        d3.select(this.parentNode).classed('open', true)\n        d3.select(this.parentNode).selectAll('rect#expand').attr('display', 'none')\n        d3.select(this.parentNode).selectAll('path#expand').attr('display', 'none')\n        d3.selectAll('.open').transition().duration(1000).attr('viewBox', '0 0 960 360')\n        d3.selectAll('.open .rowContent').transition().duration(1000).attr('opacity', 1)\n\n        d3.select(this.parentNode).selectAll('.arrow').transition().duration(1000).attr('transform', function () {\n          var transform = d3.transform(d3.select(this).attr('transform'))\n          return 'translate(' + transform.translate[0] + ', 0)'\n        })\n\n        // change the direction of the semi-circle arrows\n        var rows = d3.selectAll('.row')\n        var foundOpen = false\n        var topOpen = true\n        for (var j = 0; j < rows[0].length; j++) {\n          if (d3.select(rows[0][j]).classed('open')) {\n            foundOpen = true\n          }\n          if (!foundOpen) {\n            topOpen = false\n            d3.select('#container').transition().duration(1000).style('padding', '8px 0px 0px 0px')\n            d3.select(rows[0][j]).select('path#expand').attr('transform', 'translate(' + 480 + ',' + 30 + ')')\n            d3.select(rows[0][j]).select('path#expand:last-child').attr('transform', 'scale(1, -1) translate(' + 480 + ', -' + 30 + ')')\n          } else {\n            d3.select('#container').transition().duration(1000).style('padding', '0px 0px 0px 0px')\n            d3.select(rows[0][j]).select('path#expand').attr('transform', 'scale(1, -1) translate(' + 480 + ', -' + 0 + ')')\n            d3.select(rows[0][j]).select('path#expand:last-child').attr('transform', 'translate(' + 480 + ',' + 0 + ')')\n          }\n        }\n        if (topOpen) {\n          d3.select('#container').transition().duration(1000).style('padding', '0px 0px 0px 0px')\n        }\n      })\n\n      semicircle.on('click', function (d, i) {\n        var d3 = require('d3')\n\n        d3.selectAll('.open').selectAll('rect#expand').attr('opacity', 0)\n        d3.selectAll('.open').selectAll('rect#expand').attr('display', 'block')\n        d3.selectAll('.open').selectAll('rect#expand').transition().duration(1000).attr('opacity', 0.8)\n\n        d3.selectAll('.open').selectAll('path#expand').attr('opacity', 0)\n        d3.selectAll('.open').selectAll('path#expand').attr('display', 'block')\n        d3.selectAll('.open').selectAll('path#expand').transition().duration(1000).attr('opacity', 1)\n\n        d3.selectAll('.arrow').transition().duration(1000).attr('transform', function () {\n          var transform = d3.transform(d3.select(this).attr('transform'))\n          return 'translate(' + transform.translate[0] + ', -10)'\n        })\n\n        d3.selectAll('.row').classed('open', false)\n        d3.selectAll('.row').transition().duration(1000).attr('viewBox', '0 0 960 35')\n        d3.selectAll('.rowContent').transition().duration(1000).attr('opacity', 0)\n\n        d3.select(this.parentNode).classed('open', true)\n        d3.select(this.parentNode).selectAll('rect#expand').attr('display', 'none')\n        d3.select(this.parentNode).selectAll('path#expand').attr('display', 'none')\n        d3.selectAll('.open').transition().duration(1000).attr('viewBox', '0 0 960 360')\n        d3.selectAll('.open .rowContent').transition().duration(1000).attr('opacity', 1)\n\n        d3.select(this.parentNode).selectAll('.arrow').transition().duration(1000).attr('transform', function () {\n          var transform = d3.transform(d3.select(this).attr('transform'))\n          return 'translate(' + transform.translate[0] + ', 0)'\n        })\n\n        // change the direction of the semi-circle arrows\n        var rows = d3.selectAll('.row')\n        var foundOpen = false\n        var topOpen = true\n        for (var j = 0; j < rows[0].length; j++) {\n          if (d3.select(rows[0][j]).classed('open')) {\n            foundOpen = true\n          }\n          if (!foundOpen) {\n            topOpen = false\n            d3.select('#container').transition().duration(1000).style('padding', '8px 0px 0px 0px')\n            d3.select(rows[0][j]).select('path#expand').attr('transform', 'translate(' + 480 + ',' + 30 + ')')\n            d3.select(rows[0][j]).select('path#expand:last-child').attr('transform', 'scale(1, -1) translate(' + 480 + ', -' + 30 + ')')\n          } else {\n            d3.select(rows[0][j]).select('path#expand').attr('transform', 'scale(1, -1) translate(' + 480 + ', -' + 0 + ')')\n            d3.select(rows[0][j]).select('path#expand:last-child').attr('transform', 'translate(' + 480 + ',' + 0 + ')')\n          }\n        }\n        if (topOpen) {\n          d3.select('#container').transition().duration(1000).style('padding', '0px 0px 0px 0px')\n        }\n      })\n    },\n\n    initialDisplay (isResize) { // Change the display if the window is resized\n      if (window.innerHeight > window.innerWidth) { // expand everything\n        this.d3.selectAll('rect#expand').attr('display', 'none')\n        this.d3.selectAll('path#expand').attr('display', 'none')\n        this.d3.selectAll('.row').classed('open', true)\n        this.d3.selectAll('.open').transition().duration(1000).attr('viewBox', '0 0 960 360')\n        this.d3.selectAll('.open .rowContent').transition().duration(1000).attr('opacity', 1)\n        this.d3.selectAll('.arrow').transition().duration(1000).attr('transform', function () {\n          var d3 = require('d3')\n          var transform = d3.transform(d3.select(this).attr('transform'))\n          return 'translate(' + transform.translate[0] + ', 0)'\n        })\n      } else if (window.innerHeight < 0.25 * window.innerWidth) { // collapse everything\n        this.d3.selectAll('rect#expand').attr('display', 'block')\n        this.d3.selectAll('path#expand').attr('display', 'block')\n        this.d3.selectAll('.row').classed('open', false)\n        this.d3.selectAll('.row').transition().duration(500).attr('viewBox', '0 0 960 35')\n        this.d3.selectAll('.rowContent').transition().duration(500).attr('opacity', 0)\n        this.d3.selectAll('.arrow').transition().duration(1000).attr('transform', function () {\n          var d3 = require('d3')\n          var transform = d3.transform(d3.select(this).attr('transform'))\n          return 'translate(' + transform.translate[0] + ', -10)'\n        })\n      } else {\n        var opened = this.d3.select('.open')\n        this.d3.selectAll('rect#expand').attr('display', 'block')\n        this.d3.selectAll('path#expand').attr('display', 'block')\n        this.d3.selectAll('.row').classed('open', false)\n        this.d3.selectAll('.row').transition().duration(500).attr('viewBox', '0 0 960 35')\n        this.d3.selectAll('.rowContent').transition().duration(500).attr('opacity', 0)\n\n        if (!isResize) {\n          opened = this.d3.select('.row').classed('open', true)\n          this.d3.select('rect#expand').attr('display', 'none')\n          opened.selectAll('path#expand').attr('display', 'none')\n          this.d3.selectAll('.open').transition().duration(500).attr('viewBox', '0 0 960 360')\n          this.d3.selectAll('.open .rowContent').transition().duration(500).attr('opacity', 1)\n          this.d3.selectAll('.arrow').transition().duration(1000).attr('transform', function () {\n            var d3 = require('d3')\n            var transform = d3.transform(d3.select(this).attr('transform'))\n            return 'translate(' + transform.translate[0] + ', -10)'\n          })\n          opened.selectAll('.arrow').transition().duration(1000).attr('transform', function () {\n            var d3 = require('d3')\n            var transform = d3.transform(d3.select(this).attr('transform'))\n            return 'translate(' + transform.translate[0] + ', 0)'\n          })\n        } else {\n          opened.classed('open', true)\n          opened.select('rect#expand').attr('display', 'none')\n          opened.selectAll('path#expand').attr('display', 'none')\n          opened.transition().duration(1000).attr('viewBox', '0 0 960 360')\n          this.d3.selectAll('.open .rowContent').transition().duration(500).attr('opacity', 1)\n          this.d3.selectAll('.arrow').transition().duration(1000).attr('transform', function () {\n            var d3 = require('d3')\n            var transform = d3.transform(d3.select(this).attr('transform'))\n            return 'translate(' + transform.translate[0] + ', -10)'\n          })\n          opened.selectAll('.arrow').transition().duration(1000).attr('transform', function () {\n            var d3 = require('d3')\n            var transform = d3.transform(d3.select(this).attr('transform'))\n            return 'translate(' + transform.translate[0] + ', 0)'\n          })\n\n          // change the direction of the semi-circle arrows\n          var rows = this.d3.selectAll('.row')\n          var foundOpen = false\n          var topOpen = true\n          for (var j = 0; j < rows[0].length; j++) {\n            if (this.d3.select(rows[0][j]).classed('open')) {\n              foundOpen = true\n            }\n            if (!foundOpen) {\n              topOpen = false\n              this.d3.select('#container').transition().duration(1000).style('padding', '8px 0px 0px 0px')\n              this.d3.select(rows[0][j]).select('path#expand').attr('transform', 'translate(' + 480 + ',' + 30 + ')')\n              this.d3.select(rows[0][j]).select('path#expand:last-child').attr('transform', 'scale(1, -1) translate(' + 480 + ', -' + 30 + ')')\n            } else {\n              this.d3.select(rows[0][j]).select('path#expand').attr('transform', 'scale(1, -1) translate(' + 480 + ', -' + 0 + ')')\n              this.d3.select(rows[0][j]).select('path#expand:last-child').attr('transform', 'translate(' + 480 + ',' + 0 + ')')\n            }\n          }\n          if (topOpen) {\n            this.d3.select('#container').transition().duration(1000).style('padding', '0px 0px 0px 0px')\n          }\n        }\n      }\n    },\n\n    // algorithm to split the proteins list into three lists as close to equal as possible.\n    // It adds a new number to the list that is 1/3 the sum of all the numbers\n    // then it splits the new list into two roughly equal parts using parititionToTwo\n    // Remove the placeholder number from the part that contains it, and then split the other part into two with parititionToTwo\n    partitionToThree (list) {\n      var totalSum = this.getListSum(list)\n      var newNum = totalSum / 3\n      list.push({ name: 'newPlaceholderNum', length: newNum })\n      var twoPart = this.partitionToTwo(list)\n      twoPart[1].pop()\n\n      var threePart = this.partitionToTwo(twoPart[0])\n      return [threePart[0], threePart[1], twoPart[1]]\n    },\n\n    // This algorithm runs into weirdness if the last element is very large, as it would only contain placeholder num\n    // can get around it by just skipping any empty lists in loadShape or forcing each list to contain at least 1 element that isnt placeholder num\n    partitionToTwo (list) {\n      var totalSum = this.getListSum(list)\n      var index = list.length - 1\n      while (this.getListSum(list.slice(index)) < (totalSum / 2)) {\n        if (this.getListSum(list.slice(index - 1)) >= (totalSum / 2)) {\n          break\n        }\n        index--\n      }\n      return [list.slice(0, index), list.slice(index)]\n    },\n\n    getListSum (list) { // takes in data, and returns the sum of all elements .length\n      return list.reduce(function (prev, cur) { return prev + cur.length }, 0)\n    },\n\n    // Takes in an ID of the organism, and all the structures. Sorts all the structures by genomic position and returns it as a list\n    async sortStructures (organismId, allStructures) {\n      var pos = await this.getPositions(organismId)\n      for (let index = 0; index < allStructures.length; index++) {\n        allStructures[index].position = pos[allStructures[index].primary_accession]\n      }\n      allStructures.sort(function (first, second) {\n        return first.position - second.position\n      })\n      return allStructures\n    },\n\n    // checks if any proteins overlap in genomic position, and cuts them when necessary\n    async cleanProteins (proteins) {\n      var positionArrays = {}\n      proteins.forEach(function (protein) {\n        // Get the array for this position, if any\n        var positionArray = positionArrays[protein.position]\n        if (!positionArray) {\n          // There wasn't one, create it\n          positionArray = positionArrays[protein.position] = []\n        }\n        // Add this entry\n        positionArray.push(protein)\n      })\n\n      var proteinsCleaned = []\n      for (let i = 1; i <= Object.keys(positionArrays).length; i++) {\n        if (positionArrays[i].length !== 1) { // if there are multiple proteins at the same position\n          let longest\n          positionArrays[i].forEach(function (p) {\n            if (!longest) {\n              longest = p\n            } else if (p.length > longest.length) {\n              longest = p\n            }\n          })\n\n          var cur = longest\n          for (let n = 0; n < positionArrays[i].length; n++) {\n            if (positionArrays[i][n].sequence !== longest.sequence) {\n              // find longest common substring and delete it from cur\n              var substring = this.findSubstring(positionArrays[i][n].sequence, longest.sequence)\n              cur.sequence = cur.sequence.replace(substring, '')\n              cur.length = cur.sequence.length\n              cur.name = cur.name + ' (split)'\n              positionArrays[i][n].continuous = true\n              proteinsCleaned.push(positionArrays[i][n])\n\n              // if the protein has fragments, remove duplicate fragments from the longest protein\n              if (cur.fragments.length > 0) {\n                positionArrays[i][n].fragments.forEach(fragment => {\n                  cur.fragments = cur.fragments.filter(function (e) { return e.Name !== fragment.Name })\n                })\n              }\n\n              // change the starts and stops to be relative to the split protein\n              for (var k = 0; k < cur.fragments.length; k++) {\n                cur.fragments[k].Start = cur.fragments[k].Start - positionArrays[i][n].length\n                cur.fragments[k].Stop = cur.fragments[k].Stop - positionArrays[i][n].length\n                if (cur.fragments[k].Start < 0) {\n                  cur.fragments[k].Start = 0\n                }\n              }\n              cur.fragments = cur.fragments.filter(function (e) { return e.Start >= 0 })\n\n              // clean the non-dark regions data\n              var newNonDark = []\n              for (var j = 0; j < cur.nonDark.length; j++) {\n                if (cur.nonDark[j].Stop > positionArrays[i][n].length) {\n                  var start = cur.nonDark[j].Start - positionArrays[i][n].length\n                  if (start < 0) {\n                    start = 0\n                  }\n                  var stop = cur.nonDark[j].Stop - positionArrays[i][n].length\n                  newNonDark.push({ Primary_Accession: cur.primary_accession, Start: start, Stop: stop })\n                }\n              }\n\n              // clean the matching structure clusters data\n              if (cur.clusters) {\n                for (var cluster = 0; cluster < cur.clusters.length; cluster++) {\n                  for (var indexStart = 0; indexStart < cur.clusters[cluster].seq_start.length; indexStart++) {\n                    cur.clusters[cluster].seq_start[indexStart] = cur.clusters[cluster].seq_start[indexStart] - positionArrays[i][n].length\n                  }\n                  for (var indexEnd = 0; indexEnd < cur.clusters[cluster].seq_end.length; indexEnd++) {\n                    cur.clusters[cluster].seq_end[indexEnd] = cur.clusters[cluster].seq_end[indexEnd] - positionArrays[i][n].length\n                  }\n                }\n              }\n\n              cur.nonDark = newNonDark\n            }\n          }\n\n          cur.continuous = false\n          proteinsCleaned.push(cur) // append the modified longest protein to the protein list\n        } else {\n          positionArrays[i][0].continuous = false\n          proteinsCleaned.push(positionArrays[i][0])\n        }\n      }\n      return proteinsCleaned\n    },\n\n    findSubstring (a1, a2) {\n      var L = a1.length\n      var i = 0\n      while (i < L && a1.charAt(i) === a2.charAt(i)) i++\n      return a1.substring(0, i)\n    },\n\n    // get the genomic position of a particular protein using primary accession\n    async getPositions (id) {\n      var posUrl = `${window.BACKEND}/getGenomicPosition/${id}`\n      var r = {}\n      await axios({\n        method: 'get',\n        url: posUrl\n      })\n        .then(response => {\n          for (let i = 0; i < response.data.length; i++) {\n            r[response.data[i].primary_accession] = response.data[i].position_index\n          }\n        })\n      if (Object.keys(r).length === 0) {\n        console.log('cannot get genomic positions of ' + id + ' in getPositions() Coverage.vue')\n      }\n      return r\n    },\n\n    async getProteinSynonyms (proteins) {\n      for (var i = 0; i < proteins.length; i++) {\n        var synonym = await this.getSynonym(proteins[i].primary_accession)\n        proteins[i].synonym = synonym\n      }\n      return proteins\n    },\n\n    async getSynonym (id) {\n      var synUrl = `${window.BACKEND}/getProteinSynonyms/${id}`\n      var synonyms = []\n      await axios({\n        method: 'get',\n        url: synUrl\n      })\n        .then(response => {\n          if (response.data.Synonym) {\n            synonyms.push(response.data.Synonym) // TODO: if this gene name is short enough display it with priority over other synonyms\n          }\n          synonyms = synonyms.concat(response.data.synonyms)\n        })\n      return synonyms\n    },\n\n    async getMatchingStructures (proteins) {\n      for (var i = 0; i < proteins.length; i++) {\n        var loadRequest = {\n          selector: [proteins[i].primary_accession]\n        }\n        console.log(loadRequest)\n        var urlMatching = `${window.BACKEND}/get_matching_structures`\n        await axios({\n          method: 'get',\n          url: urlMatching,\n          params: loadRequest\n        })\n          .then(function (response) {\n            console.log(response)\n            if (response.data === '\\'Dark\\' protein') {\n              proteins[i].clusters = 0\n              proteins[i].pdb = null\n            } else {\n              proteins[i].clusters = response.data.clusters\n              proteins[i].pdb = response.data.Best_PDB.pdb_id\n            }\n          })\n      }\n      return this.cleanProteins(proteins)\n    },\n\n    countMatchingStructures (clusters) {\n      if (clusters === 0) {\n        return 0\n      } else {\n        return clusters.reduce(function (prev, cur) { return prev + cur.members.length }, 0)\n      }\n    },\n\n    async getNonDarkRegions (proteins) {\n      for (var i = 0; i < proteins.length; i++) {\n        console.log(proteins[i].primary_accession)\n        // the old getNonDark regions call\n        // var nonDark = await this.getNonDark(proteins[i].primary_accession)\n        var nonDark = await this.getNonDarkCoverage(proteins[i].primary_accession)\n        proteins[i].nonDark = nonDark\n      }\n      return proteins\n    },\n\n    // the old getNonDark Regions call\n    async getNonDark (id) {\n      var url = `${window.BACKEND}/getNonDarkRegions/${id}`\n      // var url = 'http://localhost:8010/getNonDarkRegions/' + id\n      var nonDark = []\n      await axios({\n        method: 'get',\n        url: url\n      })\n        .then(response => {\n          if (response.data) {\n            nonDark = response.data\n          }\n        })\n      return nonDark\n    },\n\n    // new getNonDark regions with auto updates\n    async getNonDarkCoverage (primaryAccession) {\n      var loadRequest = {\n        selector: [primaryAccession]\n      }\n      var urlCoverage = `${window.BACKEND}/getCoverageMap`\n      var nonDark = {}\n      var nonDarkCleaned = []\n      await axios({\n        method: 'get',\n        url: urlCoverage,\n        params: loadRequest\n      })\n        .then(response => {\n          if (response.data !== '\\'Dark\\' protein') {\n            nonDark = response.data\n            console.log('nondarK: ', nonDark)\n            for (var i = 0; i < nonDark.seq_start.length; i++) {\n              nonDarkCleaned.push({ Start: nonDark.seq_start[i], Stop: nonDark.seq_end[i] }) // if there is no seq end, length of protein is the end!\n            }\n          }\n        })\n      return nonDarkCleaned\n    },\n\n    // Gets all the structures of a particular organism, removes irrelevant information\n    async getStructures (organismId, allStructures) {\n      var proteins = []\n      var purl\n      allStructures = await this.sortStructures(organismId, allStructures)\n\n      for (let index = 0; index < allStructures.length; index++) {\n        allStructures[index].count = 0\n\n        var loadRequest = {\n          selector: [allStructures[index].primary_accession]\n        }\n        purl = `${window.BACKEND}/get_3D_alignment`\n        await axios({\n          method: 'get',\n          url: purl,\n          params: loadRequest\n        })\n          .then(response => {\n            var sequence = ''\n            if (response.data.sequences) {\n              sequence = response.data.sequences[0]\n              var seqLength = sequence.length\n              console.log('Loaded ', allStructures[index].synonym, seqLength)\n              proteins.push({ name: allStructures[index].synonym, primary_accession: allStructures[index].primary_accession, sequence: sequence.sequence, position: allStructures[index].position, length: seqLength })\n            } else {\n              // this is a dark protein\n              sequence = response.data[allStructures[index].primary_accession]\n              proteins.push({ name: allStructures[index].synonym, primary_accession: allStructures[index].primary_accession, sequence: sequence.sequence, position: allStructures[index].position, length: sequence.length })\n            }\n            return this.getFragments(allStructures[index].primary_accession) // get fragments of the structure\n          }).then(fragments => {\n            proteins[index].fragments = fragments\n          })\n      }\n      proteins = await this.getNonDarkRegions(proteins) // .then(response => { return this.cleanProteins(response) })\n      return proteins\n    },\n\n    async getFragments (id) {\n      var posUrl = `${window.BACKEND}/getProteinFragments/${id}`\n      var r = []\n      await axios({\n        method: 'get',\n        url: posUrl\n      })\n        .then(response => {\n          if (response.data.length > 0) {\n            r = response.data\n          }\n        })\n      return r\n    }\n  }\n}\n</script>\n\n<style scoped>\n.v-lazy-image{\n  width: 100vw;\n}\n\n.infoLink{\n    position: absolute;\n    top: 10px;\n    height: 42px;\n    right: 125px;\n}\n\n/* Christian's work */\n@media screen and (min-width: 550px){\n  #matrix{\n    height: 99vh;\n    background: #c0c0c0 url('../assets/img/Resource-banner.svg') no-repeat calc(6px + 0.4vw) calc(8px + 0.1vh);\n    background-size: calc(115px + 5vw) calc(26px + 2vw);\n    text-align: center;\n  }\n}\n @media screen and (max-width: 549px){\n   #matrix{\n  height: 99vh;\n  background: #c0c0c0 url('../assets/img/AquariaLogo.svg') no-repeat calc(6px + 0.4vw) calc(8px + 0.1vh);\n  background-size: calc(130px + 1.5vw) calc(35px + 1.5vw);\n  text-align: center;\n  }\n}\n/* general layout and colors */\n    body {\n        margin: 0;\n        padding: 0;\n        background: #bbbbbb;\n        overflow: hidden;\n    }\n\n    div.no_match h3 {\n        font-weight:400;\n    }\n\n    .rowContent {\n      display: none;\n    }\n\n    .open .rowContent {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .arrow {\n      cursor: pointer;\n    }\n\n    /* * * * * CSS grid * * * * */\n    #container {\n        /* display: grid; c0c0c0 */\n        grid-gap: 6px;\n        background: #ffffff;\n        padding: 0px; /* removed the padding here */\n        height: 95%;\n        margin: 0 auto;\n        /* overflow: scroll; */\n    }\n\n    /* TYPOGRAPHY */\n    /* responsive sizes */\n\n    @media screen and (min-width: 320px) {\n        #matrix .cell {\n            font-size: calc(8px + 6 * ((100vw - 320px) / 680));\n        }\n    }\n    /* Alignment */\n    h1, h3, p {\n        margin: 0;\n    }\n    span#count {\n        color:#383838;\n        font-weight: 300;\n        font-size: 60%;\n        margin-left: 20px;\n        overflow: hidden;\n    }\n    a span#help {\n        display:inline-block;\n        color:#ffffff;\n        background:#0876d6;\n        font-weight: 700;\n        font-size: 80%;\n        border-radius: 50%;\n        margin-left: 20px;\n        width: 1.2em;\n        line-height: 1.2em;\n    }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Coverage.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Coverage.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Coverage.vue?vue&type=template&id=69cdfee8&scoped=true\"\nimport script from \"./Coverage.vue?vue&type=script&lang=js\"\nexport * from \"./Coverage.vue?vue&type=script&lang=js\"\nimport style0 from \"./Coverage.vue?vue&type=style&index=0&id=69cdfee8&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"69cdfee8\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupGeneric.vue?vue&type=style&index=1&id=7db480dd&prod&scoped=true&lang=css\"","import store from \"../../../store\"\n\nexport function hidePanel (elemParent, elemChild) {\n  if (document.querySelector('#' + elemParent)) {\n    document.querySelector('#' + elemParent).style.display = 'none'\n  }\n  document.querySelector('#' + elemChild).className = 'tab inactive'\n}\n\nexport function hidePanels () {\n  this.hidePanel('vis', 'Structures')\n  this.hidePanel('featurePanel', 'Features')\n  store.commit('setScrim', false)\n  document.querySelector('#Structures').className = 'tab'\n  document.querySelector('#Features').className = 'tab'\n  document.querySelector('#Features')\n  /** @todo\n   * Add a close button to matching structures and features panel\n   */\n  // document.querySelector('a.close').click()\n  window.scrollBy(0, 100)\n}\n","module.exports = __webpack_public_path__ + \"img/search_dark.012aee91.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Errors.vue?vue&type=style&index=0&id=11dd3cd0&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserHelp.vue?vue&type=style&index=1&id=df550c62&prod&lang=css\"","module.exports = __webpack_public_path__ + \"img/aquaria-symbol-01.057e39d9.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Features.vue?vue&type=style&index=0&id=691b0fae&prod&lang=css\"","module.exports = __webpack_public_path__ + \"img/up.64c3e14c.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sequence.vue?vue&type=style&index=0&id=4c266b70&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutUniprot.vue?vue&type=style&index=0&id=7c383769&prod&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/MS-01.f169151b.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CoverageMap.vue?vue&type=style&index=0&id=fa5a0784&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutPdb.vue?vue&type=style&index=0&id=0ea13c30&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabs.vue?vue&type=style&index=0&id=08aca170&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchPanel.vue?vue&type=style&index=0&id=2d21ac4c&prod&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mapLoader.vue?vue&type=style&index=0&id=6934c327&prod&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/down.7ae68b7a.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupGeneric.vue?vue&type=style&index=3&id=7db480dd&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&id=2e56b12b&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupGeneric.vue?vue&type=style&index=2&id=7db480dd&prod&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Coverage.vue?vue&type=style&index=0&id=69cdfee8&prod&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/aquaria-loader3.223aec7b.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeView.vue?vue&type=style&index=0&id=ca92af66&prod&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupGeneric.vue?vue&type=style&index=0&id=7db480dd&prod&lang=css\"","module.exports = __webpack_public_path__ + \"img/FT-01.e4a6c439.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutAlignment.vue?vue&type=style&index=0&id=719899c4&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scrim.vue?vue&type=style&index=0&id=2af733d3&prod&scoped=true&lang=css\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGoWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0NDYwLCAyMDIwLzA1LzEyLTE2OjA0OjE3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMC0xMS0wN1QxODo0Njo0OC0wNTowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjAtMTItMDlUMDg6NDk6MTYtMDU6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjAtMTItMDlUMDg6NDk6MTYtMDU6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjEzNGEyNTEtODFjYy00ZDNjLWJhMmQtY2VhMmM1MGY2YmQxIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZTFkNTMwYWUtYzY2MS0wMjRlLTk1ZTItNTU4ODI4OWU1NTkxIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YjhlNjQyOWMtMjlkZS00NTc2LWEzN2MtMjM4NDJiNGUyZjA5IiB0aWZmOk9yaWVudGF0aW9uPSIxIiB0aWZmOlJlc29sdXRpb25Vbml0PSIyIiBleGlmOkNvbG9yU3BhY2U9IjEiIGV4aWY6UGl4ZWxYRGltZW5zaW9uPSI3MDAiIGV4aWY6UGl4ZWxZRGltZW5zaW9uPSI3MDAiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpiOGU2NDI5Yy0yOWRlLTQ1NzYtYTM3Yy0yMzg0MmI0ZTJmMDkiIHN0RXZ0OndoZW49IjIwMjAtMTItMDlUMDg6NDI6NTQtMDU6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChNYWNpbnRvc2gpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoyMTM0YTI1MS04MWNjLTRkM2MtYmEyZC1jZWEyYzUwZjZiZDEiIHN0RXZ0OndoZW49IjIwMjAtMTItMDlUMDg6NDk6MTYtMDU6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChNYWNpbnRvc2gpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtMh4BEAAAZoSURBVHja7Z17TNVlGMdPK4FlV3FqIDSJbF0sMqrF2rqR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\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopUpVariant.vue?vue&type=style&index=0&id=a591ac52&prod&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeLoader.vue?vue&type=style&index=0&id=d0db7e78&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"main\"},[_c('GdprConsentModal'),_c('Header',{attrs:{\"showHelpIcon\":_vm.showHelpIcon}}),(!_vm.pdbOnly)?_c('Sequence',{attrs:{\"showSequencePanel\":_vm.showSequenceInfo}}):_vm._e(),(!_vm.pdbOnly)?_c('AboutAlignment',{attrs:{\"showAlignmentPanel\":_vm.showAlignmentInfo}}):_vm._e(),_c('AboutPdb',{attrs:{\"showPDBPanel\":_vm.showStructureInfo}}),_c('div',[_c('AboutAquaria',{attrs:{\"showPanel\":_vm.showAboutAquaria}}),_c('UserHelp'),_c('Errors')],1),_c('div',{attrs:{\"id\":\"heightinspector\"}}),_c('StructureViewer'),_c('Tabs',{style:({visibility: !_vm.pdbOnly ? 'visible' : 'hidden'})}),(!_vm.pdbOnly)?_c('CoverageMap'):_vm._e(),_c('PopUpVariant'),_c('PopupMinimal'),_c('PopupAllVar'),_c('Scrim',{attrs:{\"show\":_vm.showScrim}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable camelcase */\n\n//  Main client script that defines the AQUARIA namespace and primary functions.\n//  Page initialisation functions are at the end of this file.\n//  These functions try to follow code conventions specified in http://javascript.crockford.com/code.html\n//\n//  Copyright (c) CSIRO (2010-2017) and Garvan Institute of Medical Research (2010-)\n//\n//  Authors:\n//  Stuart Anderson <Stuart.Anderson@data61.csiro.au>\n//  Julian Heinrich <julian.heinrich@gmail.com>\n//  Sean O'Donoghue <sean@odonoghuelab.org>\n//  Kenny Sabir <traksewt@gmail.com>\n//  Neblina Sikta <n.sikta@garvan.org.au>\n//  Christian Stolte <christian.stolte@gmail.com>\n//  Sandeep Kaur <crystalsand10@gmail.com>\n//\n//  Jenny Vuong <vuong.jenny@gmail.com>\n//  Michael Joss <michael.joss@gmail.com>\n//  Vivian Ho <veeveearnh@gmail.com>\n//\n// This work is licensed under the terms of the GNU GPL version 2.\nimport * as TopTenStore from '../../../utils/topten'\n\nrequire('./utilities')\n\nvar MAX_PROTEIN_HISTORY = 10;\nvar proteinSubmitListeners = []\n  var addProteinSubmitListener = function (listener) {\n    proteinSubmitListeners.push(listener)\n  }\n\n  var proteinTopTen = TopTenStore.TopTen('protein_top_ten', MAX_PROTEIN_HISTORY)\n  addProteinSubmitListener(proteinTopTen)\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"header\"}},[_c('div',{staticClass:\"item fix level1\",attrs:{\"id\":\"logo\"},on:{\"click\":_vm.showAbout}},[_c('img',{attrs:{\"src\":_vm.aquariasymbol}})]),_c('Title',{attrs:{\"showHelpIcon\":_vm.showHelpIcon}}),_c('Menu')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"item title fix level4\",attrs:{\"id\":\"title\"}},[(!_vm.getStructure.accession)?_c('span',{attrs:{\"id\":\"pdbChain\"}},[_c('span',{staticClass:\"pdbPanel\",on:{\"click\":function($event){return _vm.makeActive('Structure')}}},[_c('img',{attrs:{\"src\":_vm.search}}),_vm._v(\" PDB \"),_c('strong',[_vm._v(_vm._s(_vm.getStructure.pdb))])]),_c('span',{style:({visibility: _vm.helpOption ? 'visible' : 'hidden'}),attrs:{\"id\":\"help\"},on:{\"click\":_vm.showHelp}},[_vm._v(\"?\")])]):_vm._e(),(_vm.getStructure.accession)?_c('span',{attrs:{\"id\":\"org_prot\"}},[(_vm.getOrganism && !_vm.seqRes)?_c('span',{staticClass:\"Sequence\",style:({background: (_vm.activeTab === 'Sequence') ? '#ed9824' : 'none'}),on:{\"click\":function($event){return _vm.makeActive('Sequence')}}},[_c('img',{attrs:{\"src\":_vm.search}}),_vm._v(\" \"+_vm._s(_vm.getOrganism.replaceAll('_', ' '))+\" \"),_c('strong',[_vm._v(_vm._s(_vm.getGene))])]):_vm._e(),(!_vm.getOrganism && !_vm.seqRes)?_c('span',{staticClass:\"Sequence\",on:{\"click\":function($event){return _vm.makeActive('Sequence')}}},[_c('img',{attrs:{\"src\":_vm.search}}),_vm._v(\" Protein Sequence \")]):_vm._e()]):_vm._e(),(!_vm.seqRes && _vm.getStructure.accession)?_c('span',{attrs:{\"id\":\"alignment\"}},[_c('span',{staticClass:\"alignPanel\",style:({background: (_vm.activeTab === 'Alignment') ? '#ed9824' : 'none'}),on:{\"click\":function($event){return _vm.makeActive('Alignment')}}},[_vm._v(\"aligned onto\")])]):_vm._e(),(!_vm.seqRes && _vm.getStructure.accession)?_c('span',{attrs:{\"id\":\"struct\"},on:{\"mouseover\":function($event){return _vm.showAllVarPopup()}}},[(!_vm.getStructure.pdb)?_c('span',{staticClass:\"structPanel\",attrs:{\"href\":\"#Structure\"},on:{\"click\":function($event){return _vm.makeActive('Structure')}}},[_vm._v(\"PDB ID\")]):_vm._e(),(_vm.getStructure.pdb && !_vm.seqRes)?_c('span',{staticClass:\"structPanel\",style:({background: (_vm.activeTab === 'Structure') ? '#ed9824' : 'none'}),attrs:{\"href\":\"#Structure\"},on:{\"click\":function($event){return _vm.makeActive('Structure')}}},[_vm._v(_vm._s(_vm.getStructure.pdb + '-' + _vm.getStructure.chain))]):_vm._e(),_c('span',{style:({visibility: _vm.helpOption ? 'visible' : 'hidden'}),attrs:{\"id\":\"help\"},on:{\"click\":_vm.showHelp}},[_vm._v(\"?\")])]):_vm._e(),(_vm.seqRes && _vm.getStructure.accession)?_c('span',{staticClass:\"selectionPanel\",style:({background: (_vm.activeTab === 'Alignment') ? '#ed9824' : ''}),on:{\"click\":function($event){return _vm.makeActive('Alignment')}}},[_c('strong',[_vm._v(_vm._s(_vm.getGene))]),_vm._v(\" sequence: \"+_vm._s(_vm.seqRes)+\" \"),_c('br'),_c('strong',[_vm._v(_vm._s(_vm.getStructure.pdb))]),_vm._v(\" structure: \"+_vm._s(_vm.structRes)+\" \")]):_vm._e(),(!_vm.helpOption)?_c('span',{staticClass:\"close\",on:{\"click\":_vm.closePanel}}):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div id=\"title\" class=\"item title fix level4\">\n      <!-- Only PDB -->\n      <span id=\"pdbChain\" v-if=\"!getStructure.accession\">\n        <span class=\"pdbPanel\" @click=\"makeActive('Structure')\">\n          <img v-bind:src=\"search\"> PDB <strong>{{getStructure.pdb}}</strong>\n        </span>\n        <span id='help' @click=\"showHelp\" :style=\"{visibility: helpOption ? 'visible' : 'hidden'}\">?</span>\n      </span>\n\n      <!-- Sequence aligned to PDB -->\n      <span id=\"org_prot\" v-if=\"getStructure.accession\">\n        <span class=\"Sequence\" @click=\"makeActive('Sequence')\" v-if=\"getOrganism && !seqRes\" :style=\"{background: (activeTab === 'Sequence') ? '#ed9824' : 'none'}\">\n          <img v-bind:src=\"search\">\n          {{ getOrganism.replaceAll('_', ' ') }} <strong>{{getGene}}</strong>\n        </span>\n        <span class=\"Sequence\" @click=\"makeActive('Sequence')\" v-if=\"!getOrganism && !seqRes\">\n          <img v-bind:src=\"search\">\n          Protein Sequence\n        </span>\n      </span>\n      <span id=\"alignment\" v-if=\"!seqRes && getStructure.accession\">\n          <span class=\"alignPanel\" @click=\"makeActive('Alignment')\" :style=\"{background: (activeTab === 'Alignment') ? '#ed9824' : 'none'}\">aligned onto</span>\n      </span>\n      <span id=\"struct\" v-if=\"!seqRes && getStructure.accession\"  @mouseover=\"showAllVarPopup()\">\n        <span href=\"#Structure\" class=\"structPanel\" @click=\"makeActive('Structure')\" v-if=\"!getStructure.pdb\">PDB ID</span>\n        <span href=\"#Structure\" class=\"structPanel\" @click=\"makeActive('Structure')\" v-if=\"getStructure.pdb && !seqRes\" :style=\"{background: (activeTab === 'Structure') ? '#ed9824' : 'none'}\">{{getStructure.pdb + '-' + getStructure.chain}}</span>\n        <span id='help' @click=\"showHelp\" :style=\"{visibility: helpOption ? 'visible' : 'hidden'}\">?</span>\n      </span>\n\n      <!-- Selection Panel -->\n      <span class=\"selectionPanel\" @click=\"makeActive('Alignment')\" v-if=\"seqRes && getStructure.accession\" :style=\"{background: (activeTab === 'Alignment') ? '#ed9824' : ''}\">\n        <strong>{{getGene}}</strong> sequence: {{seqRes}} <br/>\n        <strong>{{getStructure.pdb}}</strong> structure: {{structRes}}\n      </span>\n\n      <!-- Help Panel -->\n      <span v-if=\"!helpOption\" class=\"close\" @click=\"closePanel\"></span>\n    </div>\n</template>\n\n<script>\nimport store from '../../store/index'\nimport * as panel3d from '../StructureViewer/helpers/joleculeAPI'\nimport { mapGetters } from 'vuex'\nimport { findPDBMember } from '../../utils/loadData'\n\nexport default {\n  name: 'Title',\n  data () {\n    return {\n      pdb: null,\n      search: require('../../assets/img/search_100.png'),\n      seqRes: null,\n      structRes: null,\n      helpOption: true,\n      activeTab: null\n    }\n  },\n  props: ['showHelpIcon'],\n  computed: {\n    data () {\n      return {\n        hash: store.state.hash\n      }\n    },\n    scrim () {\n      return store.state.showScrim\n    },\n    ...mapGetters([\n      'getHash',\n      'getOrganism',\n      'getGene',\n      'getStructure',\n      'getVariantResidues',\n      'getIntersectingStructs',\n      'getVariantStructs'\n    ])\n  },\n  watch: {\n    showHelpIcon: function (bool) {\n      this.helpOption = bool\n      if (bool) {\n        this.activeTab = null\n      }\n    },\n    getStructure: function (newVal) {\n      var urlParams = ''\n      const query = store.state.queryStore\n      if (query[newVal.accession]) {\n        urlParams = decodeURIComponent(query[newVal.accession])\n      }\n      var _this = this\n      if (this.getGene && this.getOrganism && this.getStructure && newVal) {\n        history.pushState(null, document.title, '/' +\n      _this.getOrganism + '/' + _this.getGene + '/' + _this.getStructure.pdb + '/' + _this.getStructure.chain + urlParams + '#' + _this.getHash)\n      }\n    },\n    getOrganism: function (newVal) {\n      var _this = this\n      var urlParams = ''\n      const query = store.state.queryStore\n      if (query[_this.getStructure.accession]) {\n        urlParams = query[_this.getStructure.accession]\n      }\n      if (this.getGene && newVal) {\n        history.pushState(null, document.title, '/' +\n      newVal + '/' + _this.getGene + '/' + _this.getStructure.pdb + '/' + _this.getStructure.chain + urlParams + '#' + _this.getHash)\n      }\n    },\n    getGene: function (newVal) {\n      var _this = this\n      var urlParams = ''\n      const query = store.state.queryStore\n      if (query[_this.getStructure.accession]) {\n        urlParams = query[_this.getStructure.accession]\n      }\n      if (this.getOrganism && newVal) {\n        history.pushState(null, document.title, '/' +\n      _this.getOrganism + '/' + newVal + '/' + _this.getStructure.pdb + '/' + _this.getStructure.chain + urlParams + '#' + _this.getHash)\n      }\n    }\n    // scrim: function (newVal) {\n    //   var _this = this\n    //   if (!newVal) { // And error message is null\n    //     _this.dismissPanel()\n    //   }\n    // }\n  },\n  methods: {\n    showAllVarPopup: function () {\n      if ((this.getIntersectingStructs && Object.keys(this.getIntersectingStructs).length > 0) || (this.getSortedKeys && Object.keys(this.getSortedKeys).length > 0) || (this.getVariantResidues && Object.keys(this.getVariantResidues).length > 0)) {\n        console.log('Set allVarPopUpCoordinates: ')\n        console.log(this.getVariantResidues)\n        console.log(this.getIntersectingStructs)\n        console.log(this.getVariantStructs)\n        store.commit('setAllVariantsCoordinates', document.getElementById('struct').getBoundingClientRect())\n      }\n    },\n    showHelp: function () {\n      this.$parent.$parent.resetPopup()\n      this.$store.commit('setScrim', true)\n      store.commit('setHelpTitle', 'Aquaria Help')\n      store.commit('setNewUserStatus', false)\n    },\n    makeActive: function (className) {\n      this.activeTab = className\n      this.$parent.$parent.resetPopup()\n      this.$parent.$parent.showHelpIcon = false\n      this.$store.commit('setScrim', true)\n      this.$parent.$parent.dropFragment()\n      this.$parent.$parent.showSequenceInfo = (className === 'Sequence') ? true : false // eslint-disable-line\n      this.$parent.$parent.showAlignmentInfo = (className === 'Alignment') ? true : false // eslint-disable-line\n      this.$parent.$parent.showStructureInfo = (className === 'Structure') ? true : false // eslint-disable-line\n      this.$parent.$parent.appendHash(className)\n      if (className === 'Alignment') {\n        store.commit('setAlignment', panel3d.joleculeAlignment.copyToClipboard())\n      }\n      this.$store.commit('setAllVariantsCoordinates', 'hide')\n    },\n    closePanel: function () {\n      this.$parent.$parent.showSequenceInfo = false\n      this.$parent.$parent.showAlignmentInfo = false\n      this.$parent.$parent.showStructureInfo = false\n      this.$store.commit('setScrim', false)\n      this.$parent.$parent.showHelpIcon = true\n      this.$parent.$parent.dropFragment()\n    },\n    openPanel (panelName) {\n      this.$parent.$parent['show' + panelName + 'Info'] = true\n      this.$store.commit('setScrim', true)\n      this.$parent.$parent.showHelpIcon = false\n    }\n  },\n  mounted () {\n    const hash = window.location.hash\n    if (hash.includes('Structure') && !hash.includes('Structures')) {\n      this.openPanel('Structure')\n    }\n    if (hash.includes('Alignment')) {\n      this.openPanel('Alignment')\n    }\n    if (hash.includes('Sequence')) {\n      this.openPanel('Sequence')\n    }\n  },\n  updated () {\n    var _this = this\n    _this.primary_accession = _this.getGene\n    var selectedRes = new MutationObserver(function () {\n      if (document.querySelector('#threeDSpan-inner-jolecule-soup-display-canvas-wrapper-selection').style.display === 'none') {\n        _this.seqRes = null\n        _this.structRes = null\n        // _this.alignment = null\n        store.commit('setAlignment', '')\n      } else {\n        var PDBIndex = findPDBMember(_this.getStructure.pdb, _this.getStructure.chain)\n        var currentMember = store.state.Matches.clusters[PDBIndex.cluster].members[PDBIndex.member]\n        var residues = document.querySelector('#threeDSpan-inner-jolecule-soup-display-canvas-wrapper-selection').innerText.split('\\n')\n        var pdb = currentMember.pdb_id + '[' + currentMember.model + ']-' + currentMember.pdb_chain + ':'\n        var accession = _this.getGene + ':'\n        _this.seqRes = residues[1].split(accession)[1]\n        _this.structRes = residues[0].split(pdb)[1]\n      }\n    })\n    selectedRes.observe(document.querySelector('#threeDSpan-inner-jolecule-soup-display-canvas-wrapper-selection'), {\n      attributes: true, childList: true, characterData: true\n    })\n  }\n}\n</script>\n\n<style scoped>\n.selectionPanel {\n  padding: calc(0.2rem + 0.29412vw - 0.94118px) 1rem;\n  font-size: 95%;\n  line-height: 1rem;\n  border-radius: 1.25rem;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 15rem;\n  text-align: center;\n  display: inline-block;\n  background-color: var(--primary-label);\n  -webkit-transition: all .5s ease;\n  transition: all .5s ease;\n  color: var(--text);\n  text-decoration: none;\n}\n\n#pdbChain {\n  padding: 0px 20px;\n  border-radius: 20px;\n}\n\n#struct > span#help, #pdbChain > span#help {\n  background: white;\n  color: #595656;\n  padding: 0px 0.4em;\n  border-radius: 1.5rem;\n  margin: 2px;\n  font-size: 100%;\n}\n#pdb_id > span#help:hover, #pdbChain > span#help:hover {\n  background-color: var(--primary-link);\n  color: white;\n}\n#struct > span#help:hover {\n  background-color: var(--primary-link);\n  color: white;\n}\n.title {\n    flex-basis: auto;\n    color: white;\n    text-align: center;\n    line-height: 1.25;\n    padding: 0;\n    border-radius: 1.5rem;\n    margin: auto;\n    left: 50%;\n    top: 1.5vh;\n    transform: translate(-50%, -5%);\n    /* width: fit-content; */\n}\n#title.active {\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: flex-start;\n  width: fit-content;\n  max-width: 29.5rem;\n  margin-top: .125rem;\n}\n#title span {\n  background-color: var(--primary-label);\n  white-space: nowrap;\n  text-align: left;\n  flex-shrink: 0;\n}\n#title.active span#struct, #title.active span#struct {\n  flex-grow: 2;\n  flex-shrink: 0;\n  /* width: 50%; */\n}\n.pdbPanel, .Sequence, .alignPanel, .structPanel {\n  display: inline-block;\n  padding: calc(0.4rem + 3 * ((100vw - 320px) / 680)) 0.2rem;\n  background-color: var(--primary-label);\n  transition: all 0.5s ease;\n  color: var(--text);\n  text-decoration: none;\n}\n#title span span:hover {\n  background-color: var(--primary-link);\n}\n\n#title span span:active, #title span span.active {\n  background-color: var(--primary-highlight);\n}\n\n#title:hover span#alignment span {\n  border-right: 1px dotted var(--background);\n  border-left: 1px dotted var(--background);\n}\nspan#org_prot, span#uniprotpanel {\n  border-top-left-radius: 2rem;\n  border-bottom-left-radius: 2rem;\n}\nspan#org_prot span, span#uniprotpanel span {\n  padding-left: 0.5rem;\n  border-top-left-radius: 2rem;\n  border-bottom-left-radius: 2rem;\n  transition: all 0.7s ease;\n}\nspan#org_prot img, span#pdbChain img, span#uniprotpanel img, span#struct img  {\nheight: calc(10px + .4vw);\n}\nspan#struct , span#struct {\n  padding-right: 0.5rem;\n  font-weight: 600;\n  border-top-right-radius: 2rem;\n  border-bottom-right-radius: 2rem;\n}\nspan#selection {\n  padding: 0px 20px;\n  border-radius: 20px;\n}\n\n#selection:hover .selection{\n  background-color: var(--primary-link);\n  color: white;\n}\n\n/* #titleAlign {\n  display: flex;\n  justify-content: center;\n} */\n\n/* #titleAlign:hover a, #titleAlign:hover span{\n  background-color: var(--primary-link);\n} */\n\n/* #titleAlign.active {\n  border-radius: 1.5rem;\n} */\n/* #titleAlign span {\n  padding: calc(0.2rem + 2 * ((100vw - 320px) / 680)) 1rem;\n  font-size: 95%;\n  line-height: 1rem;\n  border-radius: 1.25rem;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 15rem;\n  text-align: center;\n} */\n\n/* #title span.titlepanel {\n  background-color: transparent;\n  text-align: left;\n} */\n\n/* #titleAlign.active span.titlepanel a {\n  width: 80vw;\n  max-width: 29.5rem;\n}\n#titleAlign.active + span.close::after {\n    top: calc(0.5rem + 3 * ((100vw - 320px) / 680));\n} */\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Title.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Title.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Title.vue?vue&type=template&id=40f2069c&scoped=true\"\nimport script from \"./Title.vue?vue&type=script&lang=js\"\nexport * from \"./Title.vue?vue&type=script&lang=js\"\nimport style0 from \"./Title.vue?vue&type=style&index=0&id=40f2069c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"40f2069c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"item fix level1\",attrs:{\"id\":\"menu-btn\"}},[_c('img',{attrs:{\"src\":_vm.hamburger},on:{\"click\":_vm.showMenu}}),_c('div',{staticClass:\"panel abs floating level7\",attrs:{\"id\":\"Menu\"}},[_c('div',{staticClass:\"close\",on:{\"click\":_vm.closeMenu}}),_c('div',[_c('div',{staticClass:\"lnk\",attrs:{\"id\":\"print\"},on:{\"click\":_vm.print}},[_vm._v(\"Print\")]),_c('div',{staticClass:\"lnk\",style:({background: (_vm.helpActive) ? 'var(--primary-highlight)' : 'var(--secondary-label)'}),attrs:{\"id\":\"helpbtn\"},on:{\"click\":_vm.showHelp}},[_vm._v(\"Help\")])]),_vm._m(0),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selected),expression:\"selected\"}],on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selected=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},function($event){return _vm.onChange($event)}]}},[_c('option',{attrs:{\"id\":\"ribbon\",\"selected\":\"\"}},[_vm._v(\"Ribbon\")]),_c('option',{attrs:{\"id\":\"sphere\"}},[_vm._v(\"Sphere\")]),_c('option',{attrs:{\"id\":\"backbone\"}},[_vm._v(\"Backbone\")])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"lnk\",attrs:{\"id\":\"Sidechains\"}},[_vm._v(\"Sidechains\")]),_c('div',{staticClass:\"lnk\",attrs:{\"id\":\"Neighbors\"}},[_vm._v(\"Neighbors\")]),_c('div',{staticClass:\"lnk active\",attrs:{\"id\":\"Ligands\"}},[_vm._v(\"Ligands\")]),_c('div',{staticClass:\"lnk\",attrs:{\"id\":\"Water\"}},[_vm._v(\"Water\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n    <div id=\"menu-btn\" class=\"item fix level1\"><img v-bind:src=\"hamburger\" @click=\"showMenu\"/>\n    <div id=\"Menu\" class=\"panel abs floating level7\">\n      <div class=\"close\" @click=\"closeMenu\"></div>\n      <div>\n        <div class=\"lnk\" id='print' @click=\"print\">Print</div>\n        <div class=\"lnk\" id='helpbtn' @click=\"showHelp\" :style=\"{background: (helpActive) ? 'var(--primary-highlight)' : 'var(--secondary-label)'}\">Help</div>\n      </div>\n      <div>\n        <div class=\"lnk\" id='Sidechains'>Sidechains</div>\n        <div class=\"lnk\" id='Neighbors'>Neighbors</div>\n        <div class=\"lnk active\" id='Ligands'>Ligands</div>\n        <div class=\"lnk\" id='Water'>Water</div>\n      </div>\n      <select v-model=\"selected\" @change=\"onChange($event)\">\n        <option id='ribbon' selected>Ribbon</option>\n        <option id='sphere'>Sphere</option>\n        <option id='backbone'>Backbone</option>\n      </select>\n      <!-- <span>SElected: {{selected}} </span> -->\n    </div>\n  </div>\n</template>\n<script>\n\nimport { screenshot } from '../AquariaLayout/helpers/Screenshot'\nimport store from '../../store/index'\nimport * as viewUtils from '../InfoAbout/helpers/ViewUtils'\nexport default {\n  name: 'Menu',\n  data () {\n    return {\n      selected: 'Ribbon',\n      hamburger: require('../../assets/images/aquaria-menu.svg'),\n      helpActive: false\n    }\n  },\n  methods: {\n    closeMenu: function () {\n      this.$parent.$parent.dropFragment()\n      document.querySelector('#Menu').classList.remove('openMenu')\n    },\n    showMenu: function () {\n      this.$parent.$parent.appendHash('Menu')\n      if (!document.querySelector('#Menu').classList.contains('openMenu')) {\n        document.querySelector('#Menu').classList += ' openMenu'\n      }\n    },\n    onChange: function (event) {\n      const id = event.target.value.toLowerCase()\n      document.querySelector('#threeDSpan-inner-menu-' + id).click()\n    },\n    showHelp: function () {\n      /**\n      * @todo\n      * Set connection between help menu and close button\n      */\n      this.$store.commit('setScrim', true)\n      this.helpActive = this.helpActive ? false : this.helpActive\n      store.commit('setHelpTitle', 'Aquaria Help')\n      store.commit('setNewUserStatus', false)\n    },\n    toggleActive: function (ev) {\n      if (ev.target.className === 'lnk active') {\n        ev.target.className = 'lnk'\n      } else {\n        ev.target.className = 'lnk active'\n      }\n    },\n    async print () {\n      const screenshotHref = await screenshot(7680, 4320, 0, 0)\n      // construct a temporary anchor element with a download attribute and click it\n      const a = document.createElement('a')\n      a.href = screenshotHref // href is always a string. whether blob uri (Object URL) or data uri depends on browser support\n      a.download = 'aquaria-screenshot.png' // @TODO consider a more meaningful filename here. maybe use protein name w/ a timestamp\n      a.click()\n    }\n  },\n  mounted () {\n    var _this = this\n    const hash = window.location.hash\n    if (hash.includes('Menu')) {\n      _this.showMenu()\n    }\n    document.querySelector('#Sidechains').addEventListener('click', function (ev) {\n      ev.preventDefault() // prevent default navigation\n      _this.toggleActive(ev) // toggle active state\n      if (ev.currentTarget.classList.contains('active')) {\n        viewUtils.getCurrentView() // this doesn't do anything... it returns a value but has no side effects\n      }\n      document.querySelector('#threeDSpan-inner > div.jolecule-embed-header.jolecule-embed-toolbar > span:nth-child(5)').click()\n    })\n    document.querySelector('#Neighbors').addEventListener('click', function (ev) {\n      ev.preventDefault() // prevent default navigation\n      _this.toggleActive(ev) // toggle active state\n      document.querySelector('#threeDSpan-inner > div.jolecule-embed-header.jolecule-embed-toolbar > span:nth-child(6)').click()\n    })\n    document.querySelector('#Ligands').addEventListener('click', function (ev) {\n      ev.preventDefault() // prevent default navigation\n      _this.toggleActive(ev) // toggle active state\n      document.querySelector('#threeDSpan-inner-menu-ligand').click()\n    })\n    document.querySelector('#Water').addEventListener('click', function (ev) {\n      ev.preventDefault() // prevent default navigation\n      _this.toggleActive(ev) // toggle active state\n      document.querySelector('#threeDSpan-inner-menu-water').click()\n    })\n  }\n}\n</script>\n<style scoped>\n  #Menu {\n    background: none;\n  }\n  #menu-btn {\n      right: 2vh;\n      top: 2vh;\n  }\n  #menu-btn.item img {\n      opacity: 0.8;\n      height: calc(1rem + 1vh);\n  }\n  #menu-btn.item img:hover {\n      opacity: 1;\n  }\n/* Menu */\n  @media only screen and (max-width: 570px) {\n    /* #Menu:target.panel.floating  */\n    .openMenu {\n    display: flex;\n    background-color: transparent;\n    width: 136px;\n    border-radius: 0.25rem;\n    top: 3rem;\n    right: 1rem;\n    background-color: var(--primary-tab);\n    opacity: 1;\n    height: auto;\n    order: 3;\n    display: flex;\n    flex-direction: column;\n    /* width: 100%; */\n    transition: All 0.8s ease;\n    }\n  }\n  @media only screen and (min-width: 571px) {\n    /* #Menu:target.panel.floating { */\n    .openMenu {\n    display: flex;\n    background-color: transparent;\n    width: 136px;\n    border-radius: 0.25rem;\n    top: 1rem;\n    right: 1rem;\n    background-color: var(--primary-tab);\n    opacity: 1;\n    height: auto;\n    order: 3;\n    display: flex;\n    flex-direction: column;\n    /* width: 100%; */\n    transition: All 0.8s ease;\n    }\n  }\n\n  #Menu div.lnk {\n    color: var(--text);\n    display: block;\n    background-color: var(--secondary-label);\n    border-radius: 0.25em;\n    padding: 0.2em 0.6em;\n    margin: 2px 0;\n    text-decoration: none;\n  }\n  #Menu div.lnk.active {\n    background-color: var(--primary-highlight);\n  }\n  #Menu div.lnk:hover {\n      background-color: var(--primary-link)\n  }\n  #Menu div {\n      margin-bottom: 4px;\n  }\n  #Menu select {\n      color: var(--text);\n      background-color: var(--primary-highlight);\n      border-radius: 0.25em;\n      border: 0px none;\n      padding: 0.2em;\n      margin: 2px 0;\n  }\n #Menu.panel .close::after {\n    top: -0.5rem;\n    right: -0.5rem;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Menu.vue?vue&type=template&id=2ba81711&scoped=true\"\nimport script from \"./Menu.vue?vue&type=script&lang=js\"\nexport * from \"./Menu.vue?vue&type=script&lang=js\"\nimport style0 from \"./Menu.vue?vue&type=style&index=0&id=2ba81711&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ba81711\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div id=\"header\">\n        <div id=\"logo\" class=\"item fix level1\" @click=\"showAbout\"><img v-bind:src=\"aquariasymbol\" /></div>\n        <Title :showHelpIcon='showHelpIcon'/>\n        <Menu />\n    </div>\n</template>\n<script>\nimport Title from './Title'\nimport Menu from './Menu'\nexport default {\n  name: 'Header',\n  components: {\n    Title,\n    Menu\n  },\n  data () {\n    return {\n      aquariasymbol: require('../../assets/images/aquaria-symbol-01.svg')\n    }\n  },\n  props: ['showHelpIcon'],\n  methods: {\n    showAbout: function () {\n      this.$parent.appendHash('About')\n      this.$store.commit('setScrim', true)\n      this.$parent.showAboutAquaria = true\n      this.$parent.resetPopup()\n    }\n  }\n}\n</script>\n<style scoped>\n#header {\n  display: flex;\n  flex-flow: row nowrap;\n  /* Then we define how to distribute the remaining space */\n  justify-content: space-between;\n  margin-top: 0.5rem;\n  width: 100%;\n  height: 4em;\n}\n.item {\n    flex-grow: 0;\n    flex-basis: calc(2rem + 3 * ((100vw - 320px) / 680));\n    display: flex;\n}\n.item a {\n    display: flex;\n}\n.item  img {\n    height: calc(1.75rem + 2vh);\n}\n#logo {\n    left: 1vw;\n    top: 0.75vw;\n}\nstrong {\n    font-weight: 600;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=2e56b12b&scoped=true\"\nimport script from \"./Header.vue?vue&type=script&lang=js\"\nexport * from \"./Header.vue?vue&type=script&lang=js\"\nimport style0 from \"./Header.vue?vue&type=style&index=0&id=2e56b12b&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e56b12b\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.show)?_c('div',{class:_vm.scrimClass,style:({zIndex: _vm.loader ? 6 : _vm.scrimLevel}),attrs:{\"id\":\"scrim\"},on:{\"click\":_vm.dismissPanel}},[(_vm.loader)?_c('div',{attrs:{\"id\":\"waitingFrame\"}},[_c('div',{attrs:{\"id\":\"waitinghtml\"}},[_c('img',{attrs:{\"src\":_vm.overlay}}),_c('p',{attrs:{\"id\":\"appletMessage\"}},[_vm._v(_vm._s(_vm.loaderMsg))])])]):_vm._e()]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div id=\"scrim\" v-if=\"show\" @click=\"dismissPanel\" :class=\"scrimClass\" :style=\"{zIndex: loader ? 6 : scrimLevel}\">\n        <div id='waitingFrame' v-if=\"loader\">\n            <div id='waitinghtml'>\n                <img :src='overlay' />\n                <p id=\"appletMessage\">{{loaderMsg}}</p>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n  name: 'Scrim',\n  data () {\n    return {\n      overlay: require('../../assets/img/aquaria-loader3.svg')\n    }\n  },\n  props: ['show'],\n  computed: {\n    loader () {\n      return this.$store.state.Loader\n    },\n    loaderMsg () {\n      return this.$store.state.LoaderMsg\n    },\n    scrimClass () {\n      return 'level' + this.$store.state.scrimLevel\n    },\n    scrimLevel () {\n      return this.$store.state.scrimLevel\n    }\n  },\n  watch: {\n    show (val) {\n      if (!val) {\n        this.dismissPanel()\n      }\n    },\n    loader (bool) {\n      const hash = window.location.hash\n      // When loading state ends, is not a new user and does not have any panel fragments\n      if (!bool && !this.$store.state.newUser && !hash.match(/[a-z A-Z]{3,}/)) {\n        this.$store.commit('setScrim', false)\n      }\n    }\n  },\n  methods: {\n    dismissPanel () {\n      if (!document.querySelector('#waitingFrame')) {\n        this.$parent.dropFragment()\n      }\n      if (this.$store.state.errorMsg) {\n        document.querySelector('#errOk').click()\n      } else {\n        this.$parent.showSequenceInfo = false\n        this.$parent.showAlignmentInfo = false\n        this.$parent.showStructureInfo = false\n        this.$parent.showAboutAquaria = false\n        this.$store.commit('setScrim', false)\n        this.$parent.showHelpIcon = true\n        this.$parent.resetPopup()\n        this.$store.commit('setBottomPanel', false)\n        this.$store.commit('setHelpTitle', null)\n        this.$store.commit('setNewUserStatus', false)\n        this.$store.commit('setVariantCoordinates', null)\n      }\n    }\n  }\n}\n</script>\n\n<style type=text/css scoped>\n#waitinghtml {\n    background-color: rgba(0,0,0,0.7);\n    pointer-events: none;\n    height: 100vh;\n    width: 100vw;\n    display: flex;\n    flex-flow: column wrap;\n    text-align: center;\n}\np#appletMessage {\n    color: white;\n    text-align: center;\n    margin: 2rem auto;\n    height: 5rem;\n}\n#waitingFrame {\n    overflow: hidden;\n    width: 100vw;\n    top: 0px;\n    left: 0px;\n    height: 100vh;\n    position: fixed;\n    z-index: 6;\n    pointer-events: none;\n    display: block;\n}\nimg {\n    width: 20vh;\n    margin: auto;\n    transform: translate(0, 10vh);\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scrim.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scrim.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Scrim.vue?vue&type=template&id=2af733d3&scoped=true\"\nimport script from \"./Scrim.vue?vue&type=script&lang=js\"\nexport * from \"./Scrim.vue?vue&type=script&lang=js\"\nimport style0 from \"./Scrim.vue?vue&type=style&index=0&id=2af733d3&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2af733d3\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"panel overlay about level3\",attrs:{\"id\":\"Sequence\"}},[_c('SearchPanel'),_c('AboutUniprot')],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"searchByName\"}},[_c('p',[_vm._v(\"Organism\")]),_c('SearchOrganism'),_vm._m(0),_c('p',[_vm._v(\"Protein\")]),_c('SearchProtein'),_c('div',{attrs:{\"id\":\"psyns\"}},[_c('p',[_vm._v(\"(example: \"),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.fillin('p53')}}},[_vm._v(\"p53\")]),_vm._v(\" or \"),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.fillin('P04637');}}},[_vm._v(\"P04637\")]),_vm._v(\")\")])])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"osyns\"}},[_c('p',[_vm._v(\"\")])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('autocomplete',{ref:\"autocomplete\",attrs:{\"id\":\"organism_syn_input\",\"search\":_vm.search,\"get-result-value\":_vm.getResultValue},on:{\"submit\":_vm.handleSubmit}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n      <autocomplete\n      id=\"organism_syn_input\"\n      :search=\"search\"\n      :get-result-value=\"getResultValue\"\n      @submit=\"handleSubmit\"\n      ref=\"autocomplete\"\n    ></autocomplete>\n    </div>\n</template>\n<script>\nimport axios from 'axios'\nimport * as textpanel from '../InfoAbout/helpers/textpanels'\n// import * as resizeApp from '../AquariaLayout/helpers/resize_app'\n// import $ from 'jquery'\nimport store from '../../store/index'\nimport Autocomplete from '@trevoreyre/autocomplete-vue'\nimport '@trevoreyre/autocomplete-vue/dist/style.css'\n\nexport default {\n  name: 'SearchOrganism',\n  components: {\n    Autocomplete\n  },\n  data () {\n    return {\n      OrganismSynonyms: {}\n    }\n  },\n  computed: {\n    data () {\n      return {\n        OrgID: store.state.OrgID,\n        Organism: store.state.Organism\n      }\n    }\n  },\n  methods: {\n    getResultValue (result) {\n      return result.value\n    },\n    handleSubmit (result) {\n      var _this = this\n      if (result.value &&\n          result.value.indexOf('No organisms for: ') !== 0) {\n        if (result.id !== _this.data.OrgID) {\n          const url = `${window.BACKEND}/getOrganismSynonyms`\n          axios({\n            method: 'get',\n            url: url,\n            params: {\n              organism_id: result.id\n            }\n          })\n            .then(function (response) {\n              const orgNames = response.data\n              store.commit('setOrgID', result.id)\n              // AQUARIA.Organism.ID = result.id\n              localStorage.preferred_organism_name = result.value\n              textpanel.displayOrgSynonyms(orgNames)\n              document.querySelector('#organism_syn_input').setAttribute('size', result.value.length)\n            })\n        }\n      }\n    },\n    clear () {\n      this.value = ''\n      this.$refs.autocomplete.value = ''\n    },\n    search (input) {\n      var _this = this\n      var OrganismSynonyms = this.OrganismSynonyms\n      // resizeApp.startLogoSpin()\n      var labelValues\n      var term = input\n      this.value = input\n      //   const url = `${wikiUrl}/w/api.php?${\n      //     params\n      //   }&srsearch=${encodeURI(input)}`\n\n      return new Promise(resolve => {\n        if (term in OrganismSynonyms) {\n          resolve(OrganismSynonyms[term])\n          return\n        };\n        if (term !== '') {\n          var url = `${window.BACKEND}/getQueryOrganism/${term}`\n          axios({\n            method: 'get',\n            url: url\n          })\n            .then(function (res) {\n              const data = res.data\n              // AQUARIA.remote.queryOrganism(term,\n              // resize_appstopLogoSpin();\n              if (data.length > 0) {\n                labelValues = data.map(function (item) {\n                  return {\n                    label: item.Synonym,\n                    value: item.Synonym,\n                    id: item.Organism_ID\n                  }\n                })\n\n                OrganismSynonyms[term] = labelValues\n              } else {\n                labelValues = {\n                  label: 'No organisms for: ' + term,\n                  value: 0\n                }\n              }\n              document.querySelector('#autocomplete-result-list-1').style.zIndex = 99\n              document.querySelector('.autocomplete-result-list').style.maxHeight = '390px'\n              resolve(labelValues)\n            })\n        } else {\n          labelValues = {\n            label: _this.data.Organism,\n            value: _this.data.OrgID\n          }\n          resolve(labelValues)\n        }\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchOrganism.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchOrganism.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SearchOrganism.vue?vue&type=template&id=f1a1311c\"\nimport script from \"./SearchOrganism.vue?vue&type=script&lang=js\"\nexport * from \"./SearchOrganism.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('autocomplete',{ref:\"autocomplete\",attrs:{\"id\":\"protein_syn_input\",\"search\":_vm.search,\"get-result-value\":_vm.getResultValue},on:{\"submit\":_vm.handleSubmit}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <autocomplete\n    id=\"protein_syn_input\"\n    :search=\"search\"\n    :get-result-value=\"getResultValue\"\n    @submit=\"handleSubmit\"\n    ref=\"autocomplete\"\n  ></autocomplete>\n</template>\n<script>\nimport axios from 'axios'\nimport * as textpanel from '../InfoAbout/helpers/textpanels'\n// import * as resizeApp from '../AquariaLayout/helpers/resize_app'\nimport Autocomplete from '@trevoreyre/autocomplete-vue'\nimport '@trevoreyre/autocomplete-vue/dist/style.css'\nimport * as LoadAQUARIA from '../../utils/loadData'\nimport store from '../../store/index'\nimport { getAll } from '../../utils/topten'\n\nexport default {\n  name: 'SearchProtein',\n  components: {\n    Autocomplete\n  },\n  data () {\n    return {\n      callbackData: {\n        names: [],\n        ids: [],\n        pdbIDs: []\n      },\n      cacheProteinSynonyms: {},\n      term: null,\n      proteinSynonymOrgId: null,\n      pdbId: null,\n      collectResponsevalues: null\n    }\n  },\n  methods: {\n    getResultValue (result) {\n      return (result.value + ' (' + result.id + ')')\n    },\n    clear () {\n      this.value = ''\n      this.$refs.autocomplete.value = ''\n    },\n    handleSubmit (result) {\n      var _this = this\n      if (result.value &&\n          result.value.indexOf('No structures for: ') !== 0) {\n        var primaryAccession = result.id\n        if (primaryAccession.indexOf('/') > -1) {\n          var parts = primaryAccession.split('/')\n          primaryAccession = parts[0]\n          _this.pdbId = parts[1]\n        }\n        if (result.type === 'PDB') {\n          console.log('AQUARIA.proteinAutocomplete.select pdb', result.value)\n          store.commit('showLoader', true)\n          store.commit('setLoaderMsg', 'Waiting for data...')\n          //   var chain = null\n          var url = `${window.BACKEND}/getAccessionForPDB/${result.value}`\n          axios({\n            method: 'get',\n            url: url\n          })\n            .then(function (response) {\n              const accessionObject = response.data\n              LoadAQUARIA.loadAccession([accessionObject.Accession], result.value, null)\n            })\n        } else if (result.id === store.getters.getStructure.accession) {\n          if (result.value === store.getters.getGene) {\n            store.commit('showLoader', false)\n            // do nothing\n          } else {\n            console.log('AQUARIA.proteinAutocomplete.select same protein, different name', result.value)\n            store.commit('setGene', result.value)\n            url = `${window.BACKEND}/getProteinSynonyms/${store.getters.getStructure.accession};`\n            axios({\n              method: 'get',\n              url: url\n            })\n              .then(function (response) {\n                textpanel.displayProtSynonyms(response.data)\n              })\n            // Figure out a way to bring currentData\n            //   AQUARIA.update3DTitle(AQUARIA.structures2match.source_primary_accession,\n            //     currentData.pdb_id, AQUARIA.currentChain, AQUARIA.molecule_name, AQUARIA.currentMember.alignment_identity_score)\n            //   AQUARIA.updateDocumentTitle(AQUARIA.currentMember.alignment_identity_score, currentData.pdb_id, AQUARIA.currentChain)\n            //   featurelist.updateFeatureTabTitle(AQUARIA.preferred_protein_name)\n          }\n        } else {\n          /// console.log('AQUARIA.proteinAutocomplete.select new protein', ui.item.value);\n          document.querySelector('#protein_syn_input').placeholder = result.value\n          document.querySelector('#protein_syn_input').value = ''\n          store.commit('showLoader', true)\n          store.commit('setLoaderMsg', 'Waiting for data...')\n          store.commit('setGene', result.value)\n          LoadAQUARIA.loadAccession([primaryAccession], _this.pdbId, null)\n        }\n      } else {\n        event.preventDefault()\n      }\n    },\n    search (input) {\n      var _this = this\n      _this.term = input\n      _this.callbackData.LRU = _this.getLRU()\n      return new Promise(resolve => {\n        if (_this.term === '') {\n          _this.collectResponse()\n          if (_this.collectResponsevalues) {\n            resolve(_this.collectResponsevalues)\n          }\n        } else {\n          // resizeApp.startLogoSpin()\n          _this.proteinSynonymOrgId = _this.term + '%' + _this.$store.state.OrgID\n          if (_this.proteinSynonymOrgId in _this.cacheProteinSynonyms) {\n            resolve(_this.cacheProteinSynonyms[_this.proteinSynonymOrgId])\n            return\n          };\n          document.querySelector('.autocomplete-result-list').style.maxHeight = '390px'\n          var url = `${window.BACKEND}/queryProtein/${_this.term}/${_this.$store.state.OrgID}`\n          axios({\n            method: 'get',\n            url: url\n          })\n            .then(function (response) {\n              const data = response.data\n              if (!isNaN(parseInt(_this.term.charAt(0)))) {\n                _this.pdbCallback(data)\n                if (_this.collectResponsevalues) {\n                  resolve(_this.collectResponsevalues)\n                }\n              } else {\n                if (data.length > 0) {\n                  if (data[0].isID === 0) {\n                    _this.nameCallback(data)\n                    if (_this.collectResponsevalues) {\n                      resolve(_this.collectResponsevalues)\n                    }\n                  } else {\n                    _this.idCallback(data)\n                  }\n                } else {\n                  if (data.isID === 0) {\n                    _this.nameCallback(data)\n                    if (_this.collectResponsevalues) {\n                      resolve(_this.collectResponsevalues)\n                    }\n                  } else {\n                    _this.idCallback(data)\n                    if (_this.collectResponsevalues) {\n                      resolve(_this.collectResponsevalues)\n                    }\n                  }\n                }\n              }\n            })\n        }\n      })\n    },\n    getLRU: function () {\n      return getAll().map(function (item) {\n        return {\n          label: item.name,\n          suffix: item.primary_accession + ', ' + item.pdb_id,\n          value: item.name,\n          type: 'LRU',\n          category: 'Recent',\n          id: item.primary_accession + '/' + item.pdb_id\n        }\n      })\n    },\n    collectResponse: function () {\n      var _this = this\n      var lruMatches = _this.callbackData.LRU\n      if (lruMatches.length > 0 && _this.term && _this.term.length > 0) {\n        lruMatches = lruMatches.filter(function (val) {\n          if (val.label) {\n            return val.label.toLowerCase().startsWith(_this.term.toLowerCase())\n          }\n        })\n      }\n      var showPopup = true\n      var allValues = lruMatches.concat(_this.callbackData.names).concat(_this.callbackData.ids).concat(_this.callbackData.pdbIDs)\n      if (allValues.length === 0) {\n        if (_this.term && _this.term.length > 0) {\n          allValues = [{\n            label: 'No structures for: ' + _this.term,\n            value: 0\n          }]\n        } else {\n          showPopup = false\n        }\n      }\n      /// console.log('AQUARIA.proteinAutocomplete received', allValues)\n      _this.cacheProteinSynonyms[_this.proteinSynonymOrgId] = allValues\n      if (showPopup) {\n        _this.collectResponsevalues = allValues\n      }\n    },\n    // Autocomplete for gene name\n    nameCallback: function (nameData) {\n      var labelValues\n      var _this = this\n      labelValues = nameData.map(function (item) {\n        return {\n          label: item.Synonym,\n          suffix: null,\n          value: item.Synonym,\n          type: 'Synonym',\n          category: 'Names',\n          id: item.Primary_Accession,\n          organism: item.Organism_ID\n        }\n      })\n      labelValues.sort(function (a, b) {\n        return a.label > b.label ? 1 : -1\n      })\n      labelValues.reduce(function (previous, current) {\n        var a = previous\n        var b = current\n        if (a && a.value === b.value) {\n          if (a.dup) {} else {\n            a.suffix = a.id\n            a.dup = true\n          }\n          if (b.dup) {\n\n          } else {\n            b.suffix = b.id\n            b.dup = true\n          }\n        }\n        return current\n      }, null)\n      _this.callbackData.names = labelValues\n      _this.collectResponse()\n      // resizeApp.stopLogoSpin()\n    },\n    // Autocomplete for Primary Accession\n    idCallback: function (idData) {\n      var _this = this\n      var labelValues\n      labelValues = idData.map(function (item) {\n        var suffix = item.Source_Field\n        if (suffix === 'AC' || suffix === 'ID') {\n          suffix = 'UniProt'\n        }\n        return {\n          label: item.Synonym,\n          suffix: suffix,\n          value: item.Synonym,\n          type: suffix,\n          category: 'Identifiers',\n          id: item.Primary_Accession\n        }\n      })\n      labelValues.sort(function (a, b) {\n        return a.label > b.label ? 1 : -1\n      })\n      _this.callbackData.ids = labelValues\n      _this.collectResponse()\n      // resizeApp.stopLogoSpin()\n    },\n    // Autocomplete for PDB\n    pdbCallback: function (pdbData) {\n      var _this = this\n      var labelValues\n      labelValues = pdbData.map(function (item) {\n        return {\n          label: item.Synonym,\n          suffix: 'PDB',\n          type: 'PDB',\n          value: item.Synonym,\n          category: item.Category,\n          id: item.Synonym\n        }\n      })\n      _this.callbackData.pdbIDs = labelValues\n      _this.collectResponse()\n      // resizeApp.stopLogoSpin()\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchProtein.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchProtein.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SearchProtein.vue?vue&type=template&id=feedf134\"\nimport script from \"./SearchProtein.vue?vue&type=script&lang=js\"\nexport * from \"./SearchProtein.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"searchByName\">\n    <p>Organism</p>\n    <SearchOrganism/>\n    <div id='osyns'>\n      <p>&nbsp;</p>\n    </div>\n    <p>Protein</p>\n    <SearchProtein/>\n    <div id='psyns'>\n      <p>(example: <a href=\"#\" v-on:click=\"fillin('p53')\">p53</a> or <a href=\"#\" v-on:click=\"fillin('P04637');\">P04637</a>)</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport $ from 'jquery'\nimport SearchOrganism from './SearchOrganism'\nimport SearchProtein from './SearchProtein'\nexport default {\n  components: {\n    SearchOrganism,\n    SearchProtein\n  },\n  name: 'SearchPanel',\n  data () {\n    return {\n      search: require('../../assets/img/search_dark.png')\n    }\n  },\n  methods: {\n    fillin: function (term) {\n      document.getElementById('protein_syn_input').value = term\n      setTimeout(function () {\n        window.location.href = '/P04637'\n      }, 300)\n    },\n    selectOrganism: function (event) {\n\n    },\n    placeholderText: function (organism, protein) {\n      var orgInput = document.querySelector('#organism_syn_input')\n      var protInput = document.querySelector('#protein_syn_input')\n      orgInput.placeholder = organism\n      orgInput.setAttribute('size', orgInput.getAttribute('placeholder').length)\n      protInput.placeholder = protein\n      protInput.setAttribute('size', protInput.getAttribute('placeholder').length)\n\n      $('#organism_syn_input').focus(function () {\n        $(this).attr('placeholder', 'Specify an organism')\n        orgInput.setAttribute('size', orgInput.getAttribute('placeholder').length)\n      }).blur(function () {\n        $(this).attr('placeholder', organism)\n        orgInput.setAttribute('size', orgInput.getAttribute('placeholder').length)\n      })\n\n      $('#protein_syn_input').focus(function () {\n        $(this).attr('placeholder', 'Specify a protein')\n        protInput.setAttribute('size', protInput.getAttribute('placeholder').length)\n      }).blur(function () {\n        $(this).attr('placeholder', protein)\n        protInput.setAttribute('size', protInput.getAttribute('placeholder').length)\n      })\n    }\n  }\n}\n</script>\n\n<style>\n#searchByName {\n  width: 100%;\n}\n.contents p {\n  margin: 0.5em 0;\n}\n  input {\n    z-index: 40;\n    border: none;\n    color: #333333;\n    padding: 0.2rem 0.5rem;\n    font-size: 0.9rem;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchPanel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchPanel.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SearchPanel.vue?vue&type=template&id=2d21ac4c\"\nimport script from \"./SearchPanel.vue?vue&type=script&lang=js\"\nexport * from \"./SearchPanel.vue?vue&type=script&lang=js\"\nimport style0 from \"./SearchPanel.vue?vue&type=style&index=0&id=2d21ac4c&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"scrollable\",attrs:{\"data-intro\":\"UniProt summary of the specified protein's function.\",\"data-position\":\"right\"}},[_vm._m(0),(_vm.uniprotDesc)?_c('div',{attrs:{\"id\":\"uniProtDesc\"}}):_vm._e(),_vm._l((_vm.descriptions),function(description,i){return _c('div',{key:i,staticClass:\"expandable\"},[_c('expandable-text-line',{attrs:{\"use-hover\":\"\"},domProps:{\"innerHTML\":_vm._s('<strong>' + description[0] + '</strong>:' + description[1])}})],1)})],2)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"gsyns\"}},[_c('p',[_vm._v(\"Genes: \")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n    <!-- About Uniprot -->\n    <div data-intro=\"UniProt summary of the specified protein's function.\" data-position=\"right\" class=\"scrollable\">\n      <div style=\"display:none;\"\n            id='gsyns'>\n        <p>Genes: &nbsp;</p>\n      </div>\n      <div id=\"uniProtDesc\" v-if=\"uniprotDesc\"></div>\n        <div v-for=\"(description, i) in descriptions\" :key=\"i\" class='expandable'>\n          <expandable-text-line use-hover v-html=\"'<strong>' + description[0] + '</strong>:' + description[1]\">\n          </expandable-text-line>\n      </div>\n    </div>\n</template>\n\n<script>\nimport ExpandableTextLine from 'vue-expandable-text-line'\nimport { mapGetters } from 'vuex'\n\nexport default {\n  name: 'AboutUniprot',\n  components: {\n    ExpandableTextLine\n  },\n  data () {\n    return {\n      uniprotDesc: null,\n      sections: [],\n      descriptions: [],\n      a: [1, 2, 3],\n      tightSections: [],\n      desc: null,\n      list: []\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'getStructure'\n    ]),\n    sequence () {\n      return this.$store.state.currentSequence\n    }\n  },\n  watch: {\n    sequence (newCount) {\n      var _this = this\n      if (newCount.length > 0) {\n        _this.uniprotDesc = newCount.description\n        _this.updateUniprotInfo(_this.uniprotDesc)\n      }\n    }\n  },\n  methods: {\n    updateUniprotInfo: function (info) {\n      var _this = this\n      _this.list = []\n      _this.tightSections = []\n      var patt = /\\n[A-Z ]+:.*?$/\n      function extractLines () {\n        if (info && info.length > 0) {\n          var match = info.match(patt)\n          if (match !== null) {\n            _this.sections.unshift(match[0].split(': '))\n            info = info.replace(match[0], '')\n            extractLines()\n          } else {\n            _this.sections.unshift(info.split(': '))\n          }\n        }\n      }\n\n      extractLines()\n      this.sections.forEach(function (k) {\n        // format URLs\n        if (k[1].indexOf('URL=') !== -1) { /// /console.log(\"URL found in section[\"+k+\"]\");\n          var linkCode = ''; var lhref = ''; var lname = ''; var ltitle = ''\n          var parts = k[1].split(';')\n          parts.forEach(function (n) { // parts is max. 3 strings (Name, URL, Note)\n            n = n.split('=') /// /console.log(\"parts[\"+n+\"]: \"+ parts[n].toString());\n            if (n[0].indexOf('URL') !== -1) { lhref = n[1] }\n            if (n[0].indexOf('Name') !== -1) { lname = n[1] }\n            if (n[0].indexOf('Note') !== -1) { ltitle = n[1] }\n          })\n          linkCode = '<a href=' + lhref + ' title=\"' + ltitle + '\" target=\"_blank\">' + lname + '</a>' /// /console.log(\"linkCode: \"+linkCode);\n          k[1] = linkCode\n        }\n      })\n\n      function makeLists (fromCollection) { // convert items with the same header to bullet lists:\n        var list = null\n        for (var n = 0; n < fromCollection.length; n++) {\n          if (n < fromCollection.length - 2) {\n            var head = fromCollection[n][0]\n            var nextHead = fromCollection[(n + 1)][0]\n            // if the next header matches the current header, start a bullet list\n            if (nextHead === head) {\n              if (list === null) { list = '<ul>' }\n              list += '<li>' + fromCollection[n][1] + '</li>'\n            } else {\n              if (list === null) { // no open list\n                // since the next header is different, add the current item to the new array\n                _this.tightSections.push(fromCollection[n])\n              } else { // make a list item, close the list, and add it to the new array\n                list += '<li>' + fromCollection[n][1] + '</li></ul>'\n                var newList = [head, list]\n                _this.tightSections.push(newList)\n                list = null\n              }\n            }\n          } else { // n has reached the end of the sections array\n            if (list === null) { // no open list\n              _this.tightSections.push(fromCollection[n])\n            } else {\n              list += '<li>' + fromCollection[n][1] + '</li></ul>'\n              newList = [head, list]\n              _this.tightSections.push(newList)\n              list = null\n            }\n          }\n        } /// /console.log(tightSections.toString());\n        return _this.tightSections\n      }\n      var finalList = makeLists(_this.sections)\n      finalList.forEach(function (section) {\n        var EachSec = ''\n        if (section.length > 2) {\n          for (var i = 1; i < section.length; i++) {\n            EachSec = EachSec + ' ' + section[i]\n          }\n          section[1] = EachSec\n        }\n        _this.list.push(section)\n      })\n      _this.descriptions = _this.list\n    }\n  }\n}\n</script>\n\n<style scoped>\n.expandable {\n  margin: 8px 0px;\n  /* cursor: ns-resize; */\n}\n.expandable-text-line {\n  cursor: s-resize;\n}\n.expandable-text-line.__extl-expanded{\n  cursor: n-resize;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutUniprot.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutUniprot.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AboutUniprot.vue?vue&type=template&id=7c383769&scoped=true\"\nimport script from \"./AboutUniprot.vue?vue&type=script&lang=js\"\nexport * from \"./AboutUniprot.vue?vue&type=script&lang=js\"\nimport style0 from \"./AboutUniprot.vue?vue&type=style&index=0&id=7c383769&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7c383769\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div id=\"Sequence\" class=\"panel overlay about level3\">\n      <SearchPanel />\n      <AboutUniprot />\n    </div>\n  </div>\n</template>\n<script>\nimport SearchPanel from '../Search/SearchPanel'\nimport AboutUniprot from './AboutUniprot'\nexport default {\n  name: 'Sequence',\n  components: {\n    SearchPanel,\n    AboutUniprot\n  },\n  props: ['showSequencePanel'],\n  watch: {\n    showSequencePanel (bool) {\n      if (bool) {\n        document.querySelector('#Sequence').style.opacity = 1\n        document.querySelector('#Sequence').style.display = 'flex'\n      } else {\n        document.querySelector('#Sequence').style.opacity = 0\n        document.querySelector('#Sequence').style.display = 'none'\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n#Sequence {\n  background-color: var(--primary-tab);\n  opacity: 0;\n  height: auto;\n  order: 3;\n  flex-direction: column;\n  /* width: 100%; */\n  transition: All 0.8s ease;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sequence.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sequence.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Sequence.vue?vue&type=template&id=4c266b70&scoped=true\"\nimport script from \"./Sequence.vue?vue&type=script&lang=js\"\nexport * from \"./Sequence.vue?vue&type=script&lang=js\"\nimport style0 from \"./Sequence.vue?vue&type=style&index=0&id=4c266b70&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c266b70\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"panel overlay about level3\",attrs:{\"id\":\"Alignment\"}},[_c('div',{staticClass:\"scrollable\"},[(_vm.data.alignment)?_c('p',{staticClass:\"spacer\"},[_vm._v(\"\")]):_vm._e(),_c('p',[_vm._v(\"What you see in the 3D viewer is the experimentally-determined structure of \"+_vm._s(_vm.pdbName)+\" from \"),_c('a',{attrs:{\"href\":\"http://www.rcsb.org/pdb/explore.do?structureId={{}}\",\"target\":\"_blank\"}},[_vm._v(\" PDB entry \"+_vm._s(_vm.pdbId))]),_vm._v(\" chain \"+_vm._s(_vm.chainId)+\". \")]),_c('p',[_vm._v(\" The full-length sequence of the protein you specified (\"+_vm._s(_vm.uniprotName)+\") has been aligned onto the sequence used to determine this PDB structure.\")]),_c('p',[_vm._v(\" Overall, the two sequences align with \"+_vm._s(_vm.score)+\"% identity; any amino acid substitutions are indicated using dark coloring (see legend).\")]),_c('p',{staticClass:\"quality\"},[_vm._v(\" This alignment has an HHblits E-value of \"+_vm._s(_vm.evalueString)+\"  \"),_c('nobr',[_vm._v(\"10\"),_c('sup',[_vm._v(_vm._s(_vm.power))])]),_vm._v(\", which is considered to be \"+_vm._s(_vm.quality)+\". Based on cross-validation, the likelihood that your specified protein (\"+_vm._s(_vm.uniprotName)+\") adopts a structure similar to that shown is estimated to be \"+_vm._s(_vm.precisiontxt)+\"%.\")],1),_c('p',[_vm._v(\"Note that the structure shown is taken directly from the PDB; it has not been derived by ab-initio or comparative modeling.\")]),(_vm.data.alignment)?_c('div',[_c('p',[_c('b',[_vm._v(\"Alignment:\")]),_c('br'),_c('pre',[_vm._v(_vm._s(_vm.data.alignment))])])]):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <!-- About Alignment -->\n    <div id=\"Alignment\" class=\"panel overlay about level3\" >\n      <div class=\"scrollable\">\n        <p class=\"spacer\" v-if=\"data.alignment\">&nbsp;</p>\n        <p>What you see in the 3D viewer is the experimentally-determined structure of {{pdbName}} from\n        <a href='http://www.rcsb.org/pdb/explore.do?structureId={{}}' target='_blank'> PDB entry {{pdbId}}</a> chain {{chainId}}.\n        </p>\n        <p> The full-length sequence of the protein you specified ({{uniprotName}}) has been aligned onto the sequence used to determine this PDB structure.</p>\n        <p> Overall, the two sequences align with {{score}}% identity; any amino acid substitutions are indicated using dark coloring (see legend).</p>\n        <p class='quality'> This alignment has an HHblits E-value of {{evalueString}} &times; <nobr>10<sup>{{power}}</sup></nobr>, which is considered to be {{quality}}.\n            Based on cross-validation, the likelihood that your specified protein ({{uniprotName}}) adopts a structure similar to that shown is estimated to be {{precisiontxt}}%.</p>\n            <p>Note that the structure shown is taken directly from the PDB; it has not been derived by ab-initio or comparative modeling.</p>\n        <div v-if=\"data.alignment\"> <!-- :use-click=\"hover\" -->\n            <!-- <p v-if=\"$mq === 'laptop' || $mq === 'tablet'\"><b>Alignment:</b><br/> -->\n            <p><b>Alignment:</b><br/>\n              <pre>{{ data.alignment }}</pre>\n            </p>\n        </div>\n      </div>\n    </div>\n</template>\n<script>\nimport store from '../../store/index'\n// import ExpandableTextLine from 'vue-expandable-text-line'\n\nexport default {\n  name: 'AboutAlignment',\n  // components: {\n  //   ExpandableTextLine\n  // },\n  // props: ['alignment'],\n  computed: {\n    data () {\n      return {\n        alignment: store.state.alignment\n      }\n    },\n    pdbChainData () {\n      return store.state.pdbChainData\n    }\n  },\n  data () {\n    return {\n      pdbName: null,\n      pdbId: null,\n      chainId: null,\n      score: null,\n      qualClass: null,\n      evalueString: null,\n      quality: null,\n      uniprotName: null,\n      precisiontxt: null,\n      power: null\n    }\n  },\n  props: ['showAlignmentPanel'],\n  watch: {\n    showAlignmentPanel (bool) {\n      if (bool) {\n        document.querySelector('#Alignment').style.opacity = 1\n        document.querySelector('#Alignment').style.display = 'flex'\n      } else {\n        document.querySelector('#Alignment').style.opacity = 0\n        document.querySelector('#Alignment').style.display = 'none'\n      }\n    },\n    pdbChainData: function (newData) {\n      var _this = this\n      if (newData.pdbName) {\n        _this.pdbName = newData.pdbName\n        _this.pdbId = newData.pdb_id\n        _this.chainId = newData.pdb_chain\n        _this.score = newData.score\n        _this.qualClass = newData.qualClass\n        _this.evalueString = newData.evalueString\n        _this.quality = newData.quality\n        _this.uniprotName = newData.uniprotName\n        _this.precisiontxt = newData.precisiontxt\n        _this.power = newData.power\n      }\n    }\n  },\n  methods: {\n    resetSelection: function () {\n      document.querySelectorAll('#titlebar span').forEach(el => {\n        el.className = 'titlepanel'\n      })\n      document.querySelectorAll('.contents').forEach(el => {\n        el.style.display = 'none'\n      })\n    }\n  },\n  mounted () {\n    this.resetSelection()\n  }\n}\n</script>\n<style scoped>\n#Alignment {\n  background-color: var(--primary-tab);\n  opacity: 0;\n  height: auto;\n  order: 3;\n  flex-direction: column;\n  /* width: 100%; */\n  transition: All 0.8s ease;\n}\npre {\n  font-size: clamp(0.5rem, -0.254rem + 1.4141vw, 0.85rem);\n  max-height: 33vh;\n  overflow: auto;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutAlignment.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutAlignment.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AboutAlignment.vue?vue&type=template&id=719899c4&scoped=true\"\nimport script from \"./AboutAlignment.vue?vue&type=script&lang=js\"\nexport * from \"./AboutAlignment.vue?vue&type=script&lang=js\"\nimport style0 from \"./AboutAlignment.vue?vue&type=style&index=0&id=719899c4&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"719899c4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"panel overlay about level3\",attrs:{\"id\":\"Structure\"}},[_c('div',{staticClass:\"scrollable\",attrs:{\"id\":\"description\",\"data-intro\":\"PDB summary for the shown structure.\",\"data-position\":\"bottom\"}},[_c('span',{staticClass:\"content\",attrs:{\"id\":\"description\",\"data-intro\":\"PDB summary for the shown structure.\",\"data-position\":\"bottom\"}},[_c('span',{staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"biounitDisplay\"}},[_c('span',{staticStyle:{\"display\":\"inline-block\"},attrs:{\"id\":\"biounitLeft\",\"title\":\"Navigate to other assemblies\"},on:{\"click\":_vm.biounitLeft}},[_vm._v(\"<\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"display\":\"inline-block\"},attrs:{\"id\":\"biounitType\"}},[_vm._v(\"biounit\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"display\":\"inline-block\"},attrs:{\"id\":\"biounitCount\"}},[_vm._v(\"x/x\")]),_vm._v(\"  \"),_c('span',{staticStyle:{\"display\":\"inline-block\"},attrs:{\"id\":\"biounitRight\",\"title\":\"Navigate to other assemblies\"},on:{\"click\":_vm.biounitRight}},[_vm._v(\">\")]),_vm._m(0)]),_vm._m(1),_vm._m(2),_vm._m(3),_vm._m(4),_vm._m(5),_vm._m(6)])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('a',{attrs:{\"id\":\"helpBiounit\",\"href\":\"https://pdb101.rcsb.org/learn/guide-to-understanding-pdb-data/biological-assemblies#Anchor-BioUnit\",\"target\":\"_blank\",\"title\":\"Go to PDB to view explanation of assembly\"}},[_c('span',{staticClass:\"help roundButton\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"aboutPDBHider\",\"data-intro\":\"PubMed Information about PDB structure\",\"data-position\":\"left\"}},[_c('p',{attrs:{\"id\":\"classification\"}},[_vm._v(\"Classification unavailable\")]),_c('h4',{attrs:{\"id\":\"reference_title\"}},[_vm._v(\"Title unavailable\")]),_c('p',{attrs:{\"id\":\"reference_link\"}},[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"PubMed Link unavailable\")])]),_c('p',{attrs:{\"id\":\"molecule\",\"title\":\"View this structure in Aquaria\",\"data-intro\":\"Information about currently focused PDB chain.\",\"data-position\":\"left\"}},[_c('strong',[_vm._v(\"Molecule: \")]),_c('span',{staticClass:\"text\"},[_vm._v(\"unavailable\")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',{attrs:{\"id\":\"organism\"}},[_c('strong',[_vm._v(\"Organism: \")]),_c('span',{staticClass:\"text\"},[_vm._v(\"unavailable\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',{attrs:{\"id\":\"small_molecules\"}},[_c('strong',[_vm._v(\"Small molecules: \")]),_c('span',{staticClass:\"text\"},[_vm._v(\"unavailable\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',{attrs:{\"id\":\"method\"}},[_c('strong',[_vm._v(\"Method: \")]),_c('span',{staticClass:\"text\"},[_vm._v(\"unavailable\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',{attrs:{\"id\":\"resolution\"}},[_c('strong',[_vm._v(\"Resolution: \")]),_c('span',{staticClass:\"text\"},[_vm._v(\"unavailable\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',{attrs:{\"id\":\"pdb\"}},[_c('strong',[_vm._v(\"Protein Data Bank: \")]),_c('span',{staticClass:\"text\"},[_vm._v(\"unavailable\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n    <!-- About PDB -->\n    <div id=\"Structure\" class=\"panel overlay about level3\">\n      <div class=\"scrollable\"  id=\"description\" data-intro=\"PDB summary for the shown structure.\" data-position=\"bottom\">\n        <span class=\"content\" id=\"description\" data-intro=\"PDB summary for the shown structure.\" data-position=\"bottom\">\n            <span id=\"biounitDisplay\" style=\"display: none;\">\n                <span id=\"biounitLeft\" style=\"display: inline-block;\" title=\"Navigate to other assemblies\" @click=\"biounitLeft\">&lt;</span>\n                &nbsp;<span id=\"biounitType\" style=\"display: inline-block;\">biounit</span>\n                &nbsp;<span id=\"biounitCount\" style=\"display: inline-block;\">x/x</span>\n                &nbsp;\n                <span id=\"biounitRight\" style=\"display: inline-block;\" title=\"Navigate to other assemblies\" @click=\"biounitRight\">&gt;</span>\n                <a id=\"helpBiounit\" href=\"https://pdb101.rcsb.org/learn/guide-to-understanding-pdb-data/biological-assemblies#Anchor-BioUnit\" target=\"_blank\" title=\"Go to PDB to view explanation of assembly\">\n                    <span class=\"help roundButton\"> </span>\n                </a>\n            </span>\n            <span id=\"aboutPDBHider\" style=\"display: none;\" data-intro=\"PubMed Information about PDB structure\" data-position=\"left\">\n                <p id=\"classification\">Classification unavailable</p>\n                <h4 id=\"reference_title\">Title unavailable</h4>\n                <p id=\"reference_link\"><a href=\"#\">PubMed Link unavailable</a></p>\n                <p id=\"molecule\" title=\"View this structure in Aquaria\" data-intro=\"Information about currently focused PDB chain.\" data-position=\"left\">\n                    <strong>Molecule: </strong>\n                    <span class=\"text\">unavailable</span>\n                </p>\n            </span>\n            <p id=\"organism\"><strong>Organism: </strong><span class=\"text\">unavailable</span></p>\n            <p id=\"small_molecules\"><strong>Small molecules: </strong><span class=\"text\">unavailable</span></p>\n            <p id=\"method\"><strong>Method: </strong><span class=\"text\">unavailable</span></p>\n            <p id=\"resolution\"><strong>Resolution: </strong><span class=\"text\">unavailable</span></p>\n            <p id=\"pdb\"><strong>Protein Data Bank: </strong><span class=\"text\">unavailable</span></p>\n        </span>\n      </div>\n    </div>\n</template>\n\n<script>\nimport { display3DStructure } from '../../utils/loadData'\nexport default {\n  name: 'AboutPdb',\n  props: ['showPDBPanel'],\n  computed: {\n    biounit () {\n      return this.$store.state.biounit\n    },\n    currentData () {\n      return this.$store.state.structureAlignment\n    },\n    matches () {\n      return this.$store.state.Matches\n    }\n  },\n  watch: {\n    showPDBPanel (bool) {\n      if (bool) {\n        document.querySelector('#Structure').style.opacity = 1\n        document.querySelector('#Structure').style.display = 'flex'\n      } else {\n        document.querySelector('#Structure').style.opacity = 0\n        document.querySelector('#Structure').style.display = 'none'\n      }\n    }\n  },\n  methods: {\n    biounitLeft () {\n      var currentBiounit = this.biounit - 1\n      var data = this.currentData\n      data.biounits = currentBiounit\n      display3DStructure(data)\n    },\n    biounitRight () {\n      var currentBiounit = this.biounit + 1\n      var data = this.currentData\n      data.biounits = currentBiounit\n      display3DStructure(data)\n    }\n  }\n}\n</script>\n\n<style scoped>\n#Structure {\n  background-color: var(--primary-tab);\n  opacity: 0;\n  height: auto;\n  order: 3;\n  flex-direction: column;\n  /* width: 100%; */\n  transition: All 0.8s ease;\n}\n#aboutPDBHider{\n    height: 350px;\n    overflow: scroll;\n}\n\n#description span.content {\n    height: fit-content;\n    overflow: hidden;\n    display: block;\n}\ndiv.panel span.content, div.panel p {\n    padding: 0 6px;\n}\ndiv.panel span, span.section {\n    display: inline;\n}\n\nspan.explanation a {\n    color: #6df;\n    text-decoration: none;\n}\n\ndiv.panel span#biounitDisplay {\n    color: #555;\n    padding: 2px 0;\n    /* background-image: -webkit-linear-gradient(top, #ccc, #aaa); */\n}\n\n#biounitLeft {\n    background: transparent url('../../assets/images/ar-le.png') no-repeat center;\n}\n#biounitRight {\n    background: transparent url('../../assets/images/ar-ri.png') no-repeat center;\n}\n#biounitLeft, #biounitRight {\n    cursor: pointer;\n    color: transparent;\n    width: 16px;\n    text-align: center;\n}\n\ndiv.panel span.help {\n    display: inline-block;\n    width: 17px;\n    height: 17px;\n    background: url('../../assets/images/UI-help.png') no-repeat 0px 0px;\n    margin-left: 8px;\n}\n\ndiv.panel h4#reference_title {\n    padding: 0 6px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutPdb.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutPdb.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AboutPdb.vue?vue&type=template&id=0ea13c30&scoped=true\"\nimport script from \"./AboutPdb.vue?vue&type=script&lang=js\"\nexport * from \"./AboutPdb.vue?vue&type=script&lang=js\"\nimport style0 from \"./AboutPdb.vue?vue&type=style&index=0&id=0ea13c30&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ea13c30\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"structure-viewer\"}},[_c('span',{attrs:{\"id\":\"threeDSpan\"}},[_c('div',{attrs:{\"id\":\"threeDSpan-inner\"}})])])\n}]\n\nexport { render, staticRenderFns }","/**\n * Linear interpolate one value to another over a given duration with a given interval frequency\n * @param {number} start start value\n * @param {number} end end value\n * @param {number} duration total duration of the lerp (ms)\n * @param {number} frequency time between intervals (ms)\n * @param {(value: number, finished: boolean) => void} callback\n * @returns {number} timer ID, which will be automatically cleared on completion or can be manually cleared with setInterval\n */\nfunction lerpFrequency (start, end, duration, frequency, callback) {\n    return lerpInternal(start, end, duration, frequency, callback)\n}\n\n/**\n * Linear interpolate one value to another over a given duration with a given number of intervals\n * @param {number} start start value\n * @param {number} end end value\n * @param {number} duration total duration of the lerp (ms)\n * @param {number} intervals number of intervals\n * @param {(value: number, finished: boolean) => void} callback\n * @returns {number} timer ID, which will be automatically cleared on completion or can be manually cleared with setInterval\n */\nfunction lerpIntervals (start, end, duration, intervals, callback) {\n    const frequency = duration / intervals\n    return lerpInternal(start, end, duration, frequency, callback);\n}\n\nfunction lerpInternal (start, end, duration, frequency, callback) {\n    const delta = (end - start) / (duration / frequency)\n    let value = start\n    const timer = setInterval(() => {\n      value += delta\n      let finished = false\n      if (Math.abs(value - end <= Number.EPSILON)) {\n        value = end // account for rounding errors\n        clearInterval(timer)\n        finished = true\n      }\n      callback(value, finished)\n    }, frequency)\n    return timer\n}\n\nexport { lerpIntervals, lerpFrequency }","<template>\n  <div id=\"structure-viewer\">\n    <span id=\"threeDSpan\">\n      <div id=\"threeDSpan-inner\"></div>\n    </span>\n  </div>\n</template>\n\n<script>\nimport * as panel3d from './helpers/joleculeAPI'\nimport { lerpFrequency } from './helpers/timers'\n\n// total time for fade animation (ms)\nconst SELECTION_FADE_DURATION_MS = 2000\n// interval between fade increments (ms)\nconst SELECTON_FADE_INTERVAL_MS = 100\n// default selection lightness offset (0.3 is jolecule standard)\nconst DEFAULT_SELECTION_LIGHTNESS_OFFSET = 0.3\n\nexport default {\n  name: 'StructureViewer',\n  data () {\n    return {\n      timer: null\n    }\n  },\n  computed: {\n    selectedResidues () {\n      return this.$store.state.selectedResidues\n    }\n  },\n  // computed: {\n  //   hash () {\n  //     return store.state.hash\n  //   }\n  // },\n  watch: {\n    selectedResidues (newVal) {\n      if (newVal.length > 0) {\n        this.hideSelection()\n      }\n    }\n  },\n  // @TODO On residue click, if new chain selected, remove sequence bar and diselect\n  // computed: {\n  //   sequence () {\n  //     return store.state.structure\n  //   }\n  // },\n  // watch: {\n  //   sequence (newVal, oldVal) {\n  //     if (oldVal.accession !== newVal.accession && oldVal.accession !== null) { // Only redraw coverage map if new chain\n  //       window.scrollBy(0, 100)\n  //       document.querySelector('#vis > .ruler').remove()\n  //       document.querySelectorAll('#vis > #allclusters .outer_container').forEach(el => el.remove())\n  //       window.AQUARIA.refresh() // This redraws matching structures panel\n  //       var hDiff = (window.outerHeight - window.innerHeight)\n  //       document.querySelector('#heightinspector').innerHTML = 'HO:' + window.outerHeight + ', hDiff:' + hDiff + ', scroll: ' + window.scrollY + ' bodyHeight: ' + document.body.scrollHeight\n  //     }\n  //   }\n  // },\n  mounted () {\n    // don't show selection on mousedown in case it is a click that would change residue, causing a flash of the old\n    // residue before selection is complete. only show selection if this is the first mousemove after a mousedown\n    let mousedown = false\n    window.addEventListener('mousedown', () => {\n      mousedown = true\n    })\n    window.addEventListener('mousemove', () => {\n      if (mousedown) this.showSelection()\n      mousedown = false\n    })\n    window.addEventListener('mouseup', () => {\n      mousedown = false\n      this.hideSelection()\n    })\n    window.addEventListener('gesturestart', () => this.showSelection()) // always show selection\n    window.addEventListener('gestureend', () => this.hideSelection()) // possibly hide selection\n    window.addEventListener('gesturechange', () => this.showSelection())\n\n    if (this.checkPhone()) {\n      this.adjustSize()\n    }\n  },\n  methods: {\n    showSelection: function () {\n      this.selectionTimeout(false)\n    },\n    hideSelection: function () {\n      this.selectionTimeout(true)\n    },\n    setTimer () {\n      panel3d.setSelectionLightnessOffset(DEFAULT_SELECTION_LIGHTNESS_OFFSET) // set default selection lightness value\n\n      // lerp from default to zero (hidden selection)\n      var timer = lerpFrequency(DEFAULT_SELECTION_LIGHTNESS_OFFSET, 0, SELECTION_FADE_DURATION_MS, SELECTON_FADE_INTERVAL_MS, (value, finished) => {\n        panel3d.setSelectionLightnessOffset(value)\n      }, SELECTON_FADE_INTERVAL_MS)\n      return timer\n    },\n    selectionTimeout: function (start) {\n      // always clear any existing timer\n      if (this.timer) clearTimeout(this.timer)\n      // start a new fade if requested\n      if (start) this.timer = this.setTimer()\n      // else set the selection highlight to the default value (cancel out the effects of any in-progress fade)\n      else panel3d.setSelectionLightnessOffset(DEFAULT_SELECTION_LIGHTNESS_OFFSET)\n    },\n    checkPhone: function () {\n      var iDevices = [\n        'iPad Simulator',\n        'iPhone Simulator',\n        'iPod Simulator',\n        'iPad',\n        'iPhone',\n        'iPod'\n      ]\n\n      if (navigator.platform) {\n        while (iDevices.length) {\n          if (navigator.platform === iDevices.pop() || (screen.width >= 300 && screen.width <= 600)) { return true }\n        }\n      } else {\n        return false\n      }\n    },\n    adjustSize: function () {\n      const baseWindowHeight = Math.max(window.innerHeight)\n      const documentBody = document.body\n      document.addEventListener('scroll', function (e) {\n        var newWindowHeight = Math.max(window.innerHeight)\n        if (newWindowHeight - 50 > baseWindowHeight) {\n          if (!documentBody.classList.contains('ios-toolbar')) {\n            documentBody.classList.add('ios-toolbar')\n          }\n        } else {\n          if (documentBody.classList.contains('ios-toolbar')) {\n            documentBody.classList.remove('ios-toolbar')\n          }\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style>\n.aquariaWarning {\n    position: absolute;\n    top: 50px;\n    left: 30%;\n    background: #FAC88C;\n    border: 15px solid transparent;\n    border-image: url('../../assets/images/border-1.png') 15 15 round;\n    margin: 12px auto;\n    width: 40%;\n    padding: 20px 20px 14px 20px;\n    text-align: left;\n    box-shadow: 6px 6px 15px #669;\n    z-index: 999;\n}\n\n#selectionText {\n    overflow: hidden;\n    position: absolute;\n    z-index: 95;\n    pointer-events: none;\n    display: none;\n    padding: 0px;\n    margin: 0px;\n    width: 200px;\n    height: 100px;\n}\n\n#threeDSpan-inner {\n  padding-bottom: 2px;\n  box-sizing: border-box;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n#threeDSpan, #threeDSpan-inner-jolecule-soup-display {\n    height: 100vh;\n    width: 100vw;\n    overflow: hidden;\n    position: absolute;\n    z-index: 0;\n    top: 0%;\n}\n\n.jolecule-embed-toolbar, .jolecule-embed-toolbar a {\n    color: #777;\n    text-decoration: none;\n}\n.jolecule-embed-toolbar {\n    padding: 5px 5px 2px 5px;\n    vertical-align: middle;\n    background-color: #CCC;\n    color: #666;\n    font-size: 12px;\n    overflow: hidden;\n    box-sizing: border-box;\n    position: relative;\n    top: 6rem;\n}\n.jolecule-embed-footer {\n  position: absolute;\n  bottom: 0%;\n  width: 100%;\n}\n.jolecule-embed-body {\n    font-size: 12px;\n    letter-spacing: 0;\n    line-height: 1.2em;\n    color: #666;\n}\n.jolecule-button {\n  letter-spacing: 0;\n  font-family: \"Source Sans Pro\", sans-serif;\n}\n.jolecule-overlay-text {\n    z-index: 5001;\n    padding: 10px;\n    opacity: 0.7;\n    text-align: left;\n    line-height: 1.5em;\n    font-family: \"Source Sans Pro\", sans-serif;\n    font-size: 12px;\n    border: 1px solid #888;\n    background-color: rgba(200, 200, 200, 0);\n    color: #333;\n}\n.ios-toolbar .tabs {\n        transform: translateY(-25px);\n      }\n</style>\n","/* eslint-disable no-mixed-spaces-and-tabs */\n/* eslint-disable no-tabs */\nimport ClusterRenderer from './clusterRenderer'\nimport d3 from 'd3'\nimport store from '../../../store/index'\nimport * as loadData from '../../../utils/loadData'\nvar width, height, xScale, rank, clusters\nvar clusterRenderers = []\n\n// Render 2D structures in SVG.\n//\n// Authors: Christian Stolte, Vivian Ho, Kenny Sabir\n// Utilises new format (see matching_structures_multipleuniprotinput.js)\n// as opposed to matching_structures_singleuniprotinput.js\n// new tree drawing routine\n\nfunction onTextClick (d, clickCoord) {\n  // Sets tree data for clusters\n  var clusterN = parseInt(d.attr('id').substr(15))\n  store.commit('setTreeData', clusterN)\n  store.commit('setTreeCoordinates', clickCoord)\n}\n\nexport function selectCluster (pdb_id, clusterNumber) {\n  var pdbMember = []\n  pdbMember.cluster = parseInt(clusterNumber)\n  pdbMember.member = 0\n  store.commit('setPdbIndex', pdbMember)\n  if (document.querySelector('g.loaded')) document.querySelector('g.loaded').classList.remove('loaded')\n  d3.select('div.container.loaded').classed('loaded', false)\n  d3.select('g#structure_' + pdb_id + '_' + clusterNumber).classed('loaded', true)\n  d3.select('div#c_' + pdb_id + '_' + clusterNumber).classed('loaded', true)\n}\n\nexport function initialise (sequence) {\n  rank = 0\n  var seqLength = sequence.length\n\n  width = document.getElementById('structure-viewer').offsetWidth - store.state.margin.right - store.state.margin.left - 50\n  height = 40 - store.state.margin.top - store.state.margin.bottom + 35 // height\n  xScale = d3.scale.linear().domain([1, seqLength]).range([1, width]) // .range([1, width]);\n  store.commit('setSrw', xScale(100) / 100)\n  if (document.querySelector('#vis > .ruler')) {\n    document.querySelector('#vis > .ruler').remove()\n  }\n  // draw axis ruler\n  drawAxisRuler('vis')\n}\n\nexport function updateSizes (newClusters) {\n  clusters = newClusters\n  for (var i = 0; i < newClusters.length; i++) {\n    clusterRenderers[i].updateCluster(newClusters[i])\n  }\n}\n\nexport function refresh () {\n  clusterRenderers = []\n  clusters = []\n  initialise (store.state.Matches.sequences[0])\n  var existingClusters = store.state.Matches.clusters\n  existingClusters.forEach(function (cluster) {\n    RenderCluster(cluster)\n  })\n  updateSizes(existingClusters)\n  var pdbIndex = loadData.findPDBMember(store.state.structure.pdb, store.state.structure.chain)\n  selectCluster(store.state.structure.pdb, pdbIndex.cluster)\n}\n\nexport function RenderCluster (cluster) {\n  var clusterRenderer = new ClusterRenderer(cluster, rank, xScale, width, height, function (d, clickCoord) {\n      console.log('ShowMatchingStructures.addCluster.onclick', clickCoord)\n      onTextClick(d, clickCoord)\n    }, clusterItemClick, '#allclusters')\n  clusterRenderers.push(clusterRenderer)\n  rank++\n}\n\nfunction getClusterId (d) {\n  return parseInt(d.attr('id').substr(15))\n}\n\nfunction clusterItemClick (d) {\n  // history.pushState('', document.title, window.location.pathname + decodeURIComponent(window.location.search))\n  var shortId = d.attr('id').substr(10, 4)\n  var cluster_nbr = getClusterId(d)\n\n  // Load structure\n  selectCluster(shortId, cluster_nbr)\n  console.log(\n    'ShowMatchingStructures.clusterItemClick',\n    'shortId: ' + shortId,\n    'cluster-number: ' + cluster_nbr,\n    clusters[cluster_nbr]\n  )\n\n  var member = clusters[cluster_nbr].members[0]\n  loadData.displayMember(member)\n}\n\nexport function drawAxisRuler (layerId) { // console.log(\"Ruler// \"+width+\",\n  width = document.getElementById('structure-viewer').offsetWidth - store.state.margin.right - store.state.margin.left - 50\n  var rsvg = d3.select('#' + layerId)\n    .insert('div', ':first-child')\n    .attr('class', 'ruler')\n    .attr('data-intro', \"Graphical representation of the specified protein's sequence\")\n    .attr('data-position', 'left')\n    .append('svg').attr('width',\n      parseInt(width + store.state.margin.left)).attr('viewBox',\n      '0 0 ' + parseInt(width + store.state.margin.left) + ' 15').attr(\n      'preserveAspectRatio', 'none').attr('height', 15).append('g').attr(\n      'transform', 'translate(' + store.state.margin.left + ',0)')\n\n  rsvg.append('g').attr('class', 'x axis').call(\n    d3.svg.axis()\n      .scale(xScale)\n      .orient('bottom')\n      .tickSize(4, 2, 6)\n      .tickPadding(2)\n    //\t.tickValues([allTicks,this.sequence.length])\n  )\n\n  var tickList = []\n  var allTicks = d3.selectAll('#vis div.ruler g.x text')[0]\n\n  for (var n = 0; n < allTicks.length; n++) {\n    tickList.push(+allTicks[n].textContent)\t\t// console.log(n+\":\"+tickList);\n  }\n\n  tickList = tickList.filter(doesItFit) // console.log(\"filtered:\"+tickList);\n  tickList.push(store.state.Matches.sequences[0].length)\n  tickList.unshift(1)\n  // left\n  // console.log(\" = = = ticks: \"+allTicks)\t;\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// margin:\n  // console.log(tickList);\n\n  d3.select('#' + layerId + ' div.ruler g.x').call(\n    d3.svg.axis()\n      .scale(xScale)\n      .orient('bottom')\n      .tickSize(4, 2, 6)\n      .tickPadding(2)\n      .tickValues(tickList)\n  )\n\n  d3.selectAll('g.x text').attr('text-anchor', 'end')\n}\n\nfunction doesItFit (x) {\n  var rulerEnd = store.state.Matches.sequences[0].length\n  return (x !== 1 && x !== rulerEnd && x * store.state.srw < (rulerEnd * store.state.srw - 30))\n}","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StructureViewer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StructureViewer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./StructureViewer.vue?vue&type=template&id=4ef440cd\"\nimport script from \"./StructureViewer.vue?vue&type=script&lang=js\"\nexport * from \"./StructureViewer.vue?vue&type=script&lang=js\"\nimport style0 from \"./StructureViewer.vue?vue&type=style&index=0&id=4ef440cd&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"tabs rel level6\"},[_c('div',{staticClass:\"tab\",attrs:{\"id\":\"Structures\"},on:{\"click\":_vm.renderClusters,\"mouseenter\":function($event){_vm.activateStructs = true},\"mouseleave\":function($event){_vm.activateStructs = false}}},[_c('span',{staticClass:\"icon\"},[_c('img',{attrs:{\"src\":_vm.MS}})]),(_vm.activateStructs || _vm.showStructures || _vm.showFeatures)?_c('span',{staticClass:\"panelTitle\"},[_vm._v(\" Matching Structures \"),(_vm.getStructCount > 0)?_c('span',{staticClass:\"counter\"},[_vm._v(\" \"+_vm._s(_vm.getStructCount.toLocaleString()))]):_vm._e()]):_vm._e()]),_c('MatchingStructures',{attrs:{\"showPanel\":_vm.showStructures}}),_c('div',{staticClass:\"tab\",attrs:{\"id\":\"Features\"},on:{\"click\":_vm.renderFeatures,\"mouseenter\":function($event){_vm.activateFeats = true},\"mouseleave\":function($event){_vm.activateFeats = false}}},[_c('span',{staticClass:\"icon\"},[_c('img',{attrs:{\"src\":_vm.FT}})]),(_vm.activateFeats || _vm.showFeatures || _vm.showStructures)?_c('span',{staticClass:\"panelTitle\"},[_vm._v(\" Features \"),(_vm.getFeatCount)?_c('span',{staticClass:\"counter\",attrs:{\"id\":\"featureCounter\"}},[_vm._v(_vm._s(_vm.getFeatCount.toLocaleString()))]):_vm._e()]):_vm._e()]),_c('Features',{attrs:{\"showPanel\":_vm.showFeatures}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.showPanel)?_c('div',{staticClass:\"panel\",attrs:{\"id\":\"msPanel\"}},[_c('div',{staticClass:\"close intab\",on:{\"click\":_vm.closeTab}}),_vm._m(0),_c('TreeView',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showTree),expression:\"showTree\"}],staticClass:\"level5\",attrs:{\"id\":\"treeView\",\"treeReady\":_vm.prop,\"count\":_vm.count,\"coordinates\":_vm.treeCoordinates,\"parentElem\":_vm.parentElem}}),_c('NodeLoader',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showLoader),expression:\"showLoader\"}],attrs:{\"coordinates\":_vm.treeCoordinates,\"change\":_vm.change}})],1):_vm._e()\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"vis\"}},[_c('div',{attrs:{\"id\":\"allclusters\",\"data-intro\":\"Visual summary of all structures in PDB matching the specified protein, grouped by region of match.\",\"data-position\":\"left\"}})])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"scrim level6\",on:{\"click\":_vm.hideTree}}),_c('div',{staticClass:\"level7\",attrs:{\"id\":\"arc\"}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// var Cluster = require('./cluster')\nimport d3 from 'd3'\nimport store from '../../../store/index'\nvar Panels = require('../../AquariaLayout/helpers/hidePanels')\n\nexport default class ClusterRenderer {\n  constructor(cluster, rank, xScale, width, height, onTextClick, onClusterItemClick) {\n    this.width = width\n    this.height = height\n    this.xScale = xScale\n    this.onTextClick = onTextClick\n    this.clustSize = 0\n    this.onClusterItemClick = onClusterItemClick\n    this.rank = rank\n    this.cluster = cluster\n    var container = this.drawClusterContainer(cluster, rank)\n    if (typeof container !== 'undefined') {\n      this.drawCluster(cluster, rank)\n    }\n  }\n\n  updateCluster (clusterToUpdate) {\n    var that = this\n    this.cluster = clusterToUpdate\n    this.clustSize = clusterToUpdate.cluster_size\n    var id = this.cluster.pdb_id.toLowerCase() + '_' + this.rank\n    if (typeof this.nusvg !== 'undefined') {\n      this.nusvg.select('g#structure_' + id + ' text')\n        .text(function () {\n          return that.clustSize\n        })\n    }\n  }\n  \n  drawClusterContainer (cluster, s) {\n    // scale start and end coordinates\n    var that = this\n    var member = cluster.members[0]\n    var pdb_chain = cluster.pdb_chain[0]\n    // //var repeat_domain = data.Repeat_domains[0];\n  \n    if (cluster.secondary_structure.length === 0 || cluster.secondary_structure[0].length === 0) {\n      console.log('ClusterRenderer.drawClusterContainer error: cannot draw cluster as it has no secondary structure: ', cluster)\n      return\n    }\n  \n    var structStart = this.xScale(cluster.secondary_structure[0][0].start)\n    var structEnd = this.xScale(cluster.secondary_structure[0][cluster.secondary_structure[0].length - 1].end)\n    // console.log (\"structStart: \" + structStart + \", structEnd: \" +\n    // structEnd);\n    var id = cluster.pdb_id.toLowerCase() + '_' + s\n    this.clustSize = cluster.cluster_size\n    // ///var cluster_nbr = s;\n    var identity_score = cluster.alignment_identity_score\n    // set padding for labels\n    var pad = 0\n    if (this.clustSize > 99) {\n      pad = 8\n    }\n    if (this.clustSize > 999) {\n      pad = 18\n    }\n    if (this.clustSize < 10) {\n      pad = -6\n    }\n  \n    var outerdiv = d3.select('#allclusters').append('div').attr('id', 'out_' + id).attr(\n      'class', 'outer_container')\n    outerdiv.append('svg').attr('width', 40).attr('height', 40).attr('viewBox',\n      '0 0 40 40').attr('preserveAspectRatio', 'none')\n    // add identity percentage\n      .append('text').attr('text-anchor', 'end').attr('class', 'percentage').attr(\n        'x', 28).attr('y', 26).text(identity_score + '%')\n  \n    // draw outline of the whole chain\n    this.nusvg = outerdiv.append('div').attr('id', 'c_' + id).attr('class',\n      'container').append('svg').attr('width', this.width + 200).attr('height',\n      this.height + 30)\n      .attr('viewBox', '0 0 ' + (this.width + 200) + ' ' + (this.height + 30)).attr(\n        'preserveAspectRatio', 'none')\n  \n    this.nusvg.append('g').attr('id', 'structure_' + id).attr('transform',\n      'translate(' + (store.state.margin.left + structStart) + ',20)').on(\n      'mouseover', function () {\n        return d3.select(this).call(that.mouseover, that)\n      }).on('mouseout', function () {\n      return d3.select(this).call(that.mouseout, that)\n    }).append('rect') // background shape for cluster size label\n      .attr('transform', 'translate(' + (structEnd - structStart - 5) + ',5)')\n      .attr('class', 'handle').attr('width', 32 + pad).attr('height', 16).attr(\n        'rx', 6)\n  \n    this.nusvg.select('g#structure_' + id).append('g').attr('class', 'cluster').attr(\n      'title',\n      'Click to load ' + id.substr(0, 4) + ', chain ' + pdb_chain +\n            ' into structure view. Compared to the specified protein, this structure has ' + identity_score + '% sequence identity. ').attr('width', structEnd - structStart + 2)\n      .attr('height', 26).on('click', function () {\n        return d3.select(this.parentNode).call(function (d) {\n          console.log('ClusterRenderer.nusvg.select clicked! ' + d)\n          // Panels.hidePanels()\n          Panels.hidePanel('vis', 'Structures')\n          store.commit('setHash', '')\n          that.onClusterItemClick(d)\n        })\n      })\n  \n    this.nusvg.select('g#structure_' + id + ' g.cluster').append('rect').attr('class',\n      'cluster').attr('width', structEnd - structStart + 3).attr('height', 26)\n      .attr('rx', 6)\n  \n    // add center line\n    this.nusvg.select('g#structure_' + id + ' g.cluster').append('rect').attr('width',\n      structEnd - structStart).attr('height', 1).attr('transform',\n      'translate(0,13)').attr('class', 'insertion')\n  \n    // add thumbnail images\n    this.addThumbnails(id, structStart, structEnd, pad)\n  \n    this.nusvg.select('g#structure_' + id).append('text') // label for cluster size\n      .attr('text-anchor', 'end').attr('fill', 'white').style(\"font-size\", \"16px\").attr('x',\n        (structEnd - structStart + 24 + pad)).attr('y', 13).attr('dx', -3) // padding-right\n      .attr('dy', '.35em') // vertical-align: middle)\n  \n    var clickTitle = 'Click to see ' + that.clustSize + ' structures in this cluster'\n    this.nusvg.select('g#structure_' + id + ' text, g#structure_' + id).attr('class',\n      'expandable').attr('title',\n      clickTitle)\n  \n    //\tvar clickClusterEvent = new CustomEvent(\n    //\t\t\t\"clusterExpanded\",\n    //\t\t\t{\n    //\t\t\t\tdetail: {\n    //\t\t\t\t\tmessage: clickTitle,\n    //\t\t\t\t\ttime: new Date(),\n    //\t\t\t\t},\n    //\t\t\t\tbubbles: true,\n    //\t\t\t\tcancelable: true\n    //\t\t\t}\n    //\t\t);\n  \n    this.nusvg.select('g#structure_' + id + ' text').on('click', function () {\n        that.onTextClick(d3.select(this.parentNode), this.getBoundingClientRect())\n      })\n  \n    return outerdiv\n  }\n  \n  drawCluster (cluster, rank) {\n    var that = this\n    cluster.secondary_structure[0].forEach(function (d, index) {\n      // convert strings to numbers\n      d.start = +d.start\n      d.end = +d.end // console.log(d.type +\" \"+index+\", from \"+d.start+\" to\n      // \"+d.end);\n  \n      // draw the secondary structure, etc.\n      that.drawClusterResidues(cluster, rank, d)\n    })\n    this.setConservation(rank, cluster)\n  }\n  \n  drawClusterResidues (cluster, rank, el) {\n    // for each residue, draw one rectangle with a unique position id, so we can\n    // assign a class/status later\n    var offset = cluster.secondary_structure[0][0].start\n  \n    var thickness = 0\n  \n    for (var n = el.start; n <= el.end; n++) {\n      var conservation = cluster.conservationArray[0][n]\n      if (n != el.end && conservation === cluster.conservationArray[0][n + 1]) {\n        thickness++\n        continue\n      }\n      var rect = this.nusvg.select(\n        'g#structure_' + cluster.pdb_id.toLowerCase() + '_' + rank +\n              ' g.cluster').append('g').attr('class', 'residue ' + el.type)\n        .attr('id', 'r_' + rank + '_' + n).attr('transform',\n          'translate(' + (n - offset - thickness) * store.state.srw + ',8)')\n        .append('rect').attr('class', conservation).attr('width',\n        store.state.srw * (thickness + 1)).attr('height', 10)\n  \n      // if (data.conservationArray[n] === 'conserved') {\n      // rect.attr(\"class\", \"conserved\");\n      // }\n      if (el.type == 'SHEET') {\n        rect.attr('height', 14).attr('transform', 'translate(0,-2)')\n        if (n == el.end) {\n          rect.attr('width', store.state.srw * (thickness))\n          //      }\n          //\t\t\tif (n == el.end) {\n          this.nusvg.select('g.residue#r_' + rank + '_' + n).append('svg:polygon')\n            .attr('class', conservation).attr('transform',\n              'translate(' + (store.state.srw * thickness) + ',0)').attr(\n              'points', store.state.srw + ',0 0,-6 0,16 ' + store.state.srw + ',10')\n          // this.nusvg.select(\"g.residue#r_\"+rank+\"_\"+n+\" rect\").remove();\n        } else {\n          // console.log(' not at the end:' + n);\n        }\n      }\n      if (el.type == 'HELIX') {\n        this.nusvg.select('g.residue#r_' + rank + '_' + n + ' rect')\n          .attr('height', 16).attr('class', conservation).attr('transform',\n            'translate(0,-3)')\n      }\n      thickness = 0\n    }\n  }\n  setConservation (index, data) { // console.log(\"setting conservation\n    // for cluster \"+index);\n  \n    // @TODO account for gaps=insertions ( .clusters[n].seq_end[m]+1 ,\n    // .clusters[n].seq_start[m+1]-1 )\n    // draw rect height=2\n    var insertions = []\n    var that = this\n    for (var i = 0; i < data.seq_end.length - 1; i++) {\n      var gap = []\n      gap[0] = data.seq_end[i] + 1\n      gap[1] = data.seq_start[i + 1] - 1\n      insertions.push(gap) // console.log(\"insertion: \" + gap.toString());\n    }\n  \n    var subst3 = this.nusvg.selectAll('g.residue').data(insertions).each(\n      function (d) { // console.log(\"d.length: \"+d.length);\n        for (var k = d[0]; k <= d[1]; k++) { // console.log(\"insertion at: \" +\n          // k);\n          that.nusvg.select('g.residue#r_' + index + '_' + k + ' rect').attr(\n            'height', 1).attr('transform', 'translate(0,5)').attr('class',\n            'insertion')\n        }\n      })\n  }\n  addThumbnails (protein, offset, end, pad) {\n    var imgName = protein.substring(0, 4).toUpperCase()\n  \n    d3.select('g#structure_' + protein + ' g.cluster').append('line').attr('x1',\n      (end - offset + 6 + pad)).attr('y1', 13)\n      .attr('x2', (this.width - offset + 60)).attr('y2', 13).attr('class',\n        'connector').attr('stroke-width', 1)\n  \n    d3.select('g#structure_' + protein).append('g').attr('class', 'thumbnail')\n      .attr('transform', 'translate(' + (this.width - offset + 28) + ',-18)')\n      .append('circle').attr('cx', 30).attr('cy', 30).attr('r', 16).attr(\n        'fill', '#FFF').attr('stroke', '#797979').attr('stroke-width', 2)\n  \n    d3.select('g#structure_' + protein + ' g.thumbnail').append('clipPath').attr(\n      'id', 'path_' + protein).append('circle').attr('cx', 30).attr('cy', 30)\n      .attr('r', 15).attr('clip-rule', 'evenodd')\n  \n    var thumb = d3.select('g#structure_' + protein + ' g.thumbnail').append(\n      'image').attr('width', '30px').attr('height', '30px').attr('x', 15).attr(\n      'y', 15).attr('xlink:href',\n      'https://www.ebi.ac.uk/pdbe/static/entry/' + imgName.toLowerCase() + '_assembly_1_chain_front_image-200x200.png')\n      .attr('clip-path', 'url(#path_' + protein + ')')\n    // \"https://www.rcsb.org/pdb/images/\" + imgName + \"_bio_r_65.jpg\").attr(\n  }\n  \n  mouseover (d, that) {\n    that.origin = d3.select('#' + d.attr('id') + ' g.thumbnail').attr('transform') // //////console.log(origin);\n    var over = parseFloat(that.origin.substring((that.origin.indexOf('(')) + 1, that.origin\n      .indexOf(',')))// //////console.log(\"over:\n    // \"+over);\n    var shortId = d.attr('id').substr(9) // //////console.log(\"shortId:\n    // \"+shortId);\n    d3.select('#' + d.attr('id') + ' g.cluster, #' + d.attr('id')).classed(\n      'active', true)\n    d3.select('#' + d.attr('id') + ' g.thumbnail').attr('transform',\n      'translate(' + (over + 32) + ', -18)')\n    d3.select('#' + d.attr('id') + ' g.thumbnail circle').attr('r', 30)\n    d3.select('#' + d.attr('id') + ' g.thumbnail #path' + shortId + ' circle')\n      .attr('r', 29)\n    d3.select('#' + d.attr('id') + ' g.thumbnail image').attr('width', '60px')\n      .attr('height', '60px').attr('x', 0).attr('y', 0)\n  }\n  mouseout (d, that) {\n    var shortId = d.attr('id').substr(9) // //////console.log(\"shortId:\n    // \"+shortId);\n    d3.select('#' + d.attr('id') + ' g.cluster, #' + d.attr('id')).classed(\n      'active', false)\n    d3.select('#' + d.attr('id') + ' g.thumbnail').attr('transform', that.origin)\n    d3.select('#' + d.attr('id') + ' g.thumbnail circle').attr('r', 16)\n    d3.select('#' + d.attr('id') + ' g.thumbnail #path' + shortId + ' circle')\n      .attr('r', 15)\n    d3.select('#' + d.attr('id') + ' g.thumbnail image').attr('width', '30px')\n      .attr('height', '30px').attr('x', 15).attr('y', 15)\n  }\n\n}\n","<template>\n    <div>\n        <div class=\"scrim level6\" @click=\"hideTree\"></div>\n        <div id='arc' class=\"level7\"></div>\n    </div>\n</template>\n\n<script>\nimport * as d3 from 'd3'\nimport * as d3Shape from 'd3-shape'\nimport { mapGetters } from 'vuex'\nimport store from '../../store/index'\nimport * as showMatchingStructures from '../MatchingStructures/helpers/show_matching_structures'\nimport * as loadData from '../../utils/loadData'\n\nvar limit = 10\nconst w = 450\nconst h = 450\nconst radius = 14\nvar featureRegex = new RegExp(/(p\\.)?[A-Za-z]+[0-9]+[A-Za-z\\*\\_\\?\\[\\]\\(\\)\\%\\=\\.]+/) //eslint-disable-line\n\nexport default {\n  name: 'TreeView',\n  props: ['treeReady', 'count', 'coordinates', 'parentElem'],\n  data () {\n    return {\n      pdbs: [],\n      up: require('../../assets/img/up.png'),\n      down: require('../../assets/img/down.png')\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'getGene',\n      'getOrganism',\n      'getMatches'\n    ])\n  },\n  watch: {\n    treeReady: function (newVal, oldVal) { // watch it\n      var _this = this\n      if (_this.coordinates.clientX + w + 5 >= window.innerWidth && window.innerWidth > 500) {\n        document.querySelector(_this.parentElem + ' #arc').style.left = (window.innerWidth - w - 5) + 'px'\n      } else if (_this.coordinates.clientX + w + 5 >= window.innerWidth) {\n        document.querySelector(_this.parentElem + ' #arc').style.left = '50px'\n      } else {\n        document.querySelector(_this.parentElem + ' #arc').style.left = _this.coordinates.clientX + 'px'\n      }\n      document.querySelector(_this.parentElem + ' #arc').style.top = (_this.coordinates.clientY - 400) + 'px'\n      if (this.$parent.showLoader === true) {\n        this.$parent.showLoader = false\n      } else {\n        this.$parent.showTree = false\n      }\n      console.log(_this.count)\n      console.log('Prop changed: ', newVal, ' | was: ', oldVal)\n      var pdbs = newVal\n      var parent = pdbs[0]\n      d3.selectAll(_this.parentElem + ' #arc > *').remove()\n      if (pdbs.length > limit) {\n        var chunks = _this.chunk(pdbs, limit)\n        _this.generateArc(chunks, parent, 0)\n      } else {\n        _this.generateArc(pdbs, parent)\n      }\n    }\n  },\n  methods: {\n    hideTree () {\n      store.commit('setTreeData', null)\n      this.$parent.showTree = false\n    },\n    nodeClick (d) {\n      var _this = this\n      var parent = d[2].children[0]\n      var index = 0\n      parent.name = d[2].label\n      parent.length = d[2].children.length\n      if (d[2].children.length > limit) {\n        var chunks = _this.chunk(d[2].children, limit)\n        _this.generateArc(chunks, parent, index)\n        // chunks.forEach(function (chunk) {\n        //   index = index + 1\n        // })\n      } else {\n        index = index + 1\n        this.generateArc(d[2].children, parent)\n      }\n    },\n    chunk (items, size) {\n      const chunks = []\n      items = [].concat(...items)\n\n      while (items.length) {\n        chunks.push(\n          items.splice(0, size)\n        )\n      }\n\n      return chunks\n    },\n    reversePdbArray (array) {\n      var outputArray = []\n      array.forEach(function (arr) {\n        outputArray.unshift(arr)\n      })\n      return outputArray\n    },\n    generateArc (pdblist, parentPDB, index) {\n      var _this = this\n      var gap = 60\n      var node, pdbs, nodes, elems, pdbArray\n      if (index !== undefined) {\n        pdbArray = pdblist\n        pdbs = pdbArray[index]\n      } else {\n        pdbArray = _this.reversePdbArray(pdblist)\n        pdbs = pdbArray\n      }\n\n      if (Object.prototype.hasOwnProperty.call(pdbs[0], 'children')) {\n        if (index !== undefined && document.querySelector('svg#tree') !== null) {\n          document.querySelector('svg#tree').remove()\n        }\n        var svg = d3\n          .select(_this.parentElem + ' #arc')\n          .append('svg')\n          .attr('id', 'tree')\n          .attr('width', w)\n          .attr('height', h)\n\n        elems = _this.createLinks(svg, 'parent', pdbArray, parentPDB, index)\n      } else {\n        document.querySelectorAll('outerElem').forEach(el => el.remove())\n        document.querySelectorAll('[id^=children_]').forEach(e => e.parentNode.removeChild(e))\n        svg = d3\n          .select(_this.parentElem + ' #arc')\n          .append('svg')\n          .attr('id', 'children_' + pdbs[0].pdb_id + '_' + index)\n          .attr('width', w)\n          .attr('height', h)\n\n        elems = _this.createLinks(svg, 'child', pdbArray, parentPDB, index)\n      }\n\n      nodes = elems.nodes\n      svg = elems.svg\n\n      // Append the nodes to the svg element\n      if (Object.prototype.hasOwnProperty.call(pdbs[0], 'children')) {\n        nodes.shift()\n        node = d3.select('svg#tree')\n          .selectAll('g#gParent')\n          .data(nodes)\n          .enter()\n      } else {\n        parentPDB.dx = (nodes[1][0] - gap)\n        parentPDB.dy = (nodes[1][1] - radius / 2)\n        nodes.push([nodes[1][0] - gap, nodes[1][1], parentPDB, 'parent'])\n        document.querySelector('#tree').classList.add('hide')\n        nodes.shift()\n        node = d3\n          .select('svg#children_' + pdbs[0].pdb_id + '_' + index)\n          .selectAll('g')\n          .data(nodes)\n          .enter()\n      }\n\n      node = node\n        .append('g')\n        .attr('class', function (d, i) {\n          if (d.length > 1) {\n            if (Object.prototype.hasOwnProperty.call(d[2], 'children')) {\n              return 'outerElem'\n            } else {\n              return 'innerElem'\n            }\n          }\n        })\n        .attr('id', function (d, i) {\n          //             if (d[2].member === 0 && d[2].depth === 0) { d[2].id = 0 }\n          if (d.length > 1) {\n            if (Object.prototype.hasOwnProperty.call(d[2], 'children')) {\n              return 'out_' + d[2].children[0].pdb_id\n            } else if (d[3] !== undefined && d[3].includes('parent')) {\n              return 'parentNode'\n            } else {\n              return 'in_' + d[2].pdb_id\n            }\n          }\n        })\n        .attr('width', radius)\n        .attr('height', radius)\n        .on('click', function (d, i) {\n          if (i >= 0) {\n            if (Object.prototype.hasOwnProperty.call(d[2], 'children')) {\n              // Initiate nodeClick if parent node\n              _this.nodeClick(d)\n            } else {\n              if (d[3] === undefined) { // Clicked on child node\n                var urlParams = window.location.search\n                history.pushState('', document.title, '/' + _this.getOrganism + '/' + _this.getGene + '/' + d[2].pdb_id + '/' + d[2].pdb_chain + urlParams)\n                _this.getMatches.clusters.forEach(function (cluster, i) {\n                  if (cluster.members.length > 1) {\n                    cluster.members.forEach(function (member) {\n                      if (member.pdb_id === d[2].pdb_id && member.pdb_chain[0] === d[2].pdb_chain) {\n                        loadData.displayMember(member)\n                        showMatchingStructures.selectCluster(cluster.pdb_id, i)\n                        return null\n                      }\n                    })\n                  } else {\n                    if (cluster.members[0].pdb_id === d[2].pdb_id && cluster.members[0].pdb_chain[0] === d[2].pdb_chain) {\n                      cluster.E_value = cluster.members[0].E_value\n                      loadData.displayMember(cluster)\n                      showMatchingStructures.selectCluster(cluster.pdb_id, i)\n                      return null\n                    }\n                  }\n                })\n                if (featureRegex.test(urlParams)) {\n                  _this.waitForElement()\n                }\n              } else { // Clicked on parent node\n                document.querySelector('#tree').classList.remove('hide')\n                document.querySelectorAll('[id^=children_]').forEach(e => e.parentNode.removeChild(e))\n              }\n            }\n          }\n        })\n\n      if (Object.prototype.hasOwnProperty.call(pdbs[0], 'children')) {\n        node.append('rect')\n          .attr('transform', function (d) {\n            return 'translate(' + d[0] + ',' + (d[1] - radius / 2) + ')'\n          })\n          .attr('class', 'label')\n          .attr('width', function (d, i) {\n            return d[2].children ? (d[2].children.length > 9 ? 32 : 26) : 0\n          }\n          )\n          .attr('height', function (d, i) {\n            return d[2].children ? 16 : 0\n          })\n          .attr('rx', 6)\n          .attr('fill', '#a3a3a3')\n          .attr('stroke', 'none')\n      } else {\n        var pNode = d3.select('g#parentNode').selectAll('g').data([parentPDB])\n          .enter()\n\n        pNode.append('text')\n          .attr('x', function (d) { return d.dx - 40 - 20 })\n          .attr('dy', function (d) { return d.dy + 40 })\n          .attr('class', 'nbr_label')\n          .text(function (d) {\n            if (d.name.length > 15) { return d.name.substr(0, 15) + '...' } else { return d.name }\n          })\n          .attr('text-anchor', 'start')\n          .style('fill-opacity', 1)\n          .style('fill', 'white')\n          .style('font-weight', 500)\n\n        pNode.append('rect')\n          .attr('transform', function (d) {\n            return 'translate(' + d.dx + ',' + d.dy + ')'\n          })\n          .attr('class', 'label')\n          .attr('width', function (d, i) {\n            return d.length ? (d.length > 9 ? 32 : 26) : 0\n          })\n          .attr('height', 16)\n          .attr('rx', 6)\n          .attr('fill', '#a3a3a3')\n          .attr('stroke', 'none')\n\n        pNode.append('text')\n          .attr('x', function (d) { return d.dx + radius + 2 })\n          .attr('dy', function (d) { return d.dy + radius - 1 })\n          .attr('class', 'nbr_label')\n          .text(function (d) {\n            return d.length\n          })\n          .attr('text-anchor', 'start')\n          .style('fill-opacity', 1)\n          .style('fill', 'white')\n          .style('font-weight', 500)\n      }\n\n      node\n        .append('circle')\n        .attr('cx', function (d) { return d[0] })\n        .attr('cy', function (d) { return d[1] })\n        .attr('r', (radius))\n        .style('fill', 'white')\n        .style('stroke', '#999999')\n        .style('stroke-width', '1')\n\n      node.append('clipPath')\n        .attr('id', 'clip_' + function (d, i) { return i })\n        .append('circle')\n        .attr('cx', function (d) { return d[0] })\n        .attr('cy', function (d) { return d[1] })\n        .attr('r', (radius))\n        .attr('clip-rule', 'evenodd')\n\n      node.append('image')\n        .attr('width', 2 * (radius - 1) + 'px')\n        .attr('height', 2 * (radius - 1) + 'px')\n        .attr('x', function (d) { return d[0] - 13 })\n        .attr('y', function (d) { return d[1] - 13 })\n        .attr('clip-path', function (d, i) {\n          var pathNm = ' '\n          if (d[2].pdb_id) { pathNm = 'url(#clip_' + d[2].pdb_id + ')' }\n          if (d[2].children && d[2].children[0].pdb_id) { pathNm = 'url(#clip_' + d[2].children[0].pdb_id + ')' }\n          return pathNm\n        })\n        .attr('xlink:href', function (d, i) {\n          var imgNm = ' '\n          if (d[2].pdb_id && typeof d[2].children === 'undefined') { imgNm = d[2].pdb_id.toUpperCase() }\n          if (d[2].children && d[2].children[0].pdb_id) { imgNm = d[2].children[0].pdb_id.toUpperCase() }\n          return (imgNm === ' ') ? ' ' : 'https://www.ebi.ac.uk/pdbe/static/entry/' + imgNm.toLowerCase() + '_assembly_1_chain_front_image-200x200.png'\n          // return (imgNm === \" \") ? \" \" : \"https://www.rcsb.org/pdb/images/\"+imgNm+\"_bio_r_65.jpg\";\n        })\n\n      node.append('text')\n        .attr('x', function (d) { return d[0] + radius + 2 })\n        .attr('dy', function (d) { return d[1] + radius / 2 - 1 })\n        .attr('class', 'nbr_label')\n        .text(function (d, i) {\n          if (d[2].label && d[2].label !== 'undefined') {\n            var nodeLabel = d[2].label\n            if (d[2].label.length > 30) { nodeLabel = d[2].label.substr(0, 15) + ' ... ' + d[2].label.substr(d[2].label.length - 15) }\n            return d[2].children ? d[2].children.length + '      ' + nodeLabel : ' '\n          } else {\n            if (d[3] === undefined) {\n              return d[2].pdb_id + '-' + d[2].pdb_chain\n            }\n          }\n        })\n        .attr('title', function (d, i) {\n          return (d[2].label_long) ? d[2].label_long : d[2].label\n        })\n        .attr('text-anchor', 'start')\n        .style('fill-opacity', 1)\n        .style('fill', 'white')\n        .style('font-weight', 500)\n    },\n    createLinks (svg, tier, pdbArray, parentPDB, index) {\n      var links = []\n      var gap = 0\n      var nodes = []\n      var output = {}\n      var _this = this\n      var pdbs\n      var verticalMargin = 40\n\n      if (index !== undefined) {\n        pdbs = pdbArray[index]\n        pdbs = _this.reversePdbArray(pdbs)\n      } else {\n        pdbs = pdbArray\n      }\n      if (tier === 'child') {\n        gap = 60\n      }\n      var nodeStartY = h - verticalMargin\n      // Configure node 0\n      nodes.push([10, nodeStartY])\n\n      // Configure all other nodes\n      for (let i = 0; i < pdbs.length; i++) {\n        nodes.push([80 + gap, (nodeStartY - i * verticalMargin)])\n        nodes[i + 1].push(pdbs[i])\n      }\n      // Configure link fron node 0 to node 1\n      links.push(d3Shape.linkHorizontal()({\n        source: nodes[0],\n        target: nodes[1]\n      })\n      )\n\n      // Append connector\n      if (pdbs.length > 1) {\n        var points = [\n          { xpoint: 30 + gap, ypoint: nodeStartY },\n          { xpoint: 45 + gap, ypoint: nodeStartY - 10 },\n          { xpoint: 47 + gap, ypoint: nodeStartY - 20 }\n        ]\n\n        var Gen = d3Shape.line()\n          .x((p) => p.xpoint)\n          .y((p) => p.ypoint)\n          .curve(d3Shape.curveCardinal)\n\n        svg.append('path')\n          .attr('d', Gen(points))\n          .attr('fill', 'none')\n          .attr('class', function () {\n            return 'outerElem'\n          })\n          .attr('stroke', '#76c276')\n          .style('stroke-width', 2)\n\n        for (let i = 2; i < nodes.length; i++) {\n          var connector = [\n            { xpoint: 47 + gap, ypoint: nodes[i][1] + 10 },\n            { xpoint: 55 + gap, ypoint: nodes[i][1] },\n            { xpoint: 80 + gap, ypoint: nodes[i][1] }\n          ]\n          svg.append('path')\n            .attr('d', Gen(connector))\n            .attr('fill', 'none')\n            .attr('stroke', '#76c276')\n            .style('stroke-width', 2)\n            .attr('class', function (d) {\n              return 'outerElem'\n            })\n        }\n\n        svg.append('line')\n          .style('stroke', '#76c276')\n          .style('stroke-width', 2)\n          .attr('x1', 47 + gap)\n          .attr('y1', nodeStartY + 10 - (nodes.length - 2) * verticalMargin)\n          .attr('x2', 47 + gap)\n          .attr('y2', nodeStartY - 20)\n          .attr('class', function () {\n            if (tier === 1) {\n              return 'outerElem'\n            } else {\n              return 'innerElem'\n            }\n          })\n      }\n      // Append the link to the svg element\n      svg\n        .append('path')\n        .attr('d', links)\n        .attr('stroke', '#76c276')\n        .attr('fill', 'none')\n        .style('stroke-width', 2)\n\n      // Append Next and Previous arrows\n      if (pdbArray.length > 1) {\n        if (index + 1 < pdbArray.length) {\n          svg\n            .append('circle')\n            .attr('cx', 80 + gap)\n            .attr('cy', nodeStartY + 30)\n            .attr('r', 10)\n            .style('fill', '#00b2ff')\n\n          svg.append('image')\n            .attr('width', '18px')\n            .attr('height', '18px')\n            .attr('x', 80 + gap - 9)\n            .attr('y', nodeStartY + 21)\n            .attr('xlink:href', _this.down)\n            .on('click', function () {\n              if (index < pdbArray.length - 1) {\n                _this.generateArc(pdbArray, parentPDB, index + 1)\n              }\n            })\n\n          svg.append('text')\n            .attr('x', 95 + gap)\n            .attr('dy', nodeStartY + 35)\n            .attr('class', 'nbr_label')\n            .text('Next ' + pdbArray[index + 1].length)\n            .attr('text-anchor', 'start')\n            .style('fill-opacity', 1)\n            .style('fill', 'white')\n            .style('font-weight', 500)\n        }\n\n        if (index + 1 > 1) {\n          svg\n            .append('circle')\n            .attr('cx', 80 + gap)\n            .attr('cy', h - (nodes.length * verticalMargin) + 10)\n            .attr('r', 10)\n            .style('fill', '#00b2ff')\n          // #616161\n\n          svg.append('image')\n            .attr('width', '18px')\n            .attr('height', '18px')\n            .attr('x', 80 + gap - 9)\n            .attr('y', h - (nodes.length * verticalMargin) + 1)\n            .attr('xlink:href', _this.up)\n            .on('click', function () {\n              if (index - 1 >= 0) {\n                _this.generateArc(pdbArray, parentPDB, index - 1)\n              }\n            })\n\n          svg.append('text')\n            .attr('x', 95 + gap)\n            .attr('dy', h - (nodes.length * verticalMargin) + radius)\n            .attr('class', 'nbr_label')\n            .text('Previous')\n            .attr('text-anchor', 'start')\n            .style('fill-opacity', 1)\n            .style('fill', 'white')\n            .style('font-weight', 500)\n        }\n      }\n\n      // Source node\n      svg\n        .append('rect')\n        .attr('x', 0)\n        .attr('y', 400)\n        .attr('rx', 6)\n        .attr('ry', 6)\n        .attr('width', _this.coordinates.width + 2)\n        .attr('height', _this.coordinates.height)\n        .style('fill', 'orange')\n        .attr('class', 'handle')\n        .on('click', function () {\n          _this.hideTree()\n        })\n\n      svg.append('text')\n        .attr('x', 3)\n        .attr('dy', 415)\n        .attr('class', 'nbr_label')\n        .text(_this.count)\n        .attr('text-anchor', 'start')\n        .style('fill-opacity', 1)\n        .style('fill', 'white')\n        .style('font-weight', 500)\n\n      output.nodes = nodes\n      output.links = links\n      output.svg = svg\n      return output\n    },\n    waitForElement () {\n      var _this = this\n      store.commit('setIsCustomFeature', true)\n      if (document.getElementById('waitingFrame').style.display !== 'none') {\n        setTimeout(_this.waitForElement, 5)\n      } else {\n        window.AQUARIA.passFeature(window.AQUARIA.customfeatureSet, window.AQUARIA.customfeatureSetioid)\n        d3.selectAll('svg.loaded rect.feature').attr('fill', '#a4abdf')\n        d3.select('svg.loaded').classed('loaded', false)\n      }\n    }\n  }\n}\n</script>\n\n<style>\ndiv.scrim {\n    background: #5E5E5E;\n    height: 100%;\n    position: fixed;\n    left: 0;\n    top: 0;\n    opacity: 0.68;\n    -moz-opacity: 0.68;\n    width: 100%;\n}\n#arc {\n    position: fixed;\n    /* top: calc(80vh - 290px); */\n    left: 16px;\n    /* bottom: 2vh; */\n}\n.node {\n    cursor: pointer;\n}\n\n.node circle {\n    fill: #fff;\n    stroke: steelblue;\n    stroke-width: 3px;\n}\n\nsvg text {\n    font: 100% sans-serif;\n    /* font-size: calc(0.8rem + 3 * ((100vw - 320px) / 680)); */\n    font-size: 12px;\n}\n\n.link {\n    fill: none;\n    stroke: #ccc;\n    stroke-width: 2px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TreeView.vue?vue&type=template&id=ca92af66\"\nimport script from \"./TreeView.vue?vue&type=script&lang=js\"\nexport * from \"./TreeView.vue?vue&type=script&lang=js\"\nimport style0 from \"./TreeView.vue?vue&type=style&index=0&id=ca92af66&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"scrim level6\",attrs:{\"id\":\"nodeLoader\"},on:{\"click\":_vm.hideLoader}},[_c('img',{attrs:{\"src\":_vm.loader}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"scrim level6\" @click=\"hideLoader\" id='nodeLoader'>\n        <img :src='loader' />\n    </div>\n</template>\n\n<script>\nexport default {\n  name: 'NodeLoader',\n  data () {\n    return {\n      loader: require('../../assets/img/node.gif')\n    }\n  },\n  props: ['coordinates', 'change'],\n  watch: {\n    change: function (newVal, oldVal) {\n      var _this = this\n      document.querySelectorAll('#nodeLoader > img').forEach(function (elem) {\n        elem.style.marginLeft = _this.coordinates.clientX + 'px'\n        elem.style.marginTop = _this.coordinates.clientY - 10 + 'px'\n      })\n      // document.querySelector('#nodeLoader > img').style.marginLeft = _this.coordinates.clientX + 'px'\n      // document.querySelector('#nodeLoader > img').style.marginTop = _this.coordinates.clientY - 10 + 'px'\n    }\n  },\n  methods: {\n    hideLoader () {\n      this.$parent.showLoader = false\n      this.$parent.showTree = false\n    }\n  }\n}\n</script>\n\n<style scoped>\nimg {\n    width: 5vh;\n    background: #4d4d4d;\n    border-radius: 29px;\n    padding: 5px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeLoader.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeLoader.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./NodeLoader.vue?vue&type=template&id=d0db7e78&scoped=true\"\nimport script from \"./NodeLoader.vue?vue&type=script&lang=js\"\nexport * from \"./NodeLoader.vue?vue&type=script&lang=js\"\nimport style0 from \"./NodeLoader.vue?vue&type=style&index=0&id=d0db7e78&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d0db7e78\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"panel\" id=\"msPanel\" v-if=\"showPanel\">\n        <div class=\"close intab\" @click=\"closeTab\"></div>\n        <div id=\"vis\">\n          <div id='allclusters' data-intro='Visual summary of all structures in PDB matching the specified protein, grouped by region of match.' data-position='left'></div>\n        </div>\n        <TreeView v-show=\"showTree\" id='treeView' class='level5' v-bind:treeReady='prop' :count='count' :coordinates=\"treeCoordinates\" :parentElem='parentElem'/>\n        <NodeLoader v-show=\"showLoader\" :coordinates=\"treeCoordinates\" :change='change'/>\n    </div>\n</template>\n\n<script>\nimport * as Panels from '../AquariaLayout/helpers/hidePanels'\nimport store from '../../store/index'\nimport TreeView from '../MatchingStructures/TreeView'\nimport NodeLoader from '../AquariaLayout/NodeLoader'\nimport * as showMatchingStructures from './helpers/show_matching_structures'\nimport { mapGetters } from 'vuex'\nimport axios from 'axios'\n\nexport default {\n  name: 'MatchingStructures',\n  components: {\n    TreeView,\n    NodeLoader\n  },\n  data () {\n    return {\n      showTree: false,\n      prop: null,\n      count: 0,\n      treeCoordinates: {},\n      change: 0,\n      showLoader: false,\n      parentElem: '.panel'\n    }\n  },\n  props: ['showPanel'],\n  watch: {\n    sequence (newVal, oldVal) {\n      if (oldVal.accession !== newVal.accession && oldVal.accession !== null) { // Only redraw coverage map if new chain\n        window.scrollBy(0, 100)\n      }\n    },\n    treeData (clusterN) {\n      var _this = this\n      if (clusterN !== null) {\n        _this.change = _this.change + 1\n        var cord = _this.getTreeCoordinates\n        _this.treeCoordinates.clientX = cord.left\n        _this.treeCoordinates.clientY = cord.top\n        _this.treeCoordinates.width = cord.width\n        _this.treeCoordinates.height = cord.height\n        _this.showLoader = true\n        var url = `${window.BACKEND}/get_secondary_clusters/`\n        url = url + _this.getStructure.accession + '/' + _this.getStructure.pdb + '/' + _this.getStructure.chain + '/' + clusterN\n        axios({\n          method: 'get',\n          url: url\n        }).then(function (response) {\n          _this.showTree = true\n          _this.prop = response.data\n          _this.count = 0\n          response.data.forEach(obj => {\n            _this.count += obj.children.length\n          })\n        })\n      } else {\n        _this.showTree = false\n      }\n    }\n  },\n  computed: {\n    data () {\n      return {\n        hash: store.state.hash,\n        prop: null\n      }\n    },\n    sequence () {\n      return store.state.structure\n    },\n    treeData () {\n      return store.state.treeData\n    },\n    ...mapGetters([\n      'getMatches',\n      'getTreeCoordinates',\n      'getStructure'\n    ])\n  },\n  methods: {\n    closeTab: function () {\n      window.scrollBy(0, 100)\n      Panels.hidePanels()\n    }\n  },\n  mounted () {\n    var _this = this\n    if (_this.getMatches && Object.hasOwnProperty.call(_this.getMatches, 'clusters')) {\n      var inputs = document.querySelectorAll('[id ^= structure_] > text')\n      for (var i = 0; i < inputs.length; i++) {\n        inputs[i].addEventListener('click', function () {\n          var elem = this.parentElement.id\n          console.log(elem)\n        })\n      }\n    }\n  },\n  updated () {\n    // @TODO Rewrite cluster rendering methods.\n    showMatchingStructures.refresh()\n  }\n}\n</script>\n\n<style>\n  /* .thumbnail text {\n    font-size: 16px;\n  } */\n  #msPanel {\n    opacity: 1;\n    height: auto;\n    display: flex;\n    order: 3;\n    background-color: var(--primary-tab);\n  }\n  #vis {\n    max-height: 40vh;\n    overflow: scroll;\n    /* margin-bottom: -54px; */\n    margin-bottom: -55px;\n    width: 100vw;\n    background: var(--primary-tab);\n  }\n  div.ruler {\n    margin-left: 40px;\n  }\n  .outer_container{\n    display: inline-flex;\n  }\n\n  .outer_container svg{\n    margin-left: 4px;\n  }\n\n  div[data-id=\"structurematches\"].chardinjs-helper-layer.chardinjs-top {\n    border-top: 0 none;\n  }\n\n  div[data-id=\"structurematches\"] .chardinjs-tooltip.chardinjs-top:after {\n    height: 0;\n    width: 0;\n    display: none;\n  }\n  #allclusters {\n    background-color: var(--background);\n    overflow: hidden;\n  }\n  .panel .close.intab { top: -0.1em; }\n\n  /**** SVG styles ****/\n  svg {\n    font-weight: 400;\n  }\n\n  .container>svg {\n    display: block;\n    position: relative;\n    top: -13px;\n  }\n\n  line,\n  path {\n    fill: none;\n    /*stroke: #000;*/\n  }\n\n  line.connector {\n    stroke: #808080;\n  }\n\n  .minor :not(.minor) {\n    display: none;\n  }\n\n  .SHEET rect,\n  .HELIX rect,\n  .COIL rect,\n  polygon {\n    /*shape-rendering: geometric-precision;*/\n    stroke-width: 0.6px;\n  }\n\n  .SHEET polygon,\n  .SHEET rect {\n    fill: #f6c719;\n    stroke: #f6c719;\n  }\n\n  .SHEET polygon.conserved,\n  .SHEET rect.conserved {\n    fill: #998436;\n    stroke: #998436;\n  }\n\n  .SHEET polygon.nonconserved,\n  .SHEET rect.nonconserved {\n    fill: #4d4d4d;\n    stroke: #4d4d4d;\n  }\n\n  .HELIX rect {\n    fill: #6491b6;\n    stroke: #6491b6;\n  }\n\n  .HELIX rect.conserved {\n    fill: #586c7c;\n    stroke: #586c7c;\n  }\n\n  .HELIX rect.nonconserved {\n    fill: #4d4d4d;\n    stroke: #4d4d4d;\n  }\n\n  .COIL rect {\n    fill: #6f9e52;\n    stroke: #6f9e52;\n  }\n\n  .COIL rect.conserved {\n    fill: #5d724f;\n    stroke: #5d724f;\n  }\n\n  .COIL rect.nonconserved {\n    fill: #4d4d4d;\n    stroke: #4d4d4d;\n  }\n\n  .COIL rect.insertion,\n  .HELIX rect.insertion,\n  .SHEET rect.insertion,\n  rect.insertion {\n    fill: #777777;\n    stroke: #777777;\n    stroke-width: 0.25px;\n    opacity: 0.1;\n  }\n\n  rect.handle text {\n    color: white;\n  }\n\n  rect.handle {\n    fill: #888;\n    stroke: none;\n  }\n\n  text.percentage {\n    font-size: 11px;\n    fill: #777;\n  }\n\n  text.percentage:hover {\n    fill: #333333;\n  }\n\n  text.expandable:hover,\n  g.expandable.active text:hover {\n    cursor: pointer;\n  }\n\n  g.active rect.cluster,\n  g.active line,\n  g.active g.thumbnail circle {\n    stroke: orange;\n  }\n\n  g.expandable.active rect.handle {\n    fill: orange;\n  }\n\n  .active rect:hover {\n    cursor: pointer;\n  }\n\n  rect.cluster {\n    fill: #CCC;\n    stroke: #808080;\n    stroke-width: 1px;\n  }\n\n  g.active rect.cluster {\n    fill: #FFF;\n  }\n\n  g.loaded rect.cluster {\n    fill: #FFF;\n    stroke: #333;\n  }\n\n  g.x line.tick {\n    stroke: #666;\n  }\n\n  g.x.minor line.tick {\n    stroke: #AAA;\n  }\n\n  g.x text {\n    font-size: 10px;\n    fill: #999;\n  }\n\n  g.x path.domain {\n    fill: none;\n    stroke: black;\n    opacity: 0.5;\n  }\n\n  .node circle {\n    cursor: pointer;\n    fill: #fff;\n    stroke: steelblue;\n    stroke-width: 1.5px;\n  }\n\n  path.link {\n    fill: none;\n    stroke: #888888;\n    stroke-width: 1.5px;\n  }\n\n  .expansion text {\n    fill: #fff;\n  }\n  /******** features *****/\n\n  div.track:nth-child(even) {\n    background: #D6D6D6;\n  }\n\n  div.track svg:hover {\n    background: #E9E9E9;\n    cursor: pointer;\n  }\n\n  div.panel span.source {\n    display: inline-block;\n    font-size: 80%;\n    text-transform: uppercase;\n    letter-spacing: 0.2em;\n    color: #b3b3b3;\n    margin-left: 1em;\n  }\n\n  /********** PSSH VIEW ***********/\n\n  div.panel#structure-viewer.fullscreen {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n\n  #threeD.threedcontent.fullscreen {\n    height: 100%;\n  }\n\n  div.container {\n    height: 40px;\n    margin-left: -4px;\n  }\n\n  div.container:hover {\n    background: #D6D6D6;\n  }\n\n  svg rect.bg {\n    fill: none;\n  }\n\n  /*div*/\n  .loaded {\n    background: #DEDEDE;\n  }\n\n  svg.loaded rect.bg {\n    fill: #EEE;\n    cursor: pointer;\n  }\n\n  /*div*/\n  .loaded:hover {\n    background: #EEE;\n  }\n\n  svg.loaded rect.bg:hover {\n    fill: #FFF;\n  }\n\n  div#wait4tree {\n    position: relative;\n    z-index: 100;\n  }\n\n  div.expansion {\n    position: absolute;\n    width: 0px;\n    z-index: 102;\n  }\n\n  div.expansion div.longtitle,\n  div.longtitle {\n    background: #555;\n    border-radius: 8px;\n    box-shadow: 3px 3px 6px #222;\n    color: white;\n    display: none;\n    padding: 8px;\n    position: absolute;\n    width: 300px;\n    z-index: 103;\n\n  }\n\n  .blank {\n    background: black;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    opacity: 0.68;\n    -moz-opacity: 0.68;\n    width: 100%;\n    z-index: 90;\n  }\n\n  div.panel span.help {\n    display: inline-block;\n    width: 17px;\n    height: 17px;\n    background: url('../../assets/images/UI-help.png') no-repeat 0px 0px;\n    margin-left: 8px;\n  }\n\n  .fakelink:hover,\n  span.applauncher:hover,\n  span#expander:hover span#threedSwitcher:hover {\n    cursor: pointer;\n    background-position: 0px -21px;\n  }\n\n  /*div.panel span.help:hover { background-position: 0px -16px; cursor: pointer; }*/\n\n  div.balloon {\n    background: #666;\n    border-radius: 10px;\n    color: #CCC;\n    padding: 8px;\n  }\n\n  div.balloon p {\n    margin: 0 0 6px 0;\n  }\n\n  div.balloon p a {\n    color: #6AF;\n  }\n\n  div.balloon h3 {\n    background-color: #999;\n    margin-bottom: 1em;\n  }\n\n  div.popup.top div.balloon {\n    border-radius: 16px;\n    box-shadow: 0px 2px 16px #555;\n    cursor: -moz-grab;\n    cursor: -webkit-grab;\n    cursor: grab;\n    padding-left: 14px;\n  }\n\n  div.popup.top div.balloon:active {\n    cursor: -moz-grabbing;\n    cursor: -webkit-grabbing;\n    cursor: grabbing;\n  }\n\n  .windows div.popup.top div.balloon {\n    border-radius: 0;\n  }\n\n  div.popup {\n    background: url('../../assets/images/point.png') no-repeat center bottom;\n    display: none;\n    padding: 0 0 14px 0;\n    position: absolute;\n    /* width: 320px; */\n    width: 90vw;\n    max-width: 30rem;\n    z-index: 999;\n  }\n\n  div.popup.top {\n    background: transparent none;\n  }\n\n  div.large-ppi-diagram {\n    position: absolute;\n    width: 400px;\n    z-index: 100;\n  }\n\n  /*new stuff from david*/\n\n  path.arc {\n    cursor: move;\n    fill: #fff;\n  }\n\n  .proteinNode,\n  .complexNode {\n    font-size: 10px;\n  }\n\n  .proteinNode:hover,\n  .complexNode:hover {\n    fill: #1f77b4;\n  }\n\n  .ppiLink {\n    fill: none;\n    stroke: #1f77b4;\n    stroke-opacity: .4;\n    pointer-events: none;\n  }\n\n  .ppiLink.source,\n  .ppiLink.target {\n    stroke-opacity: 1;\n    stroke-width: 2px;\n  }\n\n  .proteinNode.target,\n  .complexNode.target {\n    fill: #d62728 !important;\n  }\n\n  .ppiLink.source {\n    stroke: #d62728;\n  }\n\n  .proteinNode.source,\n  .complexNode.source {\n    fill: #2ca02c;\n  }\n\n  .ppiLink.target {\n    stroke: #2ca02c;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatchingStructures.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatchingStructures.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MatchingStructures.vue?vue&type=template&id=79cd92bd\"\nimport script from \"./MatchingStructures.vue?vue&type=script&lang=js\"\nexport * from \"./MatchingStructures.vue?vue&type=script&lang=js\"\nimport style0 from \"./MatchingStructures.vue?vue&type=style&index=0&id=79cd92bd&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.showPanel)?_c('div',{staticClass:\"panel\",attrs:{\"id\":\"ftPanel\"}},[_c('div',{staticClass:\"close\",on:{\"click\":_vm.closeTab}}),_c('div',{attrs:{\"id\":\"featurePanel\"}},[_c('div',{staticClass:\"ui-sortable\",attrs:{\"id\":\"groupedFeatures\"}},_vm._l((_vm.getfeatureSets),function(structure){return _c('div',{key:structure[0],staticClass:\"featureCollection ui-sortable-handle\",attrs:{\"id\":structure[0]},on:{\"click\":function($event){return _vm.toggleTrack(structure[0])}}},[_c('div',{staticClass:\"featureHeader\",on:{\"mouseover\":function($event){return _vm.highlight(structure[0])},\"mouseout\":function($event){return _vm.removeHighlight(structure[0])}}},[_c('p',{attrs:{\"id\":\"arrow\"}},[_vm._v(\"\")]),_c('p',{staticClass:\"featureName\"},[_vm._v(_vm._s(structure[0]))]),_c('div',{staticClass:\"info\",on:{\"mouseover\":function($event){return _vm.showInfo(structure, $event)}}},[_vm._v(\"?\")])]),_c('div',{staticClass:\"featureTrack ui-sortable\"})])}),0),_c('br')])]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import store from '../../../store/index'\nvar Highcharts = require('./highstocks.js')\nconst oneAaCodes = ['A', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'K', 'L', 'M', 'N', 'P', 'Q', 'R', 'S', 'T', 'V', 'W', 'Y']\n  \nexport function hidePopup () {\n    store.commit('setPopupType', null)\n    store.commit('setVariantCoordinates', null)\n}\n  \nexport function showPopup (f, eid) {\n    var urlhtml = ''\n    if (f.urls.length > 0) {\n        urlhtml = '<p>'\n        for (var i = 0; i < f.urls.length; i++) {\n            urlhtml += \"<a href='\" + f.urls[i].href + \"' target='_blank'>\" +\n                    f.urls[i].text + '</a><br>'\n        }\n        urlhtml += '</p>'\n    }\n\n    let oldAa = ''\n    if (f.name.includes('&#8201;&#8594;&#8201;')) {\n        oldAa = f.name.replace(/^.*\\(/, '')\n        oldAa = oldAa.replace(/\\&.*$/, '')\n    }\n\n    let btnsDiv = \"<div id='buttons_eachAa'> <b>See also:</b><p class='pAaColor'> \" + oldAa + ' &rarr;</p>'\n\n    oneAaCodes.forEach(function (anAa, _i) {\n        if (anAa != oldAa) {\n            // balloon = balloon + \"<div id='divVI_varInfo_\" + anAa + \"'></div>\"\n      const isUniCosOrFun = isUniCosOrFunPresent(anAa, f.desc, f.start)\n            btnsDiv = btnsDiv + \"<button id='btnVI_\" + anAa + \"'\"\n            if (isUniCosOrFun == true) {\n                btnsDiv = btnsDiv + \"class='btnAaBold_b'> <b>\" + anAa + '</b> '\n            } else {\n                btnsDiv = btnsDiv + \" class='btnAaBold'> \" + anAa\n            }\n            btnsDiv = btnsDiv + '</button>'\n        }\n    })\n    btnsDiv = btnsDiv + '</div>'\n\n    let balloonText = f.desc + \"<br>\" + urlhtml;\n\n    let popupTitle = '<b>' + f.label + '</b>'\n    if (f.name.includes('span_missenseHeading')){\n      console.log('setting stuff here! ' + f.start + ' ' + f.end)\n      console.log(f)\n      store.commit('setIsDefaultFeature', false)\n      if (f.start != f.end){\n        store.commit('setVariant', f.start + '-' + f.end)\n        store.commit('setPopupTitle', f.label)\n        getIdxInVarRes(f.start + '-' + f.end, f.label)\n      }\n      else {\n        store.commit('setVariant', f.start)\n        store.commit('setPopupTitle', f.label)\n\n        getIdxInVarRes(f.start, f.label)\n      }\n      // store.commit('setPopupType', 'variant')\n    }\n    else {\n        store.commit('setVariant', -1)\n        store.commit('setIsDefaultFeature', true)\n        if (f.start === f.end){\n            popupTitle = popupTitle + '( Residue ' + f.start + ') '\n        } else {\n            popupTitle = popupTitle + '( Residues ' + f.start + '-' + f.end + ') '\n        }\n        store.commit('setPopupTitle', popupTitle)\n        store.commit('setPopupText', balloonText)\n        store.commit('setVariantIdx', -1)\n        store.commit('setPopupCoordinates', document.querySelector('#' + eid.id).getBoundingClientRect())\n        store.commit('setPopupType', 'minimal')\n    }\n\n    if (f.hasOwnProperty('hc_go') && f.hasOwnProperty('hc_ec') && f.hasOwnProperty('hc_species')) {\n        console.log('CATH plot data')\n        console.log(f)\n        handleCathPopups(f).then(function () {\n            updateTheStyleOfHc()\n        })\n    } else {\n        console.log('CATH plot no data (2)')\n        console.log(f)\n    }\n}\n\nfunction getIdxInVarRes(resNum, popupText){\nvar varRes = store.getters.getVariantResidues\n//console.log(\"GAMMA \" + resNum + \" \" + popupText)\n//console.log(varRes)\n\n\nif (varRes.hasOwnProperty(resNum) && varRes[resNum].hasOwnProperty('theOrigFeatStr')){\n  for (let i=0; i < varRes[resNum].theOrigFeatStr.length; i++){\n    if (popupText.includes(varRes[resNum].theOrigFeatStr[i])){\n      store.commit('setVariantIdx', i)\n      // console.log(\"Set variant idx \" + i)\n      break\n    }\n  }\n}\n}\n\nfunction isUniCosOrFunPresent (anAa, desc, resNum) {\nconst tag_open = '<toReplace_varInfo_' + anAa + '>'\nconst tag_close = '</toReplace_varInfo_' + anAa + '>'\n\nconst\tfirstOpenPos = desc.indexOf(tag_open)\nconst lastClosePos = desc.lastIndexOf(tag_close)\n\nconst description = desc.substring(firstOpenPos, lastClosePos)\nvar variantStructs = store.state.variantStructs.variantStructs\nif (description.match('UniProt') || description.match('FunVar') || description.match('COSMIC') || (variantStructs && variantStructs.hasOwnProperty(resNum) && variantStructs[resNum].hasOwnProperty(anAa) && variantStructs[resNum][anAa].hasOwnProperty('pdbs') && variantStructs[resNum][anAa]['pdbs'].length > 0)) {\n  return true\n}\nreturn false\n}\n\nfunction handleCathPopups (f) {\nreturn new Promise(function (resolve, reject) {\n  // handle this one.\n  if (typeof f.hc_go !== 'undefined' && f.hc_go.hasOwnProperty('data') && f.hc_go.data.hasOwnProperty('series') && f.hc_go.data.series.length >= 2) {\n    doThePlotting_v2('hc_go_div', f.hc_go.data.series[0].data, f.hc_go.data.series[1].data, '', f.hc_go.data.series[0].size, f.hc_go.data.series[0].dataLabels.color, f.hc_go.data.series[0].dataLabels.distance, f.hc_go.data.series[1].innerSize, f.hc_go.data.series[0].name, f.hc_go.data.series[1].name, f.hc_go.data.series[1].dataLabels.color).then(function () {\n      // console.log(\"CATH plot: 1\");\n      document.getElementById('hc_go').prepend(document.getElementById('hc_go_div'))\n    })\n      .catch(function (error) {\n        console.log('CATH plot: 2')\n        // if (!document.getElementById('hc_go_noData')){\n        // create element\n        createANewDiv_hcNoData('hc_go_noData').then(function () {\n          document.getElementById('hc_go').prepend(document.getElementById('hc_go_noData'))\n          document.getElementById('hc_go_noData').innerHTML = document.getElementById('hc_go_noData').innerHTML + '<br> <br> <center> No data</center>'\n          console.log('featureslist.showAnnotation ERROR ' + error)\n        })\n        // }\n      })\n  } else {\n    // no data.\n\n    // if (!document.getElementById('hc_go_noData')){\n    // create element\n    createANewDiv_hcNoData('hc_go_noData').then(function () {\n      document.getElementById('hc_go').prepend(document.getElementById('hc_go_noData'))\n      document.getElementById('hc_go_noData').innerHTML = document.getElementById('hc_go_noData').innerHTML + '<br> <br> <center> No data</center>'\n    })\n    // }\n    console.log('CATH plot: 3')\n\n    // document.getElementById('hc_go_div').style['background-color'] = \"white\";\n  }\n\n  if (typeof f.hc_ec !== 'undefined' && f.hc_ec.hasOwnProperty('data') && f.hc_ec.data.hasOwnProperty('series') && f.hc_ec.data.series.length >= 2) {\n    doThePlotting_v2('hc_ec_div', f.hc_ec.data.series[0].data, f.hc_ec.data.series[1].data, '', f.hc_ec.data.series[0].size, f.hc_ec.data.series[0].dataLabels.color, f.hc_ec.data.series[0].dataLabels.distance, f.hc_ec.data.series[1].innerSize, f.hc_ec.data.series[0].name, f.hc_ec.data.series[1].name, f.hc_ec.data.series[1].dataLabels.color).then(function () {\n      document.getElementById('hc_ec').prepend(document.getElementById('hc_ec_div'))\n    })\n      .catch(function (error) {\n        // if (!document.getElementById('hc_ec_noData')){\n        // create element\n        createANewDiv_hcNoData('hc_ec_noData').then(function () {\n          document.getElementById('hc_ec').prepend(document.getElementById('hc_ec_noData'))\n          document.getElementById('hc_ec_noData').innerHTML = document.getElementById('hc_ec_noData').innerHTML + '<br> <br> <center> No data</center>'\n          console.log('featureslist.showAnnotation ERROR ' + error)\n        })\n        // }\n      })\n  } else {\n    // no data\n    // document.getElementById('hc_ec').innerHTML = document.getElementById('hc_ec').innerHTML + ' <br> No data';\n    // if (!document.getElementById('hc_ec_noData')){\n    // create element\n    createANewDiv_hcNoData('hc_ec_noData').then(function () {\n      document.getElementById('hc_ec').prepend(document.getElementById('hc_ec_noData'))\n      document.getElementById('hc_ec_noData').innerHTML = document.getElementById('hc_ec_noData').innerHTML + '<br> <br> <center> No data</center>'\n    })\n      .catch(function () {\n\n      })\n    // }\n  }\n\n  if (typeof f.hc_species !== 'undefined' && f.hc_species.hasOwnProperty('data') && f.hc_species.data.hasOwnProperty('series') && f.hc_species.data.series.length >= 2) {\n    doThePlotting_v2('hc_species_div', f.hc_species.data.series[0].data, f.hc_species.data.series[1].data, '', f.hc_species.data.series[0].size, f.hc_species.data.series[0].dataLabels.color, f.hc_species.data.series[0].dataLabels.distance, f.hc_species.data.series[1].innerSize, f.hc_species.data.series[0].name, f.hc_species.data.series[1].name, f.hc_species.data.series[1].dataLabels.color).then(function () {\n      document.getElementById('hc_species').prepend(document.getElementById('hc_species_div'))\n    })\n      .catch(function (error) {\n        // if (!document.getElementById('hc_species_noData')){\n        // create element\n        createANewDiv_hcNoData('hc_species_noData').then(function () {\n          document.getElementById('hc_species').prepend(document.getElementById('hc_species_noData'))\n          document.getElementById('hc_species_noData').innerHTML = document.getElementById('hc_species_noData').innerHTML + '<br> <br> <center> No data</center>'\n\n          console.log('featureslist.showAnnotation ERROR ' + error)\n        })\n        // }\n      })\n  } else {\n    // no data\n    // document.getElementById('hc_species').innerHTML = document.getElementById('hc_species').innerHTML + ' <br> No data';\n    //\tif (!document.getElementById('hc_species_noData')){\n    // create element\n    createANewDiv_hcNoData('hc_species_noData').then(function () {\n      document.getElementById('hc_species').prepend(document.getElementById('hc_species_noData'))\n      document.getElementById('hc_species_noData').innerHTML = document.getElementById('hc_species_noData').innerHTML + '<br> <br> <center> No data</center>'\n    })\n    //\t}\n  }\n\n  resolve()\n})\n}\n\nfunction updateTheStyleOfHc () {\nconst hcSeriesGroup = document.getElementsByClassName('highcharts-pie-series')\n// console.log(\"The highcharts series group are: \");\n// console.log(hcSeriesGroup);\n// console.log(hcSeriesGroup.children('path'));\n\nfor (const key in hcSeriesGroup) {\n  if (hcSeriesGroup.hasOwnProperty(key)) {\n    /* hcSeriesGroup[key].childNodes.forEach(function(item, i){\n              console.log(\"The item is\");\n              console.log(item);\n          }); */\n\n    const thePaths = hcSeriesGroup[key].getElementsByTagName('path')\n    // console.log(\"The paths are\");\n    // console.log(thePaths);\n\n    for (const pathKey in thePaths) {\n      if (thePaths.hasOwnProperty(pathKey)) {\n        // console.log('The path is ');\n        // console.log(thePaths[pathKey]);\n        // console.log(thePaths[pathKey].getAttribute('fill'));\n\n        const theColor = thePaths[pathKey].getAttribute('fill')\n\n        thePaths[pathKey].removeAttribute('fill')\n        thePaths[pathKey].setAttribute('style', 'fill:' + theColor)\n      }\n    }\n  }\n}\n}\n\nfunction doThePlotting_v2 (divId, theSeriesData_inner, theSeriesData_outer, theTitle, theSize_inner, labelCol_inner, labelDist_inner, innerSize_outer, name_inner, name_outer, labelCol_outer) {\n    return new Promise(function (resolve, reject) {\n      // try{\n      //\tlet newDiv = document.createElement('div');\n      //\tnewDiv.id = divId;\n      //\tnewDiv.style = \"width: 100px; height: 100px; margin: 0 auto\";\n      //\tdocument.getElementById('superFamCharts').append(newDiv);\n  \n            createANewDiv_hcNoData(divId).then(function () {\n        // First add new Div.\n        try {\n          Highcharts.chart(divId, {\n                          chart: {\n                              type: 'pie',\n              margin: 0\n                          },\n                          title: {\n                              text: theTitle\n                          }, /*\n                          subtitle: {\n                              text: 'Source: <a href=\"http://statcounter.com\" target=\"_blank\">statcounter.com</a>'\n                          }, */\n                          plotOptions: {\n                              pie: {\n                                  shadow: false,\n                                  center: ['50%', '50%']\n                              }\n                          },\n                          tooltip: {\n                              valueSuffix: '%'\n                          },\n                          series: [{\n                              name: name_inner,\n                              data: theSeriesData_inner,\n                              size: theSize_inner,\n                              dataLabels: {\n                enabled: false,\n                                  formatter: function () {\n                                      return this.y > 3 ? this.point.name : null\n                                  },\n                                  color: labelCol_inner,\n                                  distance: labelDist_inner\n                              }\n                          }, {\n                              name: name_outer,\n                              data: theSeriesData_outer,\n                              // size: '80%',\n                              innerSize: innerSize_outer,\n                              dataLabels: {\n                enabled: false,\n                                  formatter: function () {\n                                      // display only if larger than 1\n                                      return this.y > 1 ? '<b>' + this.point.name + ':</b> ' +\n                                          this.y + '%' : null\n                                  },\n                color: labelCol_outer\n                              },\n                              id: 'versions'\n                          }],\n                          responsive: {\n                              rules: [{\n                                  condition: {\n                                      maxWidth: 100\n                                  },\n                                  chartOptions: {\n                                      series: [{\n                                      }, {\n                                          id: 'versions',\n                                          dataLabels: {\n                                              enabled: false\n                                          }\n                                      }]\n                                  }\n                              }]\n                          }\n          })\n          resolve()\n          // console.log('In the highcharts plotting function')\n        } catch (error) {\n          console.log('Highcharts error')\n          console.log(error)\n          resolve()\n          console.log('In the highcharts plotting function')\n        }\n      })\n      /* }\n          catch(error){\n              console.log(\"Highcharts error\");\n              console.log(error);\n          } */\n    })\n  }\n\n  function createANewDiv_hcNoData (divId) {\n    return new Promise(function (resolve, reject) {\n      if (document.getElementById(divId)) {\n        document.getElementById(divId).remove() //  = '';\n      }\n      // if (!document.getElementById(divId)){\n      const newDiv = document.createElement('div')\n      document.getElementById('superFamCharts').append(newDiv)\n      newDiv.id = divId\n      newDiv.style = 'width: 100px; height: 100px; margin: 0 auto; background-color: white;'\n  \n      // if (document.getElementById(divId)){\n      resolve()\n      // }\n      // }\n    })\n  }","import d3 from 'd3'\nimport * as panels from '../../AquariaLayout/helpers/hidePanels'\nimport store from '../../../store/index'\nimport * as viewer from './loadFeature'\nimport * as popup from './handleFeaturePop'\nimport * as showMatchingStructures from '../../MatchingStructures/helpers/show_matching_structures'\nvar featureSetCount = 0\nvar width = 0\n\nexport function updateFeatureUI (data, addedFeature) {\n  var fh\n  /**\n   * @todo\n   * Resize tracks on resize\n   */\n  data.forEach(function (key) {\n    var featureHeader = d3.select('#' + key[0].replace(/\\s/g, '\\\\ '))\n    if (addedFeature) {\n      fh = featureHeader.select('#AddedFeatures .featureTrack').selectAll('div')\n    } else {\n      fh = featureHeader.select('.featureTrack').selectAll('div')\n    }\n    for (var aFsIdx in key[1]){\n      if (((key[0] != 'Added Features') || (!key[1][aFsIdx].hasOwnProperty('SeqHash')) || (key[1][aFsIdx].SeqHash == '') || (key[1][aFsIdx].SeqHash == store.state.Matches.sequences[0].uniprot_hash))) {\n        fh.data([key[1][aFsIdx]])\n        .enter()\n        .append('div') \n        .attr('class', 'track')\n        .attr('id', function(d){\n          return 'track_' + d.Category\n        })\n        .html(\n          function (d) {\n            if (d.Type != '') {\n              if (d.Server == 'UniProt' || d.Server == 'PredictProtein' || d.Server == 'CATH' || d.Server == 'SNAP2' || d.Server == 'COSMIC' || d.Server == 'FunVar') {\n                    var source = 'Curated Features'\n              } else {\n                  source = d.Server\n              }\n              return \"<p><span class='featureSetName'>\" +\n                    d.Category +\n                    '</span> <i class=\"featureSetName_\">(' +\n                    d.Type.replace(/_/g, ' ') +\n                    \")</i> &nbsp;&nbsp; <span class='info'>?</span>  <span class='source'>\" +\n                    source.replace(/[sS]$/, '') +\n                    '</span> </p> <span class=\\'tooltiptext\\'>' + d.Description + '</span>'\n            } else {\n              if (d.Server == 'UniProt' || d.Server == 'PredictProtein' || d.Server == 'CATH' || d.Server == 'SNAP2' || d.Server == 'COSMIC' || d.Server == 'FunVar') {\n                source = 'Curated Features'\n            } else {\n                source = d.Server\n            }\n              return '<p><span class=\"featureSetName\">' +\n                    d.Category +\n                    \"</span> &nbsp;&nbsp; <span class='info'>?</span> <span class='source'>\" +\n                    source.replace(/[sS]$/, '')  +\n                    '</span></p> <span class=\\'tooltiptext\\'>' + d.Description + '</span>'\n            }\n          }\n        )\n        .each(drawTrack)\n      }\n    }\n  })\n}\n\n/** \n * @TODO\n * draw track using document fragment\n */\nexport function drawTrack (datum, i) {\n    var features = datum.Tracks\n    for (var track in features) {\n      var outerdiv = d3.select(this)\n      var nusvg = createSVGforFeature(outerdiv)\n      nusvg\n        .attr('id', 'ftrack_' + featureSetCount + '_' + track)  \n        .on('click', function () {\n          if (d3.select(this).attr('class') == 'loaded') { // deselect feature (it's already displayed)\n            /** \n             * @TODO\n             * Improve functions to:\n             * 1. Deselect feature track\n             * 2. Collapse feature set\n            */\n            store.commit('setLoadedFeature', { set: null, track: null })\n            d3.select('svg.loaded').classed('loaded', false)\n            document.querySelector('.featureHeader').click()\n            viewer.removeFeature()\n            popup.hidePopup()\n            panels.hidePanels()\n          } else {\n            /** \n             * @TODO\n             * Use vuex to remove or update feature map\n             * Use vuex to detect if loaded feature is an user-defined feature\n            */\n            if (document.querySelector('#outerFeatureMap')) {\n              document.querySelector('#outerFeatureMap').remove()\n            }\n            if (datum.Server != 'Added Features') {\n              store.commit('setIsCustomFeature', false)\n            }\n            // Store selected feature in vuex store\n            var oid = d3.select(this).attr('id').split('_')[2]\n            store.commit('setLoadedFeature', {set: datum, track: oid})\n\n            d3.selectAll('svg.loaded rect.feature').attr('fill', '#a4abdf')\n            d3.select('svg.loaded').classed('loaded', false)\n            d3.select(this).attr('class', 'loaded')\n            panels.hidePanels()\n          }\n        })\n        .on('mouseover', function () {\n          d3.select(this).selectAll('rect.feature').attr(\n            'fill', function () {\n              return d3.select(this).attr('color')\n            })\n        })\n        .on('mouseout', function () {\n          if (d3.select(this).attr('class') !== 'loaded') {\n            d3.select(this).selectAll('rect.feature')\n              .attr('fill', '#a4abdf')\n          }\n        })\n      // add background for highlighting\n        .append('rect')\n        .attr('width', width + store.state.margin.left)\n        .attr('height', 25)\n        .attr('class', 'bg')\n        .attr('fill', 'none')\n  \n      d3.select('svg#ftrack_' + featureSetCount + '_' + track)\n        .append('g')\n        .attr('transform', 'translate(' + store.state.margin.left + ',0)')\n      // add center line\n        .append('rect')\n        .attr('width', width)\n        .attr('height', 1)\n        .attr('transform', 'translate(0,13)')\n        .attr('class', 'insertion')\n      \n        drawSingleFeature(datum, features, track)\n    }\n    featureSetCount++\n}\n\nexport function drawSingleFeature (datum, features, track) {\n  for (var feature in features[track]) {\n    var featureCount = store.state.featCount + 1\n    store.commit('setFeatCount', featureCount)\n    d3\n      .select('#ftrack_' + featureSetCount + '_' + track + ' g')\n      .append('rect')\n      .attr('width', function () {\n        return (/* parseInt */((features[track][feature].size + 1) * store.state.srw) > 2) ? /* parseInt */((features[track][feature].size + 1) * store.state.srw) : 2\n      })\n      .attr('height', 14)\n      .attr('id', 'feature_' + featureSetCount + '_' + track + '_' + feature)\n      .attr('transform', 'translate(' + /* parseInt */ (features[track][feature].start * (store.state.srw - 0.0085)) + ',6)')\n      .attr('color', features[track][feature].color).attr('fill', '#a4abdf')\n      .attr('fill-opacity', function () { return (datum.Class == 'single_track') ? 0.3 : 1 })\n      .attr('class', 'feature')\n      .on('mouseover', function () {\n        d3.select(this).attr('stroke-width', '2px').attr('stroke', 'white')\n        var el = features[this.id.split('_')[2]][this.id.split('_')[3]]\n        var popupText\n        if (store.state.variantResidues[el.start] && datum.Server === 'Added Features') {\n          popupText = store.state.variantResidues[el.start]\n          //   popupText += 'Structures with residue ' + this.parentElement.id.split('_')[1] + ': '\n          store.commit('setPopupTitle', el.label)\n          store.commit('setPopupText', popupText)\n          store.commit('setVariantIdx', 0)\n          store.commit('setVariant', el.start)\n          store.commit('setPopupType', 'variant')\n          store.commit('setVariantCoordinates', this.getBoundingClientRect())\n        } else if (el.desc.length > 0 && el.desc !== 'undefined') {\n          popupText = el.desc + ' </br> '\n          popupText += 'Structures with residue ' + this.parentElement.id.split('_')[1] + ': '\n          store.commit('setPopupText', popupText)\n          store.commit('setVariant', -1)\n          store.commit('setIsDefaultFeature', false)\n          store.commit('setPopupType', 'minimal')\n          // store.commit('setPopupCoordinates', this.getBoundingClientRect())\n          popup.showPopup(el, this)\n        } else {\n          store.commit('setPopupText', 'Structures with residue ' + this.parentElement.id.split('_')[2] + ': ')\n          store.commit('setPopupCoordinates', this.getBoundingClientRect())\n        }\n      })\n      .on('mouseout',\tfunction () {\n        d3.select(this).attr('stroke-width', '0px')\n        popup.hidePopup()\n      })\n  }\n}\n\nexport function createSVGforFeature (outerdiv) {\n  var viewBoxwidth = document.getElementById('structure-viewer').offsetWidth - store.state.margin.right - store.state.margin.left\n  width = document.getElementById('structure-viewer').offsetWidth - store.state.margin.right\n  var height = 40 - store.state.margin.top - store.state.margin.bottom + 35 \n  var nusvg = outerdiv.append('svg').attr('width', width)\n    .attr('height', height)\n    .attr('viewBox', '0 0 ' + viewBoxwidth + ' ' + height)\n    .attr('preserveAspectRatio', 'none')\n  return nusvg\n}\n\n","<template>\n    <div class=\"panel\" id=\"ftPanel\" v-if=\"showPanel\">\n        <div class=\"close\" @click=\"closeTab\"></div>\n        <div id=\"featurePanel\">\n          <div id=\"groupedFeatures\" class=\"ui-sortable\">\n            <!-- <AddedFeatures/> -->\n            <div :id=\"structure[0]\" class=\"featureCollection ui-sortable-handle\" v-for=\"structure in getfeatureSets\" :key=\"structure[0]\" @click=\"toggleTrack(structure[0])\" >\n              <div class=\"featureHeader\" @mouseover=\"highlight(structure[0])\" @mouseout=\"removeHighlight(structure[0])\">\n                <p id=\"arrow\"></p>\n                <p class=\"featureName\">{{ structure[0] }}</p>\n                <div class=\"info\" @mouseover=\"showInfo(structure, $event)\">?</div>\n              </div>\n              <div class=\"featureTrack ui-sortable\"></div>\n            </div>\n          </div>\n          <br/>\n        </div>\n    </div>\n</template>\n<script>\n// import AddedFeatures from './AddedFeatures.vue'\nimport * as Panels from '../AquariaLayout/helpers/hidePanels'\nimport store from '../../store/index'\nimport * as loadFeature from './helpers/loadFeature'\nimport { mapGetters } from 'vuex'\nimport * as fetchAnnotations from './helpers/fetch_features'\nimport _ from 'lodash'\nimport * as panel3d from '../StructureViewer/helpers/joleculeAPI'\nimport * as viewUtils from '../InfoAbout/helpers/ViewUtils'\nimport * as renderFeature from './helpers/renderPanel'\nimport * as showMatchingStructures from '../MatchingStructures/helpers/show_matching_structures'\n\nexport default {\n  name: 'Features',\n  props: ['showPanel'],\n  data () {\n    return {\n      jAlignment: null,\n      jController: null,\n      accession: '',\n      initialFeature: false\n    }\n  },\n  // components: {\n  //   AddedFeatures\n  // },\n  computed: {\n    Loader () {\n      return store.state.Loader\n    },\n    sideChain () {\n      return store.state.sidechain\n    },\n    ...mapGetters([\n      'getfeatureSets',\n      'getcompleteServerNum',\n      'getLoadedFeature',\n      'getCoverageMap',\n      'getPdbIndex',\n      'getStructure'\n    ])\n  },\n  watch: {\n    /**\n     * When complete server object updated using newly fetched features, update feature panel\n     */\n    showPanel (newVal) {\n      console.log(newVal)\n    },\n    getcompleteServerNum: function (newVal, oldVal) {\n      var _this = this\n      var featureInfo = this.$store.state.aggregatedAnnotations\n      var completeServers = this.$store.state.completeExtServers\n      if (newVal !== oldVal) {\n        _this.groupFeatureSets(featureInfo, completeServers)\n        if (_this.getCoverageMap && Object.keys(_this.$route.query).length > 0) {\n          _this.checkAddedFeature()\n        }\n      }\n    },\n    getPdbIndex: function (newVal) {\n      if (newVal.cluster !== null && !this.Loader) {\n        this.initiate()\n      }\n    },\n    Loader: function (newVal) {\n      var _this = this\n      if (!newVal) {\n        if (_this.$store.state.structure.accession !== _this.accession) {\n          _this.accession = _this.$store.state.structure.accession\n          _this.fetch_features(this.$store.state.Matches.sequences)\n        }\n        if (Object.keys(_this.$route.query).length > 0 || _this.getLoadedFeature.set) {\n          store.commit('setLoadedFeature', { set: _this.getLoadedFeature.set, track: 0 })\n        }\n        window.addEventListener('hashchange', e => _this.updateSelection(window.location.hash), {})\n      }\n    },\n    getLoadedFeature: function (data, old) {\n      var _this = this\n      if ((data.set !== old.set || !old.set) && data.set) {\n        _this.initialFeature = false\n        loadFeature.loadFeature(data.set, data.track)\n        if (this.sideChain !== null) {\n          loadFeature.showSideChains(this.sideChain)\n        }\n      } else if (data.set === old.set && data.set && !this.initialFeature) {\n        loadFeature.removeFeature()\n      }\n      // } else if (data.set === old.set && data.set) {\n      //   store.commit('setLoadedFeature', { set: null, track: null })\n      // }\n      // this.$parent.$parent.showScrim = false\n    }\n  },\n  methods: {\n    initiate: function () {\n      var _this = this\n      if (_this.$store.state.structure.accession !== _this.accession) {\n        _this.accession = _this.$store.state.structure.accession\n        store.commit('setfeatureSets', null)\n        _this.fetch_features(this.$store.state.Matches.sequences)\n      }\n      if (Object.keys(_this.$route.query).length > 0 || _this.getLoadedFeature.set) {\n        _this.initialFeature = true\n        store.commit('setLoadedFeature', { set: _this.getLoadedFeature.set, track: 0 })\n      }\n      window.addEventListener('hashchange', e => _this.updateSelection(window.location.hash), {})\n    },\n    closeTab: function () {\n      window.scrollBy(0, 100)\n      Panels.hidePanels()\n    },\n    clearResidues: function () {\n      panel3d.embededJolecule.controller.clearSelectedResidues()\n    },\n    toggleTrack: function (event) {\n      const eventElem = document.getElementById(event)\n      if (eventElem) {\n        const trackElem = eventElem.lastChild\n        event = event.replace(/\\s/g, '\\\\ ')\n        if (trackElem.style.display !== 'block') {\n          trackElem.style.display = 'block'\n          document.querySelector('#' + event + ' #arrow').innerText = ''\n        } else {\n          trackElem.style.display = 'none'\n          document.querySelector('#' + event + ' #arrow').innerText = ''\n        }\n      }\n    },\n    highlight: function (id) {\n      document.querySelector('#' + id.replace(/\\s/g, '\\\\ ') + ' > .featureHeader').style.background = '#bebebe'\n    },\n    removeHighlight: function (id) {\n      document.querySelector('#' + id.replace(/\\s/g, '\\\\ ') + ' > .featureHeader').style.background = '#ccc'\n    },\n    showInfo: function (feature, event) {\n      console.log('Some feature checking string ')\n      console.log(feature)\n      // store.commit('setPopupTitle', feature[0])\n      var popupText = feature[1][0].About ? feature[1][0].About : 'No description available'\n      store.commit('setTotalPDBres', 0)\n      store.commit('setPopupText', popupText)\n      store.commit('setIsDefaultFeature', true)\n      store.commit('setPopupType', 'minimal')\n      store.commit('setVariantIdx', -1)\n      store.commit('setPopupTitle', '')\n      // store.commit('setPopupType', 'feature')\n      store.commit('setPopupCoordinates', event.srcElement.getBoundingClientRect())\n      store.commit('setPopupCoordinates2', event.srcElement.getBoundingClientRect())\n    },\n    fetch_features: async function (sequences) {\n      var primaryAccession = []\n      var uniprotMD5hash = []\n\n      sequences.forEach(function (sequence) {\n        primaryAccession.push(sequence.primary_accession)\n        uniprotMD5hash.push(sequence.uniprot_hash)\n      })\n      await fetchAnnotations.fetch_annotations(primaryAccession)\n    },\n    groupFeatureSets: function (featureList, extServerIds) {\n      if (featureList.length > 0) {\n        var featureSet = featureList || featureSet\n        var extServerIds_ = extServerIds || extServerIds_\n        // Group by feature source\n        var groupedFeatures = _.groupBy(featureSet, function (feature) {\n          return feature.Server\n        })\n        // Store as an object\n        groupedFeatures = Object.keys(groupedFeatures).map(function (key) {\n          return [String(key), groupedFeatures[key]]\n        })\n        /**\n         * Replace setfeatureSets by completeExtServers\n         */\n        if (store.getters.getfeatureSets === null) {\n          store.commit('setfeatureSets', groupedFeatures)\n        } else if (store.getters.getfeatureSets.length < groupedFeatures.length) {\n          store.commit('setfeatureSets', groupedFeatures)\n        }\n      }\n    },\n    checkAddedFeature () {\n      var _this = this\n      var featureSets = this.$store.state.featureSets ? this.$store.state.featureSets : []\n      if (featureSets.length > 0) {\n        featureSets.forEach(function (f) {\n          if (f[0].includes('Added') && _this.getLoadedFeature.set === null) {\n            store.commit('setLoadedFeature', { set: f[1][0], track: 0 })\n          }\n        })\n      }\n    },\n    updateSelection (hash) {\n      viewUtils.loadFromUrl()\n    },\n\n    drawAxisRuler () {\n      if (document.querySelector('#featurePanel > .ruler')) {\n        document.querySelector('#featurePanel > .ruler').remove()\n      }\n      showMatchingStructures.drawAxisRuler('featurePanel')\n    }\n  },\n  updated () {\n    // @TODO Update features panel if sequence changes - updated\n    showMatchingStructures.initialise(this.$store.state.Matches.sequences[0])\n    if (this.getfeatureSets) {\n      this.drawAxisRuler()\n      renderFeature.updateFeatureUI(this.getfeatureSets)\n    }\n  }\n}\n</script>\n\n<style>\n#ftPanel {\n  opacity: 1;\n  height: auto;\n  display: flex;\n  order: 3;\n  background-color: var(--primary-tab);\n}\n#arrow {\n  font-size: calc(9px + 0.2vw);\n  color: #848484;\n  margin: 10px -7px 0px 0px;\n}\n.complete{\n  display:none;\n}\n\n.more{\n  background:lightblue;\n  color:navy;\n  font-size:13px;\n  padding:3px;\n  cursor:pointer;\n}\n\n#featurePanel{\n  max-height: 40vh;\n  overflow: scroll;\n  margin-bottom: -55px;\n  width: 100vw;\n  background: var(--primary-tab);\n}\n#groupedFeatures{\n  margin-left:  6px;\n  height: 100%;\n}\n\ndiv.featureHeader{\n  display:  inline-flex;\n  width:  100%;\n  padding-bottom:  6px;\n  height:  fit-content;\n  max-height:  30px;\n}\n\ndiv.featureHeader  p{\n  cursor:  pointer;\n}\n\n.featureName{\n  font-size:  calc(16px  +  0.2vw);\n  padding-left:  8px;\n  color:  #5a5959;\n  margin:  9px;\n}\n\n.featureSetName{\n  font-size:  calc(14px  +  0.2vw);\n  padding-left:  8px;\n  color:  #5a5959;\n  margin:  9px;\n}\n\n.featureSetName_{\n  font-size:  calc(12px  +  0.2vw);\n  padding-left:  8px;\n  color:  #7B7A7A;\n  margin:  9px;\n}\n\ndiv.featureHeader  .info{\n  font-size:  calc(10px  +  0.2vw);\n  padding:  0px  5px  8px  5px;\n  color:  #5a5959;\n  background-color:  white;\n  border-radius:  12px;\n  height:  15px;\n  margin-top:  10px;\n  position:  relative;\n}\n\ndiv.featureHeader  .info:hover{\n  font-size:  calc(10px  +  0.2vw);\n  padding:  0px  5px  8px  5px;\n  color:  white;\n  background-color: var(--primary-link);\n  border-radius:  12px;\n  height:  15px;\n  margin-top:  10px;\n  position:  relative;\n}\n\nspan.info{\n  font-size:  calc(10px  +  0.2vw);\n  padding:  1px  5px  1px  5px;\n  color:  #5a5959;\n  background-color:  white;\n  border-radius:  12px;\n  height:  15px;\n  margin-top:  10px;\n  position:  relative;\n  cursor: pointer;\n}\n\n/*  Tooltip  text  */\nspan.tooltiptext  {\n  visibility:  hidden;\n  width:  fit-content;\n  max-width:  38vw;\n  min-width:  25vw;\n  background-color:  #fff;\n  color:  black;\n  text-align:  left;\n  padding:  5px  10px;\n  border-radius:  6px;\n  /*  Position  the  tooltip  text  -  see  examples  below!  */\n  position:  fixed;\n  z-index:  1;\n  overflow-wrap:  break-word;\n  margin-top:  -5px;\n  left:  22vw;\n}\n\n/*  Show  the  tooltip  text  when  you  mouse  over  the  tooltip  container  */\n/*  .info:hover  span.tooltiptext  {\n  visibility:  visible;\n  }  */\n\n.infoHeader{\n  background-color:  white;\n  color:  black;\n}\n\n#remove{\n  margin-left:  auto;\n  margin-right:  4px;\n  height:  19px;\n  margin-right:  10px;\n}\n\n/*  #share{\n  height:  19px;\n  margin-right:  10px;\n}  */\n\n.featureButtons{\n  margin-top:  10px;\n  background:  #777777;\n  color:  #e8e2e2;\n  border-radius:  10px;\n  padding-top:  0px;\n  cursor:  pointer;\n}\n\n.featureButtons{\n  visibility:  hidden;\n}\n\n.featureTrack .ui-sortable {\n  cursor: move;\n}\n\ndiv.featureTrack{\n  display:  none;\n  background:  none;\n  height:  fit-content;\n}\n\n#classification  a{\n  color:  #9a9999;\n  font-size:  14px;\n}\n\n#classification{\n  padding-top:  5px;\n}\n\n#classification:hover  >  a{\n  color:  #08C;\n  font-size:  14px;\n}\n\n.track  >  p{\n  text-align:  left;\n  margin-left:  10px;\n}\n\ndiv.balloon  {\n  background:  #666;\n  border-radius:  10px;\n  color:  #CCC;\n  padding:  8px;\n}\n\ndiv.balloon  p  {\n  margin:  0  0  6px  0;\n}\n\ndiv.balloon  p  a  {\n  color:  #6AF;\n}\n\ndiv.balloon  h3  {\n  background-color:  #999;\n  margin-bottom:  1em;\n  }\n\ndiv.balloon{\n  overflow: scroll;\n  max-height: 800px;\n}\n\ndiv.popup.top  div.balloon  {\n  border-radius:  16px;\n  box-shadow:  0px  2px  16px  #555;\n  cursor:  -moz-grab;\n  cursor:  -webkit-grab;\n  cursor:  grab;\n  padding-left:  14px;\n}\n\ndiv.popup.top  div.balloon:active  {\n  cursor:  -moz-grabbing;\n  cursor:  -webkit-grabbing;\n  cursor:  grabbing;\n}\n\n.windows  div.popup.top  div.balloon  {\n  border-radius:  0;\n}\n\ndiv.popup  {\n  background:  url(../../../public/images/point.png)  no-repeat  center  bottom;\n  display:  none;\n  padding:  0  0  14px  0;\n  position:  absolute;\n  width:  320px;\n  z-index:  999;\n}\n\n.highcharts-figure,  .highcharts-data-table  table  {\n  min-width:  100px;\n  max-width:  150px;\n  margin:  1em  auto;\n}\n\n.highcharts-data-table  table  {\n  font-family:  'Source Sans Pro',  sans-serif;\n  border-collapse:  collapse;\n  border:  1px  solid  #EBEBEB;\n  margin:  10px  auto;\n  text-align:  center;\n  width:  150px;\n  max-width:  200px;\n}\n\n.highcharts-data-table  caption  {\n  padding:  1em  0;\n  font-size:  1.2em;\n  color:  #555;\n}\n\n.highcharts-data-table  th  {\n  font-weight:  600;\n  padding:  0.5em;\n}\n\n.highcharts-data-table  td,  .highcharts-data-table  th,  .highcharts-data-table  caption  {\n  padding:  0.5em;\n}\n\n.highcharts-data-table  thead  tr,  .highcharts-data-table  tr:nth-child(even)  {\n  background:  #f8f8f8;\n}\n\n.highcharts-data-table  tr:hover  {\n  background:  #f1f7ff;\n}\n\n.column  {\n  /* float:  left; */\n  width:  25%;\n  padding:  2px;\n  display:  inline-block;\n  /*  border:1px  solid  orange;  */\n  width:  105px;\n  height:  130px;\n  font-size:11px;\n}\n\n/*  Clear  floats  after  image  containers  */\n.row::after  {\n  content:  \"\";\n  clear:  both;\n  display:  table;\n}\n\n.popupTitle  {\n  font-weight:  bold;\n}\n\n.popupText  {\n  padding-top:  5px;\n}\n</style>\n","<template>\n  <div id=\"map\" class='rel'>\n    <FeatureMap :drawFeature=\"drawFeature\"/>\n    <mapLoader v-if=\"showLoader\"/>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport * as d3 from 'd3'\nimport FeatureMap from '../Features/FeatureMap.vue'\nimport * as panel3d from '../StructureViewer/helpers/joleculeAPI'\nimport { mapGetters } from 'vuex'\nimport mapLoader from './mapLoader.vue'\nimport store from '../../store/index'\nimport * as View from '../InfoAbout/helpers/ViewUtils'\nimport { findPDBMember } from '../../utils/loadData'\n\n// var w = window.outerWidth\nvar h = 50\nvar transitionVar = 200\nvar greyScale = [61, 28]\nvar svgElem\nexport default {\n  name: 'CoverageMap',\n  components: {\n    FeatureMap,\n    mapLoader\n  },\n  data () {\n    return {\n      seqLength: 0,\n      scale: null,\n      coverageMapsrw: 0,\n      residueColor: null,\n      densityScale: null,\n      darkRegions: [],\n      myArray: [1],\n      coverageMapData: null,\n      drawFeature: false,\n      showLoader: true,\n      structure: {\n        accession: null\n      },\n      docFrag: null\n    }\n  },\n  computed: {\n    getLoadedFeature () {\n      return store.state.loadedFeature\n    },\n    secondaryStructure () {\n      return store.state.secondaryStructure\n    },\n    sequence () {\n      return store.state.currentSequence\n    },\n    loader () {\n      return store.state.Loader\n    },\n    ...mapGetters([\n      'getGene',\n      'getStructure',\n      'getOneAaCodes',\n      'getThreeAaCodes',\n      'getLoadedFeature',\n      'getSequences',\n      'getCoveragemapOverlay',\n      'getPdbIndex'\n    ])\n  },\n  watch: {\n    getCoveragemapOverlay (value) {\n      this.showLoader = value\n    },\n    getLoadedFeature (newCount) {\n      var _this = this\n      const PDBIndex = findPDBMember(_this.getStructure.pdb, _this.getStructure.chain)\n      const currentCluster = store.state.Matches.clusters[PDBIndex.cluster]\n      const currentMember = currentCluster.members[PDBIndex.member]\n      if (newCount.set === null) {\n        document.querySelectorAll('[id^=\"feature_residue_').forEach(function (el) { el.remove() })\n        _this.drawFeature = false\n        _this.updateUI()\n      } else {\n        _this.setStructFeatmap(currentMember)\n        _this.drawFeature = true\n      }\n    },\n    secondaryStructure (newVal, oldVal) {\n      // Update structure map when new structure selected\n      var _this = this\n      if (!oldVal || newVal[1] !== oldVal[1]) {\n        if (document.querySelector('#map > #coverageMap')) {\n          var PDBIndex = findPDBMember(_this.getStructure.pdb, _this.getStructure.chain)\n          var currentMember = store.state.Matches.clusters[PDBIndex.cluster].members[PDBIndex.member]\n          _this.selectStructmap(currentMember)\n          store.commit('setCoveragemapOverlay', false)\n        } else {\n          if (_this.getPdbIndex.member >= 0 && _this.getStructure.accession) {\n            _this.updateUI()\n          }\n        }\n        if (Object.keys(_this.$route.query).length > 0 || _this.getLoadedFeature.set) {\n          store.commit('setLoadedFeature', { set: _this.getLoadedFeature.set, track: 0 })\n        }\n      }\n    },\n    sequence (newVal, oldVal) {\n      // Render new coverage map if new chain selected\n      var _this = this\n      var checkSeq = false\n      if (oldVal) {\n        if (oldVal.primary_accession !== newVal.primary_accession) {\n          checkSeq = true\n        } else if (oldVal.sequence === newVal.sequence) {\n          store.commit('setCoveragemapOverlay', false)\n        }\n      } else {\n        checkSeq = true\n      }\n      if (checkSeq) {\n        if (document.querySelector('#map > #coverageMap')) {\n          document.querySelector('#map > #coverageMap').remove()\n        }\n        _this.init(newVal.primary_accession)\n        var loadRequest = {\n          selector: [newVal.primary_accession],\n          selectPDB: this.$store.state.structure.pdb, // optional fields\n          selectChain: this.$store.state.structure.chain // optional fields\n        }\n        var url = `${window.BACKEND}/get_3D_alignment`\n        axios({\n          method: 'get',\n          url: url,\n          params: loadRequest\n        }).then(function (response) {\n          const newData = response.data\n          newData.secondary_structure.push(loadRequest.selectPDB + '-' + loadRequest.selectChain)\n          store.commit('setSecondaryStructure', newData.secondary_structure)\n        })\n      }\n    },\n    loader: function (newVal) {\n      // Render coverage map after structure finishes loading\n      var _this = this\n      if (!newVal) {\n        const joleculeWatcher = new View.JoleculeWatcher(panel3d.embededJolecule)\n        joleculeWatcher.addEventListener('viewcommit', () => {\n          if (!document.querySelector('#map > #coverageMap') && _this.getStructure.accession) {\n            _this.updateUI()\n          }\n        })\n      }\n    }\n  },\n  mounted () {\n    // Fetch coverage map data\n    var _this = this\n    if (this.getStructure.accession) {\n      _this.init(_this.getStructure.accession)\n    }\n  },\n  methods: {\n    updateUI () {\n      // Render coverage map\n      var _this = this\n      var PDBIndex = findPDBMember(_this.getStructure.pdb, _this.getStructure.chain)\n      var currentMember = store.state.Matches.clusters[PDBIndex.cluster].members[PDBIndex.member]\n      // Render coverage map for the first time\n      if (!document.querySelector('#map > #coverageMap')) {\n        _this.drawMap(_this.coverageMapData)\n        document.querySelector('#map').appendChild(_this.docFrag)\n        // If feature applied, draw feature map\n        if (_this.getLoadedFeature.set !== null) {\n          _this.setStructFeatmap(currentMember)\n          _this.drawFeature = true\n        } else {\n          _this.selectStructmap(currentMember)\n        }\n        store.commit('setCoverageMap', true)\n        store.commit('setCoveragemapOverlay', false)\n      } else {\n        _this.selectStructmap(currentMember)\n      }\n    },\n    init (accession) {\n      // Get the data\n      var _this = this\n      store.commit('setCoveragemapOverlay', true)\n      var url = `${window.BACKEND}/getCoverageMap`\n      var loadRequest = {\n        selector: [accession]\n      }\n      axios({\n        method: 'get',\n        url: url,\n        params: loadRequest\n      }).then(function (response) {\n        console.log(response.data)\n        _this.coverageMapData = response.data\n      })\n    },\n    drawMap (data) {\n      // Draw outline of the map without any structure map selected\n      var _this = this\n      svgElem = _this.renderSVG()\n      svgElem.append('rect')\n        .attr('id', 'selection')\n      this.drawLine(svgElem)\n      this.setScales(data)\n      this.drawDarkRegions(data)\n      data.secondaryStructures.forEach(function (d) {\n        // convert strings to numbers\n        d.start = +d.start\n        d.end = +d.end\n        _this.drawResidues(d, data)\n      })\n    },\n    setScales (data) {\n      var _this = this\n      this.seqLength = data.seqLength\n      this.scale = d3.scale.linear().domain([1, this.seqLength]).range([1, window.innerWidth]) // Scale seq length by screen width\n      this.coverageMapsrw = (this.scale(data.seqLength)) / (data.seqLength) // Single residue width\n      var maxStruct = Math.max(...data.densityMap)\n      if (maxStruct <= transitionVar) { // Use absolute scale for density map when total number of struct < 200\n        _this.densityScale = d3.scale.linear().domain([Math.log(1), Math.log(transitionVar)]).range(greyScale)\n      } else { // Use relative scale for density map when total number of struct > 200\n        _this.densityScale = d3.scale.linear().domain([Math.log(1), Math.log(Math.max(...data.densityMap))]).range(greyScale)\n      }\n    },\n    drawLine (svg) {\n      svg\n        .append('line')\n        .style('stroke', '#434343')\n        .attr('x1', 1)\n        .attr('y1', 26)\n        .attr('x2', window.innerWidth)\n        .attr('y2', 26)\n    },\n    renderSVG () {\n      this.docFrag = document.createDocumentFragment()\n      var svg = d3\n        // .select('#map')\n        .select(this.docFrag)\n        .append('svg')\n        .attr('id', 'coverageMap')\n        .attr('height', h)\n        .attr('width', '100%')\n        .attr('viewBox', '0, 0, ' + window.innerWidth + ',' + h)\n        .attr('preserveAspectRatio', 'none')\n        // .attr('height', 40)\n\n      var rect = svg.append('g')\n      return rect\n    },\n    drawResidues (el, data) {\n      var svg = svgElem\n      // var thickness = 0\n      var ptext = ''\n      var ptitle = ''\n      var _this = this\n      if (el.Type === 'SHEET') {\n        var height = 18\n        // var color = '#f6c719'\n        var translate = 17\n        var className = 'sheet'\n      } else if (el.Type === 'COIL') {\n        height = 14\n        // color = '#6f9e52'\n        translate = 19\n        className = 'coil'\n      } else {\n        height = 19\n        // color = '#6491b6'\n        translate = 16\n        className = 'helix'\n      }\n      for (var n = el.start; n <= el.end; n++) {\n        var color = 'hsl(0, 0%,' + _this.densityScale(Math.log(data.densityMap[n - 1])) + '%)'\n        svg\n          .append('g')\n          .attr('id', 'residue_' + n + '_' + el.Type + '_' + data.densityMap[n - 1])\n          .append('rect')\n          .attr('transform', 'translate(' + (n * _this.coverageMapsrw - _this.coverageMapsrw) + ',' + translate + ')')\n          .attr('width', function () {\n            if (_this.coverageMapsrw < 0.5) {\n              return _this.coverageMapsrw + 0.25\n            } else {\n              return _this.coverageMapsrw\n            }\n          })\n          .attr('height', height)\n          .attr('fill', color)\n          .attr('class', className)\n          .attr('stroke-width', 1)\n          .on('mouseover', function (d) {\n            _this.residueColor = d3.select(this).style('fill') // Store original residue color\n            d3.select(this)\n              .attr('stroke', 'white')\n              .attr('stroke-width', 1)\n            var resNum = this.parentElement.id.split('_')[1]\n            store.commit('setRes', resNum)\n            var sequenceAa = _this.getSequences[0].sequence[resNum - 1]\n            var idx = _this.getOneAaCodes.indexOf(sequenceAa)\n            var longAa = _this.getThreeAaCodes[idx]\n            // @TODO Fetch amino acid codes in store\n            ptitle = '<span style=\"font-weight: 700;\">' + _this.getGene + '</span> sequence: ' + longAa + '' + resNum\n            if (this.parentElement.id.includes('active')) {\n              // @TODO Create separate method to fetch structure amino acid code\n              var jAlignment = panel3d.joleculeAlignment\n              var jController = panel3d.embededJolecule.controller\n              var pdbResNum = jAlignment.mapSeqResToPdbResOfChain(0, resNum, _this.getStructure.chain)\n              var iRes = jController.soup.findResidueIndices(0, pdbResNum[1], pdbResNum[2])\n              var structAa = jController.soup.getResidueProxy().load(iRes).resType\n              structAa = structAa.substr(0, 1) + structAa.substr(1).toLowerCase()\n              ptext = '</br>' + _this.getStructure.pdb + '-' + _this.getStructure.chain + ' structure: ' + structAa + '-' + pdbResNum[2] + '</br> Structures with residue ' + this.parentElement.id.split('_')[1] + ': '\n            } else {\n              ptext = '</br> Structures with residue ' + this.parentElement.id.split('_')[1] + ': '\n            }\n            // store.commit('setPopupTitle', ptitle)\n            store.commit('setVariantIdx', -1)\n            store.commit('setPopupText', ptitle + ptext)\n            store.commit('setTotalPDBres', this.parentElement.id.split('_')[3])\n            store.commit('setPopupCoordinates', this.getBoundingClientRect())\n            store.commit('setPopupType', 'minimal')\n            store.commit('setPopupTitle', '')\n          })\n          .on('mouseout', function () {\n            store.commit('setPopupCoordinates', null)\n            // setTimeout(function () {\n            //   store.commit('setPopupCoordinates', null)\n            // }, 2000)\n            d3.select(this)\n              .attr('stroke', _this.residueColor)\n              .attr('stroke-width', 0)\n          })\n          .on('click', function () {\n            var parentId = this.parentElement.id\n            if (parentId.includes('active')) {\n              var resNum = parentId.split('_')[1]\n              if (window.location.hash.length > 2) {\n                /**\n                 * @todo\n                 * if no fragment set oldHash = ''\n                 */\n                var oldHash = window.location.hash.split('#')[1]\n              }\n              window.location.hash = resNum + '&' + oldHash\n            } else {\n              store.commit('setPopupText', 'Residue not in current 3D structure <br>' + store.state.popupText)\n            }\n          })\n      }\n    },\n    // This function resets the coverage map residue properties\n    // And highlights the selected region in the coverage map\n    selectStructmap (selectedClus) {\n      var _this = this\n      d3.selectAll('[id^=\"residue_\"')[0].map(function (d, i) { // Reset coverage map residue properties\n        var density = d.id.split('_')[3]\n        if (d.id.includes('active')) {\n          d.id = d.id.split('_active')[0]\n        }\n        d3.select(d)\n          .select('rect')\n          .attr('fill', 'hsl(0, 0%,' + _this.densityScale(Math.log(density)) + '%)')\n      })\n      var secondaryStruct = store.getters.getSecondaryStructure[0]\n      var seqStart = selectedClus.seq_start[0]\n      var seqEnd = selectedClus.seq_end[selectedClus.seq_start.length - 1]\n      var width = (seqEnd - seqStart) * _this.coverageMapsrw + _this.coverageMapsrw\n\n      if (document.querySelector('#map > #coverageMap > rect')) {\n        document.querySelector('#map > #coverageMap > rect').remove()\n      }\n      d3.select('#map > #coverageMap > g').select('rect#selection')\n        .attr('width', width)\n        .attr('height', 30)\n        .attr('transform', 'translate(' + (seqStart * _this.coverageMapsrw - _this.coverageMapsrw) + ',' + 11 + ')')\n        .attr('fill', 'white')\n        .attr('stroke', '#434343')\n        .attr('stroke-width', 1)\n        .attr('rx', 6)\n        .attr('ry', 6)\n\n      secondaryStruct.map(function (index) {\n        if (index.end) {\n          var start = index.start\n          var end = index.end\n          var type = index.type\n        } else {\n          start = index.split('\\n')[0].split(':')[1].split('-')[0]\n          end = index.split('\\n')[0].split(':')[1].split('-')[1]\n          type = index.split('\\n')[0].split(':')[0]\n        }\n        for (var j = start; j <= end; j++) {\n          var elemId = '[id^=\"residue_' + j + '_\"]'\n          // var type = document.querySelector(elemId).id.split('_')[2]\n          d3.select(elemId + '> rect').attr({\n            fill: _this.getStructureColor(type)\n          })\n          // Indicate which residues are active\n          if (!document.querySelector(elemId)) { // TO DO: Fix secondary structure calculation on server-side\n            var el = {}\n            el.Type = 'COIL'\n            el.start = j\n            el.end = j\n            _this.drawResidues(el, _this.coverageMapData)\n            document.querySelector(elemId).id = document.querySelector(elemId).id + '_active'\n          } else {\n            document.querySelector(elemId).id = document.querySelector(elemId).id + '_active'\n          }\n        }\n      })\n    },\n    setStructFeatmap (selectedClus) {\n      var _this = this\n      // Select correct region in the coverage map\n      d3.selectAll('[id^=\"residue_\"')[0].map(function (d, i) {\n        var density = d.id.split('_')[3]\n        d3.select(d)\n          .select('rect')\n          .attr('fill', 'hsl(0, 0%,' + _this.densityScale(Math.log(density)) + '%)')\n      })\n      var secondaryStruct = store.getters.getSecondaryStructure[0]\n      var seqStart = selectedClus.seq_start[0]\n      var seqEnd = selectedClus.seq_end[selectedClus.seq_start.length - 1]\n      var width = (seqEnd - seqStart) * _this.coverageMapsrw + _this.coverageMapsrw\n\n      if (document.querySelector('#map > #coverageMap > rect')) {\n        document.querySelector('#map > #coverageMap > rect').remove()\n      }\n      d3.select('#map > #coverageMap > g > #selection')\n        .attr('width', width)\n        .attr('height', 30)\n        .attr('transform', 'translate(' + (seqStart * _this.coverageMapsrw - _this.coverageMapsrw) + ',' + 11 + ')')\n        .attr('fill', 'white')\n        .attr('stroke', '#434343')\n        .attr('stroke-width', 1)\n        .attr('rx', 6)\n        .attr('ry', 6)\n\n      secondaryStruct.map(function (index) {\n        if (index.end) {\n          var start = index.start\n          var end = index.end\n        } else {\n          start = index.split('\\n')[0].split(':')[1].split('-')[0]\n          end = index.split('\\n')[0].split(':')[1].split('-')[1]\n        }\n        for (var j = start; j <= end; j++) {\n          var elemId = '[id^=\"residue_' + j + '_\"]'\n          // var type = document.querySelector(elemId).id.split('_')[2]\n          d3.select(elemId + '> rect').attr({\n            fill: '#cccccc'\n          })\n        }\n      })\n    },\n    getStructureColor (type) {\n      if (type === 'SHEET') {\n        return '#f6c719'\n      } else if (type === 'COIL') {\n        return '#6f9e52'\n      } else {\n        return '#6491b6'\n      }\n    },\n    drawDarkRegions (data) {\n      var arr = []\n      var _this = this\n      var svg = svgElem\n      data.densityMap.forEach(function (item, index) {\n        if (item === 0) {\n          var n = index + 1\n          svg\n            .append('g')\n            .attr('id', 'residue_' + n + '_Dark_0')\n            .append('rect')\n            .attr('transform', 'translate(' + (n * _this.coverageMapsrw - _this.coverageMapsrw) + ',' + 14 + ')')\n            .attr('width', function () {\n              if (_this.coverageMapsrw < 0.5) {\n                return _this.coverageMapsrw + 0.25\n              } else {\n                return _this.coverageMapsrw\n              }\n            })\n            .attr('height', 30)\n            .attr('fill', '#434343')\n            .attr('opacity', 0)\n            .attr('stroke-width', 1)\n            .on('mouseover', function (d) {\n              _this.residueColor = d3.select(this).style('fill') // Store original residue color\n              d3.select(this)\n                .attr('stroke', 'white')\n                .attr('stroke-width', 1)\n              const ptitle = 'Residue ' + this.parentElement.id.split('_')[1] + ' : Dark region </br>'\n              const ptext = 'Structures with residue ' + this.parentElement.id.split('_')[1] + ': '\n              store.commit('setVariantIdx', -1)\n              store.commit('setPopupText', ptitle + ptext)\n              store.commit('setTotalPDBres', this.parentElement.id.split('_')[3])\n              store.commit('setPopupCoordinates', this.getBoundingClientRect())\n              store.commit('setPopupType', 'minimal')\n              store.commit('setPopupTitle', '')\n            })\n            .on('mouseout', function () {\n              d3.select(this)\n                .attr('stroke', _this.residueColor)\n                .attr('stroke-width', 0)\n            })\n        }\n      })\n      return arr\n    }\n  }\n}\n</script>\n\n<style scoped>\n#map {\n  top: var(--spacer-bottom);\n  height: 3rem;\n}\n/* @media screen and (min-width: 550px) {\n  #map { top: 3rem; }\n}\n@media screen and (min-width: 950px) {\n  #map { top: 3.5rem; }\n} */\n/* @media screen and (min-width: 1850px) {\n  #map { top: 4rem; }\n} */\n#selectedCluster{\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  left: 0.2%;\n  height: 2.5rem;\n}\n#selectedFeature{\n  position: absolute;\n  bottom: 0px;\n  width: 100%;\n  left: 0.2%;\n}\n</style>\n","<template>\n    <div id=\"UserHelp\" class=\"HelpPanel dialouge-window level7 overlay\" v-if='helpTitle'>\n        <div class=\"close\" @click=\"closeHelp\"></div>\n          <div id='fullwindow-video' class='fill'>\n            <youtube v-for=\"video in videos\" :key=\"video.id\" :id='video.id' :video-id=\"video.id\" class='hide' ref=\"youtube\" @paused=\"paused($event)\" @ended=\"finished($event)\"></youtube>\n          </div>\n          <div id='contents' v-if=\"showContents\">\n            <p class=\"thetitle\">{{data.title}}</p>\n            <p class=\"intro\">Watch tutorial videos to get started.</p>\n            <!-- <p class=\"intro\">Skip watching tutorial videos and start using Aquaria.</p> -->\n            <Playlist v-bind:playlist='videos' :style=\"{display: !data.newUser ? 'block' : 'none'}\"/>\n            <div v-if=\"data.newUser\">\n              <youtube id='intro-video' video-id=\"FAQ3yVGYSzY\" ref=\"youtube\" @playing=\"playing($event)\" @paused=\"paused($event)\" @ended=\"finished($event)\"></youtube>\n            </div>\n            <a href=\"#\" id='skip' @click=\"closeHelp\">Skip > </a>\n          </div>\n    </div>\n</template>\n\n<script>\nimport store from '@/store/index'\nimport Playlist from './Playlist'\nvar targetId\nvar index\nexport default {\n  name: 'UserHelp',\n  components: {\n    Playlist\n  },\n  data () {\n    return {\n      videos: [\n        { id: 'FAQ3yVGYSzY', title: 'Introduction to Aquaria' },\n        { id: 'UZNEmPOaVrA', title: 'How to Calculate Distances' }\n      ],\n      showContents: true\n    }\n  },\n  props: ['showUserHelp'],\n  computed: {\n    data () {\n      return {\n        title: store.state.helpTitle,\n        newUser: store.state.newUser\n      }\n    },\n    helpTitle () {\n      return store.state.helpTitle\n    }\n  },\n  methods: {\n    closeHelp: function () {\n      var _this = this\n      this.showContents = true\n      this.$store.commit('setScrim', false)\n      this.$parent.dropFragment()\n      this.$store.commit('setHelpTitle', null)\n      store.commit('setNewUserStatus', false)\n      if (document.querySelector('iframe.show')) {\n        var activeVideoID = document.querySelector('iframe.show').id\n        document.getElementById(activeVideoID).classList.remove('show')\n        document.getElementById(activeVideoID).classList += 'hide'\n        document.getElementById('UserHelp').className += ' dialouge-window'\n        document.getElementById('UserHelp').className += ' overlay'\n        // document.getElementById('UserHelp').className += ' level7'\n        document.getElementById('UserHelp').classList.remove('fullwindow')\n        var event = {}\n        event.h = {}\n        event.h.id = activeVideoID\n        _this.paused(event)\n      }\n    },\n    getIndex: function (targetId) {\n      for (var i = 0; i < this.$refs.youtube.length; i++) {\n        if (this.$refs.youtube[i].$attrs.id === targetId) {\n          return i\n        }\n      }\n    },\n    playing: function (event) {\n      targetId = event.h.id\n      if (this.$refs.youtube.length) {\n        index = this.getIndex(targetId)\n        this.$refs.youtube[index].player.playVideo()\n      } else {\n        this.$refs.youtube.player.playVideo()\n        var iframe = document.querySelector('#intro-video')\n        var requestFullScreen = iframe.requestFullScreen || iframe.mozRequestFullScreen || iframe.webkitRequestFullScreen\n        if (requestFullScreen) {\n          requestFullScreen.bind(iframe)()\n        }\n      }\n    },\n    paused: function (event) {\n      targetId = event.h.id\n      if (document.querySelector('iframe.active')) {\n        this.closeHelp()\n      } else {\n        if (this.$refs.youtube.length) {\n          index = this.getIndex(targetId)\n          this.$refs.youtube[index].player.pauseVideo()\n        } else {\n          this.$refs.youtube.player.pauseVideo()\n        }\n        if (document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement) {\n          document.exitFullscreen()\n        }\n      }\n    },\n    finished: function (event) {\n      targetId = event.h.id\n      if (this.$refs.youtube.length) {\n        index = this.getIndex(targetId)\n        this.$refs.youtube[index].player.stopVideo()\n      } else {\n        this.$refs.youtube.player.stopVideo()\n      }\n      if (document.querySelector('iframe.active')) {\n        document.querySelector('#UserHelp a.close').click()\n      }\n      document.exitFullscreen()\n      this.closeHelp()\n    }\n  }\n}\n</script>\n\n<style scoped>\n.overlay {\n  border-radius: 1rem;\n  /* box-shadow: 0 0 0 9999px rgba(0,0,0,0.6); /* dark background overlay */\n  /* -webkit-box-shadow: 0 0 0 999px rgba(0,0,0,0.6); */\n  padding: 0.5rem 0.75rem;\n  position: absolute;\n  top: 1vh;\n  left: 50%;\n  transform: translate(-50%, 0%);\n  width: 90vw;\n  max-width: calc(23rem + 3vw);\n}\n</style>\n<style>\n::-webkit-scrollbar {\n  display: none;\n}\n.intro {\n  padding: 0px 4px;\n}\n.dialouge-window {\n  left: 50%;\n  max-height: 86vh;\n}\n#fullwindow-video iframe, .fill {\n  width: 100%;\n  height: 100%;\n}\n.fullwindow {\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  max-height: 100vh;\n}\n.deactive{\n  display: none;\n}\n.active {\n  display: block;\n}\n.showIframe {\n  display: flex;\n  left: 0;\n  width: 100%;\n  max-height: 98vh;\n  position: absolute;\n  height: 100vh;\n}\niframe#intro-video {\n  height: 29vh;\n  margin-bottom: 0.5rem;\n}\n#skip {\n  float: right;\n  padding: 2px;\n}\n#UserHelp{\n    overflow: scroll;\n    display: block;\n    position: absolute;\n    z-index: 9;\n    top: 1vh;\n    background: var(--primary-tab);\n    padding: 0.5rem 0.5rem 0.75rem 0.5rem;\n    border-radius: 1rem;\n    flex-direction: column;\n}\n\n#AboutError:target.HelpPanel {\n      display: flex;\n      font-size: 90%;\n      max-width: 40rem;\n}\np.thetitle {\n    display: flex;\n    background-color: var(--primary-label);\n    flex-basis: auto;\n    color: var(--text);\n    text-align: center;\n    line-height: 1.25;\n    padding: 0.5rem 1rem;\n    border-radius: 1.5rem;\n    margin: auto;\n}\n  /* .HelpPanel .close::after {\n    width: calc(1.25rem + 0.5vw);\n    height: calc(1.25rem + 0.5vw);\n  } */\n\n  .HelpPanel .close {\n    position: relative;\n    display: block;\n  }\n  .HelpPanel .close::after {\n    right: 0.25rem;\n    top: 0.25rem;\n    width: calc(1.25rem + 0.5vw);\n    height: calc(1.25rem + 0.5vw);\n    position: absolute;\n    display: flex;\n    z-index: 11;\n    align-items: center;\n    justify-content: center;\n    background-color: rgba(0,0,0,.5);\n    border-radius: 50%;\n    color: white;\n    content: \"\";\n    cursor: pointer;\n    font-size: calc(1rem + 0.5vw)\n  }\n  .HelpPanel .close:hover::after {\n      background-color: var(--primary-highlight);\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Features.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Features.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Features.vue?vue&type=template&id=691b0fae\"\nimport script from \"./Features.vue?vue&type=script&lang=js\"\nexport * from \"./Features.vue?vue&type=script&lang=js\"\nimport style0 from \"./Features.vue?vue&type=style&index=0&id=691b0fae&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div class=\"tabs rel level6\">\n      <div class=\"tab\"  id=\"Structures\" v-on:click=\"renderClusters\" @mouseenter=\"activateStructs = true\" @mouseleave=\"activateStructs = false\">\n        <span class=\"icon\"><img v-bind:src=\"MS\" /></span>\n        <span v-if=\"activateStructs || showStructures || showFeatures\" class=\"panelTitle\">\n          &nbsp;&nbsp;Matching Structures&nbsp;&nbsp;\n          <span class=\"counter\" v-if=\"getStructCount > 0\"> {{ getStructCount.toLocaleString() }}</span>\n        </span>\n      </div>\n      <MatchingStructures v-bind:showPanel='showStructures'/>\n      <div class=\"tab\"  id=\"Features\" v-on:click=\"renderFeatures\" @mouseenter=\"activateFeats = true\" @mouseleave=\"activateFeats = false\">\n        <span class=\"icon\"><img v-bind:src=\"FT\" /></span>\n        <span v-if=\"activateFeats || showFeatures || showStructures\" class=\"panelTitle\">\n          &nbsp;&nbsp;Features&nbsp;&nbsp;\n          <span class=\"counter\" id=\"featureCounter\" v-if=\"getFeatCount\">{{ getFeatCount.toLocaleString() }}</span>\n        </span>\n      </div>\n      <Features v-bind:showPanel='showFeatures'/>\n    </div>\n    <!-- <div id=\"scrim\" v-if=\"showStructures || showFeatures\" @click=\"dismissPanel\" class=\"level5\"></div> -->\n  </div>\n</template>\n<script>\nimport MatchingStructures from '../MatchingStructures/MatchingStructures'\nimport Features from '../Features/Features'\nimport { mapGetters } from 'vuex'\n\nexport default {\n  name: 'Tabs',\n  components: {\n    MatchingStructures,\n    Features\n  },\n  data () {\n    return {\n      MS: require('../../assets/img/MS-01.svg'),\n      FT: require('../../assets/img/FT-01.svg'),\n      activateStructs: false,\n      activateFeats: false,\n      showStructures: false,\n      showFeatures: false\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'getFeatCount',\n      'getStructCount',\n      'getMatches',\n      'getBottomPanel'\n    ])\n  },\n  watch: {\n    getMatches: function () {\n      if (window.location.hash.toLowerCase().includes('structures')) {\n        this.setState('Structures', 'Features')\n      }\n    },\n    getBottomPanel (bool) {\n      if (!bool) {\n        this.dismissPanel()\n      }\n    }\n  },\n  methods: {\n    renderClusters: function () {\n      this.$store.commit('showLoader', false)\n      this.$store.commit('setScrim', true)\n      this.updateHash('Structures')\n      this.setState('Structures', 'Features')\n      this.$parent.resetPopup()\n    },\n    renderFeatures: function () {\n      this.$store.commit('showLoader', false)\n      this.$store.commit('setFeatCount', 0)\n      this.$store.commit('setScrim', true)\n      this.updateHash('Features')\n      this.setState('Features', 'Structures')\n      this.$parent.resetPopup()\n    },\n    updateHash: function (string) {\n      this.$parent.appendHash(string)\n    },\n    setState: function (activePanel, inactivePanel) {\n      this.$store.commit('setBottomPanel', activePanel)\n      this['show' + activePanel] = true\n      this['show' + inactivePanel] = false\n      this.activateTab(activePanel)\n      this.inactivateTab(inactivePanel)\n    },\n    dismissPanel: function () {\n      this.showStructures = false\n      this.showFeatures = false\n      this.$parent.dropFragment()\n      this.hideTabs()\n    },\n    activateTab: function (elem) {\n      document.querySelector('#' + elem).style.display = 'block'\n      document.querySelectorAll('.tab').forEach(element => {\n        element.classList.remove('active')\n      })\n      document.querySelector('#' + elem).classList += ' active'\n    },\n    inactivateTab: function (elem) {\n      document.querySelectorAll('.tab').forEach(element => {\n        element.classList.remove('inactive')\n      })\n      document.querySelector('#' + elem).classList += ' inactive'\n    },\n    hideTabs: function () {\n      document.querySelectorAll('.tab').forEach(element => {\n        element.classList.remove('inactive')\n      })\n      document.querySelectorAll('.tab').forEach(element => {\n        element.classList.remove('active')\n      })\n    }\n  },\n  mounted () {\n    // Move this to Wrapper component and using props to update matching structures panel\n    if (window.location.hash.toLowerCase().includes('features')) {\n      this.setState('Features', 'Structures')\n    }\n  }\n}\n</script>\n<style scoped>\nspan.panelTitle {\n  transition: All 0.5s ease;\n  color: white;\n}\n.tabs {\n    display: flex;\n    flex-flow: row wrap;\n    justify-content: center;\n    top: var(--spacer-bottom);\n}\n\n.tab {\n    flex: 0 0 auto;\n    height: 2rem;\n    padding: 0.25rem 0.5rem 0 0.5rem;\n    transition: All 0.5s ease;\n    min-width: 8.5rem;\n    border-top-left-radius: 0.5rem;\n    border-top-right-radius: 0.5rem;\n}\n@media screen and (min-width: 550px) {\n  .tab {  min-width: 9.5rem; }\n}\n@media screen and (min-width: 950px) {\n  .tab {  min-width: 11.5rem; }\n}\n@media screen and (min-width: 1850px) {\n  .tab {\n    min-width: 14.5rem;\n  }\n}\n.tab#Structures {\n    order: 1;\n    text-align: right;\n}\n.tab#Features {\n    order: 2;\n}\nspan.icon {\n    display: inline-block;\n    background-color: var(--background);\n    width: calc(1.25rem + 1vh);\n    height: calc(1.25rem + 1vh);\n    border-radius: 50%;\n    transition: All 0.5s ease;\n}\n\n.tab.active, .tab.active .panelTitle{\n    color: var(--dark-text);\n    font-size: inherit;\n}\n\n.tab.active, .tab.active:hover {\n    background-color: var(--bg-highlite);\n}\n.tab.active span.counter, .tab.inactive span.counter, .tab:hover span.counter {\n    background: #707070;\n    color: #fff;\n    border-radius: 10px;\n    padding: 0 6px;\n}\n.tab:hover, .tab.inactive  {\n    background-color: rgba(180, 180, 180, 0.7);\n}\nspan.icon {\n    display: inline-block;\n    background-color: transparent;\n    width: calc(1.25rem + 1vh);\n    height: calc(1.25rem + 1vh);\n    border-radius: 50%;\n    transition: All 0.5s ease;\n}\n.tab a:hover, .tab:hover a{\n    color: #FFF;\n    text-decoration: none;\n    transition: All 0.5s ease;\n    font-size: inherit;\n}\n.tab.inactive a {\n  font-size: inherit;\n  color: #dedede;\n}\n\n/* :target a { */\n/* .tab span {\n    color: var(--dark-text);\n} */\n.tab a {\n    color: var(--transparent);\n    text-decoration: none;\n    transition: All 0.5s ease;\n    font-size: 0px;\n}\n.tab:target {\n    background-color: var(--bg-highlite);\n    border-top-left-radius: 0.5rem;\n    border-top-right-radius: 0.5rem;\n}\n\na.to-right {\n    float: right;\n    margin-right: 0.5rem;\n    text-decoration: none;\n    font-size: 150%;\n}\n\n/* from test branch */\n#Structures, #Features {\n    color: transparent;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabs.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabs.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Tabs.vue?vue&type=template&id=08aca170&scoped=true\"\nimport script from \"./Tabs.vue?vue&type=script&lang=js\"\nexport * from \"./Tabs.vue?vue&type=script&lang=js\"\nimport style0 from \"./Tabs.vue?vue&type=style&index=0&id=08aca170&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08aca170\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"rel\",attrs:{\"id\":\"map\"}},[_c('FeatureMap',{attrs:{\"drawFeature\":_vm.drawFeature}}),(_vm.showLoader)?_c('mapLoader'):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"featureMap\"}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div id='featureMap'></div>\n</template>\n\n<script>\nimport store from '../../store/index'\nimport * as d3 from 'd3'\nimport { mapGetters } from 'vuex'\nimport { showPopup } from './helpers/handleFeaturePop'\n\nexport default {\n  name: 'FeatureMap',\n  props: ['drawFeature'],\n  data () {\n    return {\n      seqLength: 0,\n      scale: null,\n      coverageMapsrw: 0,\n      residueColor: null\n    }\n  },\n  computed: {\n    getLoadedFeature () {\n      return store.state.loadedFeature\n    },\n    ...mapGetters([\n      'getVariantResidues',\n      'getLoadedFeature',\n      'getVariantIdx',\n      'getVariant',\n      'getMatches'\n    ])\n  },\n  watch: { // Watch if new feature is loaded\n    getLoadedFeature () {\n      var _this = this\n      if (_this.getLoadedFeature.set === null) {\n        // history.pushState(null, '', window.location.href.split('?')[0] + window.location.hash)\n        document.querySelectorAll('[id^=\"feature_residue_').forEach(function (el) { el.remove() })\n      } else {\n        if (document.querySelector('[id^=\"feature_residue_')) { // check if a feature is already selected. If so, remove and redraw\n          document.querySelectorAll('[id^=\"feature_residue_').forEach(function (el) { el.remove() })\n          _this.drawMap(_this.getLoadedFeature)\n        } else {\n          _this.drawMap(_this.getLoadedFeature)\n        }\n      }\n    }\n  },\n  methods: {\n    drawMap (data) {\n      console.log('All the data is ')\n      console.log(data)\n\n      var _this = this\n      this.setScales()\n      data.set.Tracks[data.track].forEach(function (d, i) {\n        // convert strings to numbers\n        console.log('here.... ' + d)\n        console.log(d)\n        d.start = +d.start\n        d.end = +d.end\n        _this.drawFeatureResidues(d)\n      })\n      if (!this.$store.getters.getIsDefaultFeature && this.getVariantResidues) { // if feature is a variant, open popup\n        _this.loadPopup(data)\n        console.log('The data here is ' + _this.getVariantIdx + ' ' + _this.getVariant)\n        console.log(data)\n      }\n    },\n    loadPopup (data) {\n      var _this = this\n\n      // var alignedOnto = document\n      // store.commit('setPopupCoordinates2', elem.getBoundingClientRect())\n\n      var allKeys = Object.keys(_this.getVariantResidues).sort(function (a, b) {\n        return _this.getVariantResidues[a].order - _this.getVariantResidues[b].order\n      })\n      var res = allKeys[0]\n      var id = '[id^=\"feature_residue_' + res + '_\"]'\n      var elem = document.querySelector(id)\n      data.set.Tracks[data.track].forEach(function (el) {\n        if (_this.getVariantResidues[el.start]) {\n          if (elem != null && _this.$store.getters.getVariant === -1 && _this.$store.getters.getAllVariantsCoordinates === null) {\n            if ((Object.keys(_this.$route.query).length > 0 && typeof _this.$route.params.pdbID === 'undefined' && allKeys.length > 1)) {\n              _this.$store.commit('setAllVariantsCoordinates', document.getElementById('struct').getBoundingClientRect())\n              console.log('Setting allVariantsCoordinates')\n            } else {\n              if (String(el.start) === String(res)) {\n                console.log('settingPopupTitle')\n                console.log(el.label)\n                console.log(el)\n                // console.log('\"Comes here...? taking steps is easy!\" ' + el.start)\n                store.commit('setVariantIdx', 0)\n                store.commit('setVariant', el.start)\n                store.commit('setPopupTitle', el.label)\n                var popupText = _this.getVariantResidues[el.start]\n                store.commit('setPopupText', popupText)\n                store.commit('setIsDefaultFeature', false)\n                store.commit('setPopupType', 'variant')\n                store.commit('setVariantCoordinates', elem.getBoundingClientRect())\n              }\n              console.log('The start... ' + el.start + ' ' + res)\n            }\n          } else {\n            console.log('Key paramaters: ')\n            console.log(_this.$store.getters.getVariant)\n            console.log(_this.$store.getters.getAllVariantsCoordinates)\n            console.log(elem)\n            console.log(_this.$route.params.pdbID)\n            console.log(allKeys)\n          }\n        }\n      })\n    },\n    setScales () {\n      this.seqLength = this.getMatches.sequences[0].length\n      this.scale = d3.scale.linear().domain([1, this.seqLength]).range([1, window.innerWidth])\n      this.coverageMapsrw = (this.scale(this.seqLength)) / (this.seqLength)\n    },\n    drawFeatureResidues (el) {\n      var _this = this\n      var popupText = ''\n      var translate = ''\n      var fResidueHeight = ''\n      for (var n = el.start; n <= el.end; n++) {\n        var elem = '[id^=\"residue_' + n + '\"]'\n        var tmp1 = document.querySelector(elem)\n        var tmp2 = document.querySelector(elem + '> rect')\n        if (tmp1 === 'undefined' || tmp2 === 'undefined' || tmp1 == null || tmp2 == null) {\n          continue\n        } else {\n          if (tmp1.id.includes('Dark')) {\n            translate = 15\n            fResidueHeight = 20\n          } else {\n            translate = 25\n            fResidueHeight = document.querySelector(elem + '> rect').getBoundingClientRect().height\n          }\n          var covMap = d3.select('#map > #coverageMap > g')\n          covMap\n            .append('g')\n            .attr('id', 'feature_residue_' + n + '_' + document.querySelector(elem).id.split('_')[3])\n            .append('rect')\n            .attr('width', _this.coverageMapsrw)\n            .attr('height', fResidueHeight)\n            .attr('transform', function () {\n              var elemHeight = document.querySelector(elem + '> rect').getBoundingClientRect().height\n              if (elemHeight === 18) {\n                return 'translate(' + (n * _this.coverageMapsrw - _this.coverageMapsrw) + ',' + 17 + ')'\n              } else if (elemHeight === 14) {\n                return 'translate(' + (n * _this.coverageMapsrw - _this.coverageMapsrw) + ',' + 19 + ')'\n              } else if (elemHeight === 19) {\n                return 'translate(' + (n * _this.coverageMapsrw - _this.coverageMapsrw) + ',' + 16 + ')'\n              } else {\n                return 'translate(' + (n * _this.coverageMapsrw - _this.coverageMapsrw) + ',' + translate + ')'\n              }\n            })\n            .attr('fill', el.color)\n            .on('mouseover', function (d) {\n              _this.residueColor = d3.select(this).style('fill') // Store original residue color\n              d3.select(this)\n                .attr('stroke', 'white')\n                .attr('stroke-width', 1)\n              if (tmp1.id.includes('Dark')) {\n                store.commit('setPopupTitle', el.label + ': Dark region')\n              } else {\n                store.commit('setPopupTitle', el.label)\n              }\n              if (el.desc !== el.label) {\n                showPopup(el, this.parentElement)\n                console.log('This is the feature....')\n                console.log(el)\n                if (_this.getVariantResidues[el.start] && _this.getLoadedFeature.set.Server === 'Added Features') {\n                  popupText = _this.getVariantResidues[el.start]\n                  //   popupText += 'Structures with residue ' + this.parentElement.id.split('_')[1] + ': '\n                  store.commit('setVariantIdx', 0)\n                  store.commit('setVariant', el.start)\n                  store.commit('setPopupType', 'variant')\n                  store.commit('setPopupText', popupText)\n                  store.commit('setVariantCoordinates', this.getBoundingClientRect())\n                } else if (el.desc.length > 0 && el.desc !== 'undefined') {\n                  popupText = el.desc + ' </br> '\n                  popupText += 'Structures with residue ' + this.parentElement.id.split('_')[1] + ': '\n                  store.commit('setPopupText', popupText)\n                  // store.commit('setVariant', -1)\n                  store.commit('setIsDefaultFeature', false)\n                  store.commit('setPopupType', 'minimal')\n                  store.commit('setPopupTitle', '')\n                  // store.commit('setPopupCoordinates', this.getBoundingClientRect())\n                } else {\n                  store.commit('setPopupText', 'Structures with residue ' + this.parentElement.id.split('_')[2] + ': ')\n                  store.commit('setPopupCoordinates', this.getBoundingClientRect())\n                  store.commit('setPopupTitle', '')\n                }\n              } else {\n                popupText = el.desc + '</br> Structures with residue ' + this.parentElement.id.split('_')[2] + ': '\n                store.commit('setPopupText', popupText)\n                // store.commit('setVariant', -1)\n                store.commit('setPopupType', 'minimal')\n                store.commit('setPopupCoordinates', this.getBoundingClientRect())\n                store.commit('setPopupTitle', '')\n              }\n              store.commit('setIsDefaultFeature', false)\n              store.commit('setTotalPDBres', this.parentElement.id.split('_')[3])\n            })\n            .on('mouseout', function () {\n              store.commit('setVariantCoordinates', null)\n              d3.select(this)\n                .attr('stroke', _this.residueColor)\n                .attr('stroke-width', 0)\n            })\n            .on('click', function () {\n              var parentId = this.parentElement.id\n              var resNum = parentId.split('_')[2]\n              if (window.location.hash.length > 2) {\n                var oldHash = window.location.hash.split('#')[1]\n              }\n              window.location.hash = resNum + '&' + oldHash\n            })\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style>\n#featureMap {\n    position: relative;\n    bottom: 47px ;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureMap.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureMap.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./FeatureMap.vue?vue&type=template&id=1f85a622\"\nimport script from \"./FeatureMap.vue?vue&type=script&lang=js\"\nexport * from \"./FeatureMap.vue?vue&type=script&lang=js\"\nimport style0 from \"./FeatureMap.vue?vue&type=style&index=0&id=1f85a622&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"animated\"},[_c('div',{staticClass:\"innerGradient\"})])\n}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"animated\">\n        <div class=\"innerGradient\"></div>\n    </div>\n</template>\n\n<script>\nexport default {\n  name: 'mapLoader'\n}\n</script>\n\n<style scoped>\n    .animated {\n        width: 100vw;\n        height: 2rem;\n        overflow: hidden;\n        bottom: 6px;\n        position: fixed;\n    }\n    .innerGradient {\n        z-index: -1;\n        width: 300%;\n        height: 300%;\n        position: absolute;\n        animation: 2s infinite alternate ease-out breathing-color--dark;\n        -webkit-animation: 2s infinite alternate ease-out breathing-color--dark;\n    }\n    @keyframes breathing-color--dark {\n        from\n        {\n            background-color: #afafafab;\n        }\n        to\n        {\n            background-color: var(--structurecoverage);\n        }\n    }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mapLoader.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mapLoader.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./mapLoader.vue?vue&type=template&id=6934c327&scoped=true\"\nimport script from \"./mapLoader.vue?vue&type=script&lang=js\"\nexport * from \"./mapLoader.vue?vue&type=script&lang=js\"\nimport style0 from \"./mapLoader.vue?vue&type=style&index=0&id=6934c327&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6934c327\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CoverageMap.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CoverageMap.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CoverageMap.vue?vue&type=template&id=fa5a0784&scoped=true\"\nimport script from \"./CoverageMap.vue?vue&type=script&lang=js\"\nexport * from \"./CoverageMap.vue?vue&type=script&lang=js\"\nimport style0 from \"./CoverageMap.vue?vue&type=style&index=0&id=fa5a0784&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fa5a0784\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.data.error)?_c('div',{staticClass:\"ErrorPanel overlay level3\",attrs:{\"id\":\"AboutError\"}},[_c('a',{staticClass:\"close\",attrs:{\"href\":\"#\"},on:{\"click\":_vm.loadLastSuccess}}),_c('div',[_c('p',{staticClass:\"thetitle\"},[_vm._v(_vm._s(_vm.data.error))]),_c('p',{staticClass:\"intro1\",domProps:{\"innerHTML\":_vm._s(_vm.data.errorMsg)}}),_c('div',[_c('md-button',{staticClass:\"md-raised md-primary\",attrs:{\"href\":_vm.lastURL,\"id\":\"errOk\"}},[_vm._v(\"OK\")]),_c('md-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showReportIssue),expression:\"showReportIssue\"}],staticClass:\"md-raised md-primary\",attrs:{\"id\":\"theReportIssueBtn\",\"href\":_vm.issuesURL,\"target\":\"_blank\"}},[_vm._v(\"Report Issue\")])],1)])]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"AboutError\" v-if=\"data.error\" class='ErrorPanel overlay level3'>\n    <a href=\"#\" class=\"close\" @click=\"loadLastSuccess\"></a>\n    <div>\n      <p class=\"thetitle\">{{data.error}}</p>\n      <p class=\"intro1\" v-html=\"data.errorMsg\"></p>\n      <div>\n        <md-button class=\"md-raised md-primary\" :href='lastURL' id='errOk'>OK</md-button>\n        <md-button id='theReportIssueBtn' class=\"md-raised md-primary\" :href='issuesURL' target='_blank' v-show=\"showReportIssue\">Report Issue</md-button>\n      </div>\n      <!-- <p>We encourage you to <a v-bind:href=\"issues\" target=\"_blank\" title=\"Go to Github\">report issues</a>, <a :href=\"changes\" target=\"_blank\" title=\"Go to Github\">propose code changes</a>, or <a href=\"mailto:contact@aquaria.app\" title=\"Email us\">contact us</a> regarding suggestions.</p> -->\n      <!-- <p><i>Last updated May, 2020. PDB entries released since then are not yet available in Aquaria.</i><p> -->\n    </div>\n  </div>\n</template>\n<script>\nimport store from '@/store/index'\nexport default {\n  name: 'Errors',\n  data () {\n    return {\n      issues: '',\n      title: '',\n      changes: 'https://github.com/aqclient/dev.aqclient.github.io/issues/new?labels=enhancement',\n      logo: require('../../assets/img/logo-large.png'),\n      showReportIssue: true\n    }\n  },\n  computed: {\n    data () {\n      return {\n        message: store.state.message,\n        error: store.state.error,\n        errorMsg: store.state.errorMsg\n      }\n    },\n    issuesURL () {\n      return 'https://github.com/aqclient/dev.aqclient.github.io/issues/new?title=Problem with this page&labels=bug&body=<a href=\"' + encodeURIComponent(window.location.href) + '\">' + this.data.error + '</a>'\n    },\n    pageUrl () {\n      return window.location.href\n    },\n    lastURL () {\n      if (this.$store.state.fallback === 3) {\n        var arr = window.location.search.split('.')\n        arr.pop()\n        var searchStrNoFs = arr.join('.')\n        // eslint-disable-next-line vue/no-side-effects-in-computed-properties\n        this.showReportIssue = false\n        return window.location.origin + window.location.pathname + searchStrNoFs\n      } else if (this.$store.state.fallback === 2) {\n        // eslint-disable-next-line vue/no-side-effects-in-computed-properties\n        this.showReportIssue = false\n        var arr1 = window.location.search.split('.')\n        arr1.pop()\n\n        if (arr1.length === 3) {\n          arr1.pop()\n        }\n        var searchStrNoFs1 = arr1.join('.')\n        return window.location.origin + window.location.pathname + searchStrNoFs1\n      } else if (this.$store.state.fallback === 1) {\n        return window.location.origin + window.location.pathname\n      } else {\n        return window.location.origin\n      }\n      // + (localStorage.getItem('LastSuccess') ? localStorage.getItem('LastSuccess') : '/P04637')\n    }\n  },\n  methods: {\n    loadLastSuccess: function () {\n      window.location.pathname = localStorage.getItem('LastSuccess') ? localStorage.getItem('LastSuccess') : '/P04637'\n    }\n  }\n}\n</script>\n<style scoped>\n.md-button.md-theme-default.md-raised:not([disabled]).md-primary{\n  background: #707070;\n  float: right;\n}\n.intro1{\n  padding-left: 10px;\n}\n#AboutError{\n    display: flex;\n    position: absolute;\n    z-index: 9999999999999;\n    top: 1vh;\n    left: 50%;\n    background: var(--primary-tab);\n    padding: 0.5rem 0.75rem;\n    border-radius: 1rem;\n    flex-direction: column;\n}\np.thetitle {\n  display: flex;\n    background-color: var(--primary-label);\n    flex-basis: auto;\n    color: var(--text);\n    text-align: center;\n    line-height: 1.25;\n    padding: 0.5rem 2rem;\n    border-radius: 1.5rem;\n    margin: auto;\n}\n  #AboutError:target.ErrorPanel {\n      display: flex;\n      font-size: 90%;\n      max-width: 40rem;\n  }\n  p#starter {\n      text-align: center;\n  }\n  #AboutError p.thetitle {\n      text-transform: uppercase;\n      letter-spacing: 0.25em;\n  }\n #AboutError a {\n   /* color: var(--primary-link); */\n   text-decoration: none;\n }\n  .affiliations {\n    font-size: 70%;\n  }\n  /* #AboutError span {\n    display: inline-block;\n    white-space: nowrap;\n    margin-right: 0.25em;\n  }\n  .affiliations span {\n      margin-right: 1.2em;\n  } */\n  /* .ErrorPanel .close::after {\n    width: 1.5rem;\n    height: 1.5rem;\n  } */\n\n  .ErrorPanel .close {\n    position: relative;\n    display: block;\n  }\n  .ErrorPanel .close::after {\n    right: 0.25rem;\n    top: 0.25rem;\n    width: calc(1.25rem + 0.5vw);\n    height: calc(1.25rem + 0.5vw);\n    position: absolute;\n    display: flex;\n    z-index: 11;\n    align-items: center;\n    justify-content: center;\n    background-color: rgba(0,0,0,.5);\n    border-radius: 50%;\n    color: white;\n    content: \"\";\n    cursor: pointer;\n    font-size: calc(1.25rem + 0.5vw);\n  }\n  .ErrorPanel .close:hover::after {\n      background-color: var(--primary-highlight);\n  }\n .ErrorPanel.overlay {\n    border-radius: 1rem;\n    /* box-shadow: 0 0 0 9999px rgba(0,0,0,0.6); /* dark background overlay */\n    /* -webkit-box-shadow: 0 0 0 999px rgba(0,0,0,0.6); */\n    padding: 0.5rem 0.75rem;\n    position: absolute;\n    top: 1vh;\n    left: 50%;\n    transform: translate(-50%, 0%);\n    width: 90vw;\n    max-width: 30rem;\n  }\n </style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Errors.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Errors.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Errors.vue?vue&type=template&id=11dd3cd0&scoped=true\"\nimport script from \"./Errors.vue?vue&type=script&lang=js\"\nexport * from \"./Errors.vue?vue&type=script&lang=js\"\nimport style0 from \"./Errors.vue?vue&type=style&index=0&id=11dd3cd0&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11dd3cd0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.helpTitle)?_c('div',{staticClass:\"HelpPanel dialouge-window level7 overlay\",attrs:{\"id\":\"UserHelp\"}},[_c('div',{staticClass:\"close\",on:{\"click\":_vm.closeHelp}}),_c('div',{staticClass:\"fill\",attrs:{\"id\":\"fullwindow-video\"}},_vm._l((_vm.videos),function(video){return _c('youtube',{key:video.id,ref:\"youtube\",refInFor:true,staticClass:\"hide\",attrs:{\"id\":video.id,\"video-id\":video.id},on:{\"paused\":function($event){return _vm.paused($event)},\"ended\":function($event){return _vm.finished($event)}}})}),1),(_vm.showContents)?_c('div',{attrs:{\"id\":\"contents\"}},[_c('p',{staticClass:\"thetitle\"},[_vm._v(_vm._s(_vm.data.title))]),_c('p',{staticClass:\"intro\"},[_vm._v(\"Watch tutorial videos to get started.\")]),_c('Playlist',{style:({display: !_vm.data.newUser ? 'block' : 'none'}),attrs:{\"playlist\":_vm.videos}}),(_vm.data.newUser)?_c('div',[_c('youtube',{ref:\"youtube\",attrs:{\"id\":\"intro-video\",\"video-id\":\"FAQ3yVGYSzY\"},on:{\"playing\":function($event){return _vm.playing($event)},\"paused\":function($event){return _vm.paused($event)},\"ended\":function($event){return _vm.finished($event)}}})],1):_vm._e(),_c('a',{attrs:{\"href\":\"#\",\"id\":\"skip\"},on:{\"click\":_vm.closeHelp}},[_vm._v(\"Skip > \")])],1):_vm._e()]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"playlists\"}},_vm._l((_vm.playlist),function(video){return _c('span',{key:video.id,attrs:{\"id\":video.id},on:{\"click\":function($event){return _vm.play(video.id)}}},[_c('div',{staticClass:\"thumbnail-container\"},[_c('img',{attrs:{\"src\":'https://img.youtube.com/vi/' + video.id + '/0.jpg'}}),_c('button',{staticClass:\"btn\"},[_vm._v(\"\")])]),_c('p',[_vm._v(_vm._s(video.title))])])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div id='playlists'>\n        <span v-for=\"video in playlist\" :key=\"video.id\" :id='video.id' @click=\"play(video.id)\">\n            <div class='thumbnail-container'>\n                <img :src=\"'https://img.youtube.com/vi/' + video.id + '/0.jpg'\">\n                <button class=\"btn\">&#9654;</button>\n            </div>\n            <p>{{video.title}}</p>\n        </span>\n    </div>\n</template>\n\n<script>\nexport default {\n  name: 'Playlist',\n  props: ['playlist'],\n  methods: {\n    play: function (id) {\n      this.$parent.showContents = false\n      document.getElementById(id).classList.remove('hide')\n      document.getElementById(id).classList += 'show'\n      document.getElementById('UserHelp').classList.remove('overlay')\n      // document.getElementById('UserHelp').classList.remove('level7')\n      document.getElementById('UserHelp').classList.remove('dialouge-window')\n      document.getElementById('UserHelp').className += ' fullwindow'\n      for (var i = 0; i < this.$parent.$children.length; i++) {\n        if (this.$parent.$children[i].$attrs.id === id) {\n          var index = i\n        }\n      }\n      this.$parent.$children[index].player.playVideo()\n    }\n  }\n}\n</script>\n\n<style>\n.thumbnail-container{\n    position: relative;\n    width: 50%;\n}\n.thumbnail-container img {\n    width: 100%;\n    height: 100%;\n    padding: 3px 7px 3px 3px;\n}\n.thumbnail-container .btn {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    -ms-transform: translate(-50%, -50%);\n    background-color: #555;\n    color: white;\n    font-size: 16px;\n    padding: 12px 24px;\n    border: none;\n    border-radius: 5px;\n\n}\nspan:hover .thumbnail-container  .btn{\n  background-color: red;\n}\n#playlists p{\n    font-size: 90%;\n    float: right;\n    width: 50%;\n}\n#playlists iframe {\n    display: none\n}\n#playlists span {\n    display: flex;\n    height: 114px;\n    cursor: pointer;\n}\n#playlists span:hover {\n    background: #e1e0e0;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Playlist.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Playlist.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Playlist.vue?vue&type=template&id=e6e0d5fc\"\nimport script from \"./Playlist.vue?vue&type=script&lang=js\"\nexport * from \"./Playlist.vue?vue&type=script&lang=js\"\nimport style0 from \"./Playlist.vue?vue&type=style&index=0&id=e6e0d5fc&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserHelp.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserHelp.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./UserHelp.vue?vue&type=template&id=df550c62&scoped=true\"\nimport script from \"./UserHelp.vue?vue&type=script&lang=js\"\nexport * from \"./UserHelp.vue?vue&type=script&lang=js\"\nimport style0 from \"./UserHelp.vue?vue&type=style&index=0&id=df550c62&prod&scoped=true&lang=css\"\nimport style1 from \"./UserHelp.vue?vue&type=style&index=1&id=df550c62&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"df550c62\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('PopupGeneric',{key:'variant',style:({display: _vm.PopupPos ? 'block' : 'none'}),attrs:{\"id\":\"variant\",\"header\":_vm.title,\"PopupPos\":_vm.PopupPos,\"parentRef\":_vm.ref}},[(_vm.PopupPos)?_c('div',{staticClass:\"aaLightBg\"},[(_vm.defaultDesc)?_c('p',{attrs:{\"id\":\"spanDefaultDesc\"}},[_vm._v(\" \"+_vm._s(_vm.defaultDesc)+\" \")]):_vm._e(),_vm._l((_vm.oneAaCodes),function(aaCode){return _c('div',{key:aaCode,style:({display: (aaCode === _vm.variant) ? 'block' : 'none'}),attrs:{\"id\":'divVarInfo_' + aaCode}},[_vm._l((_vm.getAaDataAsArr(aaCode)),function(dataStr){return _c('expandable-text-line',{key:dataStr,attrs:{\"use-click\":\"\"},domProps:{\"innerHTML\":_vm._s(dataStr + '.')}})}),_c('i',[_vm._v(\"Structures with \"+_vm._s(_vm.getOldAa())+_vm._s(_vm.getVarDisplay())+_vm._s(aaCode)+\":\")]),_vm._v(\" \"),_c('span',{class:_vm.getIsShownVar(_vm.variant),on:{\"click\":function($event){return _vm.showTreeView($event, aaCode)}}},[_vm._v(_vm._s(_vm.getPdbCount(aaCode)))])],2)}),_c('hr',{staticClass:\"anAaHr\",attrs:{\"id\":\"anAaHr\",\"hidden\":_vm.isHrHidden()}}),_c('div',{attrs:{\"id\":\"divPosInfo\"}},[_c('span',{staticClass:\"weight700\",domProps:{\"innerHTML\":_vm._s(_vm.getResInfo())}}),_c('br'),_vm._l((_vm.getPosInfoDataAsArr()),function(arrObj,keyStr){return _c('span',{key:keyStr},[_c('expandable-text-line',{attrs:{\"use-click\":\"\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(keyStr)}}),_vm._v(\": \"),_vm._l((arrObj),function(dataStr){return _c('span',{key:dataStr,domProps:{\"innerHTML\":_vm._s(dataStr  + '. ')}})})],2)],1)}),_c('i',[_vm._v(\"Structures with residue \"+_vm._s(_vm.getVariant)+\": \")]),_c('span',{class:_vm.getIsShownRes(),on:{\"click\":function($event){return _vm.showTreeView($event)}}},[_vm._v(_vm._s(_vm.getTotalPdbCount))])],2)],2):_vm._e(),(_vm.PopupPos)?_c('div',{staticClass:\"btnsDiv\"},[_c('span',[_vm._v(\"See also:\")]),_vm._v(\" \"),_c('span',{staticClass:\"pAaColor\"},[_vm._v(\" \"+_vm._s(_vm.getOldAa())+\"  \")]),_vm._l((_vm.oneAaCodes),function(aaCode){return _c('button',{key:aaCode,class:_vm.getIfBoldInfoPres(aaCode),attrs:{\"id\":'btnVarInfo_' + aaCode},on:{\"click\":function($event){return _vm.highlightAa(aaCode)}}},[_vm._v(_vm._s(aaCode))])})],2):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{style:({display: _vm.getPopupType ? 'block' : 'none'})},[_c('div',{staticClass:\"level6\",attrs:{\"id\":\"shell\"},on:{\"mouseover\":function($event){return _vm.timeout(false)},\"mouseout\":function($event){return _vm.timeout(true)}}},[_c('div',{staticClass:\"level4\",class:['{{getVariantIdx < 0}}' ? '' : 'variantPopup'],attrs:{\"id\":\"body\"}},[(_vm.header)?_c('div',{attrs:{\"id\":\"header\"},on:{\"mousedown\":function($event){return _vm.dragMouseDown($event)}}},[_c('span',{staticClass:\"loadedPin\",attrs:{\"id\":\"loadedPin\"},on:{\"click\":function($event){return _vm.togglePinBehaviour()}}}),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.header)}}),_c('span',{staticClass:\"x\",attrs:{\"id\":\"x_close\"},on:{\"click\":function($event){return _vm.closePopup()}}})]):_vm._e(),(_vm.header2)?_c('div',{attrs:{\"id\":\"header2\"},on:{\"mousedown\":function($event){return _vm.dragMouseDown($event)}}},[_c('span',{staticClass:\"loadedPin\",attrs:{\"id\":\"loadedPin\"},on:{\"click\":function($event){return _vm.togglePinBehaviour()}}}),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.header2)}}),_c('span',{staticClass:\"x\",attrs:{\"id\":\"x_close\"},on:{\"click\":function($event){return _vm.closePopup()}}}),_c('span',{staticClass:\"helpAllVar\",attrs:{\"id\":\"helpAllVar\"},on:{\"click\":function($event){return _vm.displayHelp()}}})]):_vm._e(),_c('div',{attrs:{\"id\":\"content\"}},[_vm._t(\"default\")],2)]),_c('TreeView',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showTree),expression:\"showTree\"}],staticClass:\"level5\",attrs:{\"id\":\"treeView\",\"treeReady\":_vm.prop,\"count\":_vm.count,\"coordinates\":_vm.treeCoordinates,\"parentElem\":_vm.parentElem}}),_c('NodeLoader',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showLoader),expression:\"showLoader\"}],attrs:{\"coordinates\":_vm.treeCoordinates,\"change\":_vm.change}}),_c('svg',{style:({visibility: !_vm.float ? 'visible' : 'hidden'}),attrs:{\"height\":this.tailHeight,\"width\":this.tailWidth,\"id\":\"tail\"}},[_c('polygon',{attrs:{\"points\":\"0 0, 7.5 50, 15 0, 15 0\"}})])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :style=\"{display: getPopupType ? 'block' : 'none'}\">\n    <div id=\"shell\" class='level6' @mouseover=\"timeout(false)\" @mouseout=\"timeout(true)\">\n        <div id=\"body\" class='level4' :class=\"['{{getVariantIdx < 0}}' ? '' : 'variantPopup']\">\n            <div id=\"header\" @mousedown=\"dragMouseDown($event)\" v-if=\"header\">\n                <span id=\"loadedPin\" class='loadedPin' v-on:click='togglePinBehaviour()'></span>\n                <span v-html=\"header\"></span>\n                <span class='x' id='x_close' @click=\"closePopup()\"></span>\n            </div>\n            <div id=\"header2\" @mousedown=\"dragMouseDown($event)\" v-if=\"header2\">\n                <span id=\"loadedPin\" class='loadedPin' v-on:click='togglePinBehaviour()'></span>\n                <span v-html=\"header2\"></span>\n                <span class='x' id='x_close' @click=\"closePopup()\"></span>\n                <span class='helpAllVar' id='helpAllVar' @click=\"displayHelp()\"></span>\n            </div>\n            <div id=\"content\">\n                <slot></slot>\n            </div>\n        </div>\n      <TreeView v-show=\"showTree\" id='treeView' class='level5' v-bind:treeReady='prop' :count='count' :coordinates=\"treeCoordinates\" :parentElem=\"parentElem\"/>\n      <NodeLoader v-show=\"showLoader\" :coordinates=\"treeCoordinates\" :change='change'/>\n      <svg :height=\"this.tailHeight\" :width=\"this.tailWidth\" id='tail' :style=\"{visibility: !float ? 'visible' : 'hidden'}\">\n        <polygon points=\"0 0, 7.5 50, 15 0, 15 0\"></polygon>\n      </svg>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TreeView from '../MatchingStructures/TreeView'\nimport NodeLoader from '../AquariaLayout/NodeLoader'\nimport store from '../../store/index'\nimport { mapGetters } from 'vuex'\nimport axios from 'axios'\nimport * as panel3d from '../StructureViewer/helpers/joleculeAPI'\n\nexport default {\n  name: 'PopupGeneric',\n  components: {\n    TreeView,\n    NodeLoader\n  },\n  props: ['header2', 'header', 'PopupPos', 'parentRef'],\n  data () {\n    return {\n      treeCoordinates: {},\n      change: 0,\n      parentElem: null,\n      showTree: false,\n      count: 0,\n      isShowTreeViewClicked: false,\n      prop: null,\n      showLoader: false,\n      tailWidth: 15,\n      tailHeight: 50,\n      pos: [0, 0, 0, 0],\n      tailPosition: {},\n      float: false // popup body floating without a tail\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'getVariant',\n      'getVariantStructs',\n      'getPopupText',\n      'getVariantIdx',\n      'getStructure',\n      'getGene',\n      'getPopupTitle',\n      'getPopupType'\n    ])\n  },\n  methods: {\n    setPopupPos () {\n      var pbody = document.querySelector('#' + this.parentRef + ' #body')\n      var pshell = document.querySelector('#' + this.parentRef + ' #shell')\n      var ptail = document.querySelector('#' + this.parentRef + ' #tail')\n      if (ptail && pshell && pbody) {\n        this.setTailPosition(ptail)\n        this.setShellPosition(pshell)\n        this.handleEdgeCases(pshell, pbody, ptail)\n      }\n    },\n    setTailPosition: function (ptail) {\n      const pos = this.PopupPos\n      this.tailPosition = pos.x - (this.tailWidth / 2) + (pos.width / 2)\n      ptail.style.left = this.tailPosition + 'px'\n    },\n    setShellPosition: function (pshell) {\n      const pos = this.PopupPos\n      if (typeof (this.getPopupText) !== 'object' && this.getPopupText.includes('Dark')) { // position popup tail on the line\n        pos.y = this.PopupPos + 20\n      }\n      if (pos.height >= 100) {\n        pshell.style.top = (pos.y - 2 - pos.height - this.tailHeight / 2) + 'px'\n      } else if (pos.height > 20) { // This is for popup position in dark regions\n        pshell.style.top = (pos.y - 2 - this.tailHeight - 10) + 'px'\n      } else {\n        pshell.style.top = (pos.y - 2 - this.tailHeight) + 'px'\n      }\n      if (this.parentRef === 'allVariants') {\n        pshell.style.top = 30 + 'px'\n        // console.log('updated the positions')\n        // console.log(pos)\n      }\n      pshell.style.left = (this.tailPosition - 10) + 'px'\n    },\n    handleEdgeCases: function (pshell, pbody, ptail) {\n      /** Handle right edge cases */\n      var bodyPos = pshell.getBoundingClientRect().x + pbody.getBoundingClientRect().width\n      if ((bodyPos) > window.innerWidth) {\n        // Shift shell to the left. Add 10px to offset any gaps.\n        pshell.style.left = (window.innerWidth - pbody.getBoundingClientRect().width + 7) + 'px'\n      }\n      /** Handle left edge cases */\n      if (pbody.getBoundingClientRect().x < 0) {\n        pshell.style.left = '-10px'\n      }\n      /** Handle top edge cases */\n      if (pbody.getBoundingClientRect().y < 0) {\n        if (!ptail.classList.contains('topTail')) {\n          ptail.classList += ' topTail'\n        }\n        pbody.style.top = ptail.getBoundingClientRect().height - 2 + 'px'\n      } else {\n        if (ptail.classList.contains('topTail') && (ptail.getBoundingClientRect().y - pbody.getBoundingClientRect().height > 0)) {\n          ptail.classList.remove('topTail')\n          pbody.style.top = null\n        }\n      }\n    },\n    timeout: function (start) {\n      var _this = this\n      if (start && !this.$parent.pinned && !this.isShowTreeViewClicked) {\n        _this.$parent.timer = _this.setTimer()\n      } else if (this.$parent.timer) {\n        clearTimeout(_this.$parent.timer)\n      }\n    },\n    setTimer () {\n      var _this = this\n      function run () {\n        _this.$parent.PopupPos = null\n      }\n      return setTimeout(run, 2000)\n    },\n    // The code below uses examples from https://www.w3schools.com/howto/howto_js_draggable.asp\n    // Used to make the popup body draggable\n    dragMouseDown: function (e) {\n      e = e || window.event\n      e.preventDefault()\n      // get the mouse cursor position at startup:\n      this.pos[2] = e.clientX\n      this.pos[3] = e.clientY\n      document.onmouseup = this.closeDragElement\n      // call a function whenever the cursor moves:\n      document.onmousemove = this.elementDrag\n    },\n    elementDrag: function (e) {\n      e = e || window.event\n      e.preventDefault()\n      var elmnt = document.querySelector('#' + this.parentRef + ' #shell')\n      // calculate the new cursor position:\n      this.pos[0] = this.pos[2] - e.clientX\n      this.pos[1] = this.pos[3] - e.clientY\n      this.pos[2] = e.clientX\n      this.pos[3] = e.clientY\n      // set the element's new position:\n      elmnt.style.top = (elmnt.offsetTop - this.pos[1]) + 'px'\n      elmnt.style.left = (elmnt.offsetLeft - this.pos[0]) + 'px'\n      this.float = true\n    },\n    closeDragElement: function () {\n      // stop moving when mouse button is released:\n      document.onmouseup = null\n      document.onmousemove = null\n    },\n    togglePinBehaviour: function () {\n      // 1. Get pin status.\n      const thePin = document.querySelector('#' + this.parentRef + ' #loadedPin') // getElementById('loadedPin')\n      if (thePin.classList.contains('loadedPin_active')) {\n        thePin.classList.remove('loadedPin_active')\n        thePin.classList.add('loadedPin')\n        this.$parent.pinned = false\n      } else if (thePin.classList.contains('loadedPin')) {\n        this.timeout(false)\n        this.$parent.pinned = true\n        thePin.classList.remove('loadedPin')\n        thePin.classList.add('loadedPin_active')\n      }\n    },\n    setDefault: function () {\n      // Sets default popup style\n      const thePin = document.getElementById('loadedPin')\n      if (thePin) {\n        if (thePin.classList.contains('loadedPin_active')) {\n          thePin.classList.remove('loadedPin_active')\n          thePin.classList.add('loadedPin')\n          this.$parent.pinned = false\n        }\n        const tail = document.getElementById('tail')\n        if (tail.classList.contains('hide')) {\n          tail.classList.remove('hide')\n          tail.classList.add('show')\n        }\n        document.getElementById('shell').classList.remove('fade')\n      }\n    },\n    closePopup () {\n      if (!this.isShowTreeViewClicked) {\n        if (this.parentRef === 'variant') {\n          store.commit('setVariantCoordinates', null)\n        } else if (this.parentRef === 'allVariants') {\n          store.commit('setAllVariantsCoordinates', null)\n        }\n        this.$parent.PopupPos = null\n      } else {\n        this.isShowTreeViewClicked = false\n      }\n    },\n    showTreeView (event, aaCode, residue, listOfPdbs, sortedKeys, count) {\n      var _this = this\n      this.timeout(false)\n      this.isShowTreeViewClicked = true\n      var cord = event.srcElement.getBoundingClientRect()\n      this.treeCoordinates.clientX = cord.left\n      this.treeCoordinates.clientY = cord.top\n      this.treeCoordinates.width = cord.width\n      this.treeCoordinates.height = cord.height\n      this.change = _this.change + 1\n      this.showLoader = true\n      var url\n      var loadRequest\n      if (this.$el.id === 'allVariants') {\n        console.log('Calling allVariants')\n        console.log(listOfPdbs)\n        this.parentElem = '#allVariants #shell'\n        this.count = count\n\n        url = `${window.BACKEND}/getSecondaryClustersfromPDB2`\n\n        loadRequest = {}\n        loadRequest.pdbs = []\n        loadRequest.sortedKeys = []\n\n        loadRequest.selector = [_this.getStructure.accession]\n        listOfPdbs.forEach(function (pdb, pdbI) {\n          loadRequest.pdbs.push(pdb)\n        })\n\n        sortedKeys.forEach(function (aKey, aKeyI) {\n          loadRequest.sortedKeys.push(aKey)\n        })\n\n        console.log(loadRequest)\n\n        axios({\n          method: 'get',\n          url: url,\n          params: loadRequest\n        }).then(function (response) {\n          console.log('Recieved the response')\n          console.log(response.data)\n          // pdbs = response.data\n          _this.showTree = true\n          _this.prop = response.data\n        })\n      } else if (this.$el.id === 'variant') {\n      // if (this.getPopupTitle && this.getVariantStructs && Object.hasOwnProperty.call(this.getVariantStructs, this.getVariant)) {\n        this.parentElem = '#variant #shell'\n        if (aaCode) {\n          /** @todo\n           * bring getPDBCount to this component\n           */\n          _this.count = _this.getPdbCount(aaCode)\n        } else {\n          _this.count = _this.getTotalPdbCount\n        }\n\n        url = `${window.BACKEND}/secondaryClusteringByResidue`\n        // var url = `${window.BACKEND}/get_secondary_clusters/P16277/5zj6/A/1`\n        loadRequest = {}\n        loadRequest.selector = [_this.getStructure.accession]\n        loadRequest.sortedKeys = residue ? [parseInt(residue)] : [_this.getVariant]\n        if (aaCode) {\n          loadRequest.aaCode = aaCode\n        }\n        axios({\n          method: 'get',\n          url: url,\n          params: loadRequest\n        }).then(function (response) {\n          console.log(response.data)\n          // pdbs = response.data\n          _this.showTree = true\n          _this.prop = response.data\n        })\n      } else {\n        this.parentElem = '#minimal #shell'\n        url = `${window.BACKEND}/secondaryClusteringByResidue`\n        // var url = `${window.BACKEND}/get_secondary_clusters/P16277/5zj6/A/1`\n        _this.count = _this.getTotalPdbCount\n        loadRequest = {}\n        loadRequest.selector = [_this.getStructure.accession]\n        loadRequest.sortedKeys = [parseInt(_this.getPopupText.match(/ \\d*:/)[0])]\n        axios({\n          method: 'get',\n          url: url,\n          params: loadRequest\n        }).then(function (response) {\n          console.log(response.data)\n          // pdbs = response.data\n          _this.showTree = true\n          _this.prop = response.data\n        })\n      }\n      return 0\n    },\n    getPdbCount: function (aa) {\n      // console.log(store.getters.getVariant)\n      // return 100// store.getters.getPdbCount(aa)\n      if (this.getVariantStructs && Object.hasOwnProperty.call(this.getVariantStructs, this.getVariant) && Object.hasOwnProperty.call(this.getVariantStructs[this.getVariant], aa) && Object.hasOwnProperty.call(this.getVariantStructs[this.getVariant][aa], 'pdbs')) {\n        return this.getVariantStructs[this.getVariant][aa].pdbs.length\n      }\n      return 0\n    },\n    getResInfo: function () {\n      var jAlignment = panel3d.joleculeAlignment\n      var jController = panel3d.embededJolecule.controller\n      var pdbResNum = jAlignment.mapSeqResToPdbResOfChain(0, this.getVariant, this.getStructure.chain)\n      if (pdbResNum) {\n        var iRes = jController.soup.findResidueIndices(0, pdbResNum[1], pdbResNum[2])\n        var structAa = jController.soup.getResidueProxy().load(iRes).resType\n        structAa = structAa.substr(0, 1) + structAa.substr(1).toLowerCase()\n        return this.getGene + ' residue ' + this.getVariant + '<span style=\"font-weight: 400; color: #a6a5a6;\"> (' + this.getStructure.pdb + '-' + this.getStructure.chain + ' residue ' + structAa + '-' + pdbResNum[2] + ')'\n      } else if (document.querySelector('[id^=\"residue_' + this.getVariant)) {\n        return this.getGene + ' residue ' + this.getVariant + '<span style=\"font-weight: 400; color: #a6a5a6;\">'\n      } else {\n        return this.getGene + ' residue ' + this.getVariant + '<span style=\"font-weight: 400; color: #a6a5a6;\"> ( Dark region )'\n      }\n    },\n    displayHelp () {\n      // var _this = this\n      const theHelpBtn = document.getElementById('helpAllVar')\n      if (theHelpBtn.classList.contains('helpAllVar_active')) {\n        theHelpBtn.classList.add('helpAllVar')\n        theHelpBtn.classList.remove('helpAllVar_active')\n        document.getElementById('theHelpContent').style.visibility = 'hidden'\n        document.getElementById('theHelpContent').style.height = '0px'\n      } else {\n        theHelpBtn.classList.add('helpAllVar_active')\n        theHelpBtn.classList.remove('helpAllVar')\n        document.getElementById('theHelpContent').style.visibility = 'visible'\n        document.getElementById('theHelpContent').style.height = 'auto'\n      }\n    }\n  },\n  updated () {\n    // Set popup position after popup body updated\n    if (this.PopupPos && this.PopupPos !== null) {\n      this.setPopupPos(this.PopupPos)\n    }\n  }\n}\n</script>\n\n<style>\n.hasStruct:hover {\n    background:orange;\n    color: white;\n    border-radius: 6px;\n    padding: 0px 3px;\n}\n.hasStruct {\n    color: white;\n    background: #acacac;\n    border-radius: 6px;\n    padding: 0px 3px;\n}\n#body a {\n  color: var(--dark-text) !important\n}\n</style>\n\n<style scoped>\n\nspan.helpAllVar {\n    background: url('../../assets/images/UI-help.png') no-repeat;\n    display: block;\n    float: right;\n    height: 22px;\n    width: 22px;\n    margin-left: 6px;\n}\n\nspan.helpAllVar_active {\n    background: url('../../assets/images/UI-help.png') no-repeat;\n    display: block;\n    float: right;\n    height: 22px;\n    width: 22px;\n    background-position: 0 -21px;\n    margin-left: 6px;\n}\n\nspan.helpAllVar:hover {\n    background-position: 0 -21px;\n    cursor: pointer;\n}\n\n.variantPopup {\n  padding: 0px 5px 12px 5px;\n  border-radius: 16px;\n}\n#shell.fade {\n    display: none;\n    height: 0;\n    opacity: 0;\n    overflow: hidden;\n    transition: height 350ms ease-in-out, opacity 750ms ease-in-out;\n}\n#shell {\n    position: fixed;\n    transition: opacity 1s;\n    display: block;\n    font-size: 12px;\n    /* bottom: 0px; */\n}\n.pAaColor {\n    display: inline;\n    color: var(--primary-label) !important;\n    cursor: move;\n}\n#body{\n    position: absolute;\n    height: fit-content;\n    bottom: 0px;\n    width: max-content;\n}\n@media screen and (max-width: 389px) {\n  #body {\n    max-width: 23rem;\n    margin-left: 12px;\n    }\n}\n@media screen and (min-width: 390px) and (max-width: 550px) {\n  #body {\n    max-width: 24rem;\n    margin-left: 0px;\n  }\n}\n@media screen and (min-width: 500px) and (max-width: 1000px) {\n  #body {\n    max-width: 26rem;\n    margin-left: 0px;\n  }\n}\n@media screen and (min-width: 1000px) {\n  #body {\n    max-width: 28rem;\n    margin-bottom: -2px;\n  }\n}\n#header {\n    cursor: move;\n    font-size: 14px;\n    color: var(--primary-label) !important;\n    background: #acacacd4;\n    padding: 6px;\n    border-top-left-radius: 16px;\n    border-top-right-radius: 16px;\n}\n\n#header2 {\n    cursor: move;\n    font-size: 14px;\n    color: var(--primary-label) !important;\n    background: #acacacd4;\n    padding: 6px;\n    border-top-left-radius: 16px;\n    border-top-right-radius: 16px;\n}\n\nspan.loadedPin {\n    background: url('../../assets/images/UI-pin.png') no-repeat;\n    display: block;\n    float: left;\n    height: 22px;\n    width: 22px;\n    cursor: pointer;\n}\n\nspan.loadedPin_active {\n  background: url('../../assets/images/UI-pin.png') no-repeat;\n  display: block;\n  float: left;\n  height: 22px;\n  width: 22px;\n  background-position: 0 -21px;\n  cursor: pointer;\n  /* cursor: pointer; */\n}\n\nspan.x {\n    background: url('../../assets/images/UI-close.png') no-repeat;\n    display: block;\n    float: right;\n    height: 22px;\n    width: 22px;\n    margin-left: 6px;\n}\n\nspan.x:hover {\n    background-position: 0 -21px;\n    cursor: pointer;\n}\n\n#content {\n    overflow-wrap: break-word;\n}\n#tail {\n    position: fixed;\n    fill: #acacacd4;\n}\n#content a{\n    color: var(--background);\n}\n</style>\n\n<style scoped>\n#minimal #body {\n  background-color: var(--popup-body);\n  box-shadow: 0px 0px 2px rgb(0 0 0 / 20%);\n}\n#minimal svg {\n  z-index: 5;\n  margin-top: 2px;\n}\n#minimal polygon {\n  fill: var(--popup-body);\n  filter: drop-shadow(0px 0px 2px rgb(0 0 0 / 20%));\n}\n</style>\n\n<style scoped>\n#variant polygon allVariants {\n  fill: #acacacd4;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupGeneric.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupGeneric.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PopupGeneric.vue?vue&type=template&id=7db480dd&scoped=true\"\nimport script from \"./PopupGeneric.vue?vue&type=script&lang=js\"\nexport * from \"./PopupGeneric.vue?vue&type=script&lang=js\"\nimport style0 from \"./PopupGeneric.vue?vue&type=style&index=0&id=7db480dd&prod&lang=css\"\nimport style1 from \"./PopupGeneric.vue?vue&type=style&index=1&id=7db480dd&prod&scoped=true&lang=css\"\nimport style2 from \"./PopupGeneric.vue?vue&type=style&index=2&id=7db480dd&prod&scoped=true&lang=css\"\nimport style3 from \"./PopupGeneric.vue?vue&type=style&index=3&id=7db480dd&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7db480dd\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <PopupGeneric :key=\"'variant'\" id='variant' :style=\"{display: PopupPos ? 'block' : 'none'}\" :header=\"title\" :PopupPos=\"PopupPos\" :parentRef=\"ref\">\n      <div class='aaLightBg' v-if=\"PopupPos\">\n          <p id='spanDefaultDesc' v-if=\"defaultDesc\"> {{defaultDesc}} </p>\n          <div v-for='aaCode in oneAaCodes' v-bind:key='aaCode' :id=\"'divVarInfo_' + aaCode\" :style=\"{display: (aaCode === variant) ? 'block' : 'none'}\">\n              <expandable-text-line use-click v-html=\"dataStr + '.'\" v-for='dataStr in getAaDataAsArr(aaCode)' v-bind:key='dataStr'>\n              </expandable-text-line>\n              <i>Structures with {{getOldAa()}}{{getVarDisplay()}}{{aaCode}}:</i> <span :class='getIsShownVar(variant)' @click=\"showTreeView($event, aaCode)\">{{getPdbCount(aaCode)}}</span>\n          </div>\n          <hr id='anAaHr' class='anAaHr' :hidden='isHrHidden()'>\n          <div id='divPosInfo'>\n              <span class=\"weight700\" v-html='getResInfo()'></span><br>\n              <!-- <span class=\"weight600\" v-html='getResInfo'> Residue {{ getVariant }} </span><br> -->\n              <span v-for='(arrObj, keyStr) in getPosInfoDataAsArr()' v-bind:key='keyStr'>\n                  <expandable-text-line use-click>\n                      <span v-html='keyStr'></span>:\n                      <span v-for='dataStr in arrObj' v-bind:key=\"dataStr\" v-html=\"dataStr  + '. '\">\n                      </span>\n                  </expandable-text-line>\n              </span>\n              <i>Structures with residue {{ getVariant }}: </i>\n              <span :class='getIsShownRes()' @click=\"showTreeView($event)\">{{getTotalPdbCount}}</span>\n          </div>\n      </div>\n      <div class=\"btnsDiv\" v-if=\"PopupPos\">\n        <span>See also:</span> <span class='pAaColor'> {{getOldAa()}} &rarr; </span>\n        <button v-for='aaCode in oneAaCodes' v-bind:key='aaCode' :id=\"'btnVarInfo_' + aaCode\" :class=\"getIfBoldInfoPres(aaCode)\" @click=\"highlightAa(aaCode)\">{{aaCode}}</button>\n      </div>\n    </PopupGeneric>\n</template>\n\n<script>\nimport ExpandableTextLine from 'vue-expandable-text-line'\nimport PopupGeneric from './PopupGeneric.vue'\nimport store from '../../store/index'\nimport { mapGetters } from 'vuex'\n\nexport default {\n  name: 'PopUpVariant',\n  components: {\n    PopupGeneric,\n    ExpandableTextLine\n  },\n  data () {\n    return {\n      oneAaCodes: ['A', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'K', 'L', 'M', 'N', 'P', 'Q', 'R', 'S', 'T', 'V', 'W', 'Y'],\n      threeAaCodes: ['Ala', 'Cys', 'Asp', 'Glu', 'Phe', 'Gly', 'His', 'Ile', 'Lys', 'Leu', 'Met', 'Asn', 'Pro', 'Gln', 'Arg', 'Ser', 'Thr', 'Val', 'Trp', 'Tyr'],\n      variant: null,\n      defaultDesc: null,\n      count: 0,\n      PopupPos: null,\n      hasVariant: false,\n      hasResidue: false,\n      ref: 'variant',\n      pinned: false,\n      timer: null,\n      title: null\n    }\n  },\n  computed: {\n    variantCoordinates () {\n      return store.state.variantCoordinates\n    },\n    popupCoordinates () {\n      return store.state.popupCoordinates\n    },\n    popupTitle () {\n      return store.state.popupTitle\n    },\n    loader () {\n      return store.state.Loader\n    },\n    ...mapGetters([\n      'getTotalPDBres',\n      'getVariant',\n      'getVariantStructs',\n      'getVariantResidues',\n      'getVariantIdx',\n      'getMatches',\n      'getPopupTitle',\n      'getStructure',\n      'getIsDefaultFeature',\n      'getCurrentSequence',\n      'getInitialSequence'\n    ]),\n    getTotalPdbCount () {\n      let totalNumStructs = 0\n      for (let i = 0; i < this.oneAaCodes.length; i++) {\n        if (this.getVariantStructs && this.getVariant && Object.hasOwnProperty.call(this.getVariantStructs, this.getVariant) && Object.hasOwnProperty.call(this.getVariantStructs[this.getVariant], this.oneAaCodes[i]) && Object.hasOwnProperty.call(this.getVariantStructs[this.getVariant][this.oneAaCodes[i]], 'pdbs')) {\n          totalNumStructs = totalNumStructs + this.getVariantStructs[this.getVariant][this.oneAaCodes[i]].pdbs.length\n        }\n      }\n      return totalNumStructs\n    }\n  },\n  watch: {\n    pinned: function (val) {\n      if (val) {\n        this.stoptimeout()\n      } else {\n        this.starttimeout()\n      }\n    },\n    variantCoordinates: function (newVal) {\n      var _this = this\n      if (newVal) { // Hide popup when no coordinates passed\n        if (typeof (newVal) !== 'object') {\n          _this.PopupPos = null\n        } else {\n          store.commit('setPopupCoordinates', null)\n          _this.PopupPos = newVal // Store residue coordinates to update popup position when popup body updated\n          _this.$children[0].float = false\n          _this.handleVariantPopup()\n          _this.handlePin()\n          if (!_this.loader) {\n            _this.stoptimeout()\n          }\n        }\n      } else {\n        _this.starttimeout()\n      }\n    },\n    popupCoordinates: function (newVal) {\n      if (newVal && !this.pinned) {\n        this.PopupPos = null\n      }\n    },\n    popupTitle: function (value) {\n      if (value) {\n        this.title = value\n      } else if (!value && !this.pinned) {\n        this.title = value\n        this.resetToInitVar()\n      }\n    }\n  },\n  methods: {\n    handlePin: function () {\n      const thePin = document.getElementById('loadedPin')\n      if (thePin && thePin.classList.contains('loadedPin_active')) {\n        thePin.classList.remove('loadedPin_active')\n        thePin.classList.add('loadedPin')\n        this.pinned = false\n      }\n    },\n    starttimeout: function () {\n      // this.$children[0].starttimeout()\n      this.$children[0].timeout(true)\n    },\n    stoptimeout: function () {\n      // this.$children[0].stoptimeout(this.starttimeout())\n      this.$children[0].timeout(false)\n    },\n    showTreeView: function (event, aaCode) {\n      this.$children[0].showTreeView(event, aaCode)\n    },\n    handleVariantPopup: function () {\n      // Enable amino acid buttons; Show default variant text\n      this.variant = this.getVariantResidues[this.getVariant].newAas[this.getVariantIdx][0].toUpperCase()\n      this.defaultDesc = this.getDefaultDesc()\n      this.handleInitAa()\n    },\n    getOldAa: function () {\n      console.log('this.getVariantResidues ... ')\n      console.log(this.getVariantResidues)\n      console.log('This is the saved variant ' + this.getVariant)\n      console.log(this.getCurrentSequence)\n      if (Object.hasOwnProperty.call(this.getVariantResidues, this.getVariant)) {\n        if (this.getVariantResidues[this.getVariant].oldAa !== '') {\n          return this.getVariantResidues[this.getVariant].oldAa\n        } else {\n          return this.getInitialSequence.sequence[this.getVariant - 1]\n        }\n      }\n    },\n    highlightAa (aa) { // Highlight selected amino acid in buttons panel\n      this.variant = aa.toUpperCase()\n      const aaBtn = document.querySelector('#btnVarInfo_' + this.variant)\n      const speRep = document.getElementById('varSpe_toRep')\n      const newAa = document.querySelector('#newAa')\n      const consInfo = document.getElementById('consInfo')\n      if (document.querySelector('.selCol')) { document.querySelector('.selCol').classList.remove('selCol') }\n      if (aaBtn) { aaBtn.classList += ' selCol' }\n      if (speRep) {\n        speRep.innerText = this.getNewAa(aa)\n      }\n      if (newAa) {\n        newAa.innerText = this.getNewAa_opp(aa) // this.threeAaCodes[idx]\n      }\n      if (consInfo) {\n        if (this.getOldAa() === aa) {\n          consInfo.innerText = 'Synonymous'\n        } else if (this.getVariantResidues && (this.getVariantIdx > -1 || this.pinned) && Object.hasOwnProperty.call(this.getVariantResidues, this.getVariantIdx)) {\n          consInfo.innerText = this.getVariantResidues[this.getVariantIdx].consequent\n        }\n      }\n      if (this.isHrHidden() === true && document.getElementById('anAaHr')) {\n        document.getElementById('anAaHr').hidden = false\n      }\n      // console.log('Running initially? ' + ' ' + aa + ' ' + speRep)\n    },\n    getNewAa_opp: function (aa) {\n      if (this.getVariantResidues && (Object.hasOwnProperty.call(this.getVariantResidues, this.getVariant) && Object.hasOwnProperty.call(this.getVariantResidues[this.getVariant], 'isOne') && (this.getVariantIdx > -1 || this.pinned) && this.getVariantResidues[this.getVariant].isOne[this.getVariantIdx] === true)) {\n        // specify as 3 letters.\n        const idx = this.oneAaCodes.indexOf(aa)\n        if (idx !== -1) {\n          return this.threeAaCodes[idx]\n        } else {\n          return ''\n        }\n      } else {\n        return aa\n      }\n    },\n    getNewAa: function (aa) {\n      if (this.getVariantResidues && (Object.hasOwnProperty.call(this.getVariantResidues, this.getVariant) && Object.hasOwnProperty.call(this.getVariantResidues[this.getVariant], 'isOne') && (this.getVariantIdx > -1 || this.pinned) && this.getVariantResidues[this.getVariant].isOne[this.getVariantIdx] === true)) {\n        // specify as 3 letters.\n        return aa\n      } else {\n        const idx = this.oneAaCodes.indexOf(aa)\n        if (idx !== -1) {\n          return this.threeAaCodes[idx]\n        } else {\n          return ''\n        }\n      }\n    },\n    getIfBoldInfoPres: function (aa) {\n      let isMakeBold = false\n      if (Object.hasOwnProperty.call(this.getVariantResidues, this.getVariant) && Object.hasOwnProperty.call(this.getVariantResidues[this.getVariant], aa)) {\n        for (let i = 0; i < this.getVariantResidues[this.getVariant][aa].length; i++) {\n          if (/* this.getVariantResidues[this.getVariant][aa][i].match('UniProt') || this.getVariantResidues[this.getVariant][aa][i].match('FunVar') || this.getVariantResidues[this.getVariant][aa][i].match('COSMIC') || */ (this.getVariantStructs && Object.hasOwnProperty.call(this.getVariantStructs, this.getVariant) && Object.hasOwnProperty.call(this.getVariantStructs[this.getVariant], aa) && Object.hasOwnProperty.call(this.getVariantStructs[this.getVariant][aa], 'pdbs') && this.getVariantStructs[this.getVariant][aa].pdbs.length > 0)) {\n            isMakeBold = true\n          }\n        }\n      }\n      if (this.getVariantResidues && this.getVariant > 0 && (this.getVariantIdx > -1 || this.pinned || this.title)) {\n        if (isMakeBold === true) {\n          if (aa.toUpperCase().includes(this.getVariantResidues[this.getVariant].newAas[this.getVariantIdx][0].toUpperCase())) {\n            return 'btnAaBold_b selCol'\n          } else {\n            return 'btnAaBold_b'\n          }\n        } else {\n          if (aa.toUpperCase().includes(this.getVariantResidues[this.getVariant].newAas[this.getVariantIdx][0].toUpperCase())) {\n            return 'btnAaBold selCol'\n          } else {\n            return 'btnAaBold'\n          }\n        }\n      }\n    },\n    getAaDataAsArr: function (aa) {\n      var arrForExpandable = []\n      if (Object.hasOwnProperty.call(this.getVariantResidues, this.getVariant) && Object.hasOwnProperty.call(this.getVariantResidues[this.getVariant], aa)) {\n        for (let i = 0; i < this.getVariantResidues[this.getVariant][aa].length; i++) {\n        }\n        return this.getVariantResidues[this.getVariant][aa]\n      } else {\n        return arrForExpandable\n      }\n    },\n    resetToInitVar: function () {\n      // console.log('Reset to init variant')\n\n      // 2. Update consequenct str\n      if (document.getElementById('consInfo') && Object.hasOwnProperty.call(this.getVariantResidues, this.getVariant) && Object.hasOwnProperty.call(this.getVariantResidues[this.getVariant], 'consequent') && (this.getVariantIdx > -1 || this.pinned)) {\n        document.getElementById('consInfo').innerHTML = this.getVariantResidues[this.getVariant].consequent[this.getVariantIdx]\n        console.log('Updated consInfo ... ')\n      }\n      // 3. Update div\n      // 4. Update buttons at bottom & span_missense at top.\n      this.handleInitAa()\n      if (document.getElementById('spanDefaultDesc')) {\n        document.getElementById('spanDefaultDesc').hidden = false\n      }\n      if (this.isHrHidden() === true && document.getElementById('anAaHr')) {\n        document.getElementById('anAaHr').hidden = true\n      }\n      // 1. Update userSpecified feature str.\n      if (document.getElementById('urlVariant') && Object.hasOwnProperty.call(this.getVariantResidues, this.getVariant) && Object.hasOwnProperty.call(this.getVariantResidues[this.getVariant], 'theOrigFeatStr') && (this.getVariantIdx > -1 || this.pinned)) {\n        document.getElementById('urlVariant').innerHTML = this.getVariantResidues[this.getVariant].theOrigFeatStr[this.getVariantIdx]\n        console.log('here.....???')\n      }\n    },\n    getVarDisplay: function () {\n      if (typeof this.getVariant === 'string' && this.getVariant.match('-')) {\n        return this.getVariant.split('-')[0]\n      } else {\n        return this.getVariant\n      }\n    },\n    getIsShownVar: function (aa) {\n      if (this.getMatches && Object.hasOwnProperty.call(this.getMatches, 'Selected_PDB') && Object.hasOwnProperty.call(this.getMatches.Selected_PDB, 'pdb_id') && Object.hasOwnProperty.call(this.getMatches.Selected_PDB, 'pdb_chain')) {\n        const key = this.getMatches.Selected_PDB.pdb_id + ':' + this.getMatches.Selected_PDB.pdb_chain\n\n        if (this.getVariant && this.getVariantStructs && Object.hasOwnProperty.call(this.getVariantStructs, this.getVariant) && Object.hasOwnProperty.call(this.getVariantStructs[this.getVariant], aa) && Object.hasOwnProperty.call(this.getVariantStructs[this.getVariant][aa], 'pdbs') && this.getVariantStructs[this.getVariant][aa].pdbs.includes(key)) {\n          return 'selCol_padded'\n        } else if (this.getVariant && this.getVariantStructs && Object.hasOwnProperty.call(this.getVariantStructs, this.getVariant) && Object.hasOwnProperty.call(this.getVariantStructs[this.getVariant], aa) && Object.hasOwnProperty.call(this.getVariantStructs[this.getVariant][aa], 'pdbs') && !this.getVariantStructs[this.getVariant][aa].pdbs.includes(key)) {\n          return 'noSelCol_padded'\n        } else {\n          return ''\n        }\n      }\n    },\n    getIsShownRes: function () {\n      const arr1 = location.href.split('?')\n      const arr2 = arr1[0].split('/')\n\n      // console.log('This is ... ' + arr2[arr2.length - 2] + ':' + arr2[arr2.length - 1] + ' ' + this.variant + ' ' + this.getVariant)\n\n      const thePdb = arr2[arr2.length - 2] + ':' + arr2[arr2.length - 1]\n\n      if (this.getVariantStructs && Object.hasOwnProperty.call(this.getVariantStructs, this.getVariant)) {\n        const keys = Object.keys(this.getVariantStructs[this.getVariant])\n\n        let isFound = false\n        for (let i = 0; i < keys.length; i++) {\n          if (Object.prototype.hasOwnProperty.call(this.getVariantStructs[this.getVariant][keys[i]], 'pdbs') && this.getVariantStructs[this.getVariant][keys[i]].pdbs.includes(thePdb)) {\n            isFound = true\n            return 'selCol_padded'\n          }\n        }\n\n        if (isFound === false) {\n          return 'noSelCol_padded'\n        }\n      }\n      /*\n      if (this.getVariantStructs && Object.hasOwnProperty.call(this.getVariantStructs, this.getVariant) && Object.hasOwnProperty.call(this.getVariantStructs[this.getVariant], 'isShown') && this.getVariantStructs[this.getVariant].isShown === true) {\n        return 'selCol_padded'\n      } else if ((this.getVariantStructs && this.getVariant > -1 && Object.hasOwnProperty.call(this.getVariantStructs, this.getVariant) && Object.hasOwnProperty.call(this.getVariantStructs[this.getVariant], 'isShown') && this.getVariantStructs[this.getVariant].isShown === false) || this.getTotalPdbCount !== 0) {\n        return 'noSelCol_padded'\n      } else {\n        return ''\n      }\n      */\n    },\n    getPdbCount: function (aa) {\n      // console.log(store.getters.getVariant)\n      // return 100// store.getters.getPdbCount(aa)\n      if (this.getVariantStructs && Object.hasOwnProperty.call(this.getVariantStructs, this.getVariant) && Object.hasOwnProperty.call(this.getVariantStructs[this.getVariant], aa) && Object.hasOwnProperty.call(this.getVariantStructs[this.getVariant][aa], 'pdbs')) {\n        return this.getVariantStructs[this.getVariant][aa].pdbs.length\n      }\n      return 0\n    },\n    isHrHidden: function () {\n      const defaultDesc = this.getDefaultDesc()\n      // const divPopupTextVar = document.getElementById('popupText_variant')\n      let isAnAa = false\n      if (Object.hasOwnProperty.call(this.getVariantResidues, this.getVariant) && Object.hasOwnProperty.call(this.getVariantResidues[this.getVariant], 'newAas') && (this.getVariantIdx > -1 || this.pinned) && this.oneAaCodes.includes(this.getVariantResidues[this.getVariant].newAas[this.getVariantIdx][0].toUpperCase())) {\n        isAnAa = true\n      }\n\n      if (defaultDesc === '' && isAnAa === false) {\n        // console.log('Num children count is: ') // + // divPopupTextVar.children.length)\n        return true\n      } else {\n        return false\n      }\n    },\n    getDefaultDesc: function () {\n      // console.log('Restaurant ' + this.getVariantIdx + ' ' + this.getVariantResidues[this.getVariant].defaultDesc[this.getVariantIdx])\n\n      if (this.getVariant && this.getVariantResidues && Object.hasOwnProperty.call(this.getVariantResidues, this.getVariant) && Object.hasOwnProperty.call(this.getVariantResidues[this.getVariant], 'defaultDesc') && (this.getVariantIdx > -1 || this.pinned || this.title)) {\n        return this.getVariantResidues[this.getVariant].defaultDesc[this.getVariantIdx]\n      } else {\n        return ''\n      }\n    },\n    getPosInfoDataAsArr: function () {\n      if (Object.hasOwnProperty.call(this.getVariantResidues, this.getVariant) && Object.hasOwnProperty.call(this.getVariantResidues[this.getVariant], 'positionInfo')) {\n        return this.getVariantResidues[this.getVariant].positionInfo\n      }\n      return []\n    },\n    handleInitAa: function () {\n      var _this = this\n      console.log('handleInitAa runs ')//  + this.getVariantResidues[this.getVariant].newAas[this.getVariantIdx])\n      console.log(this.getVariantIdx)\n      console.log(this.getVariant)\n      console.log(this.getVariantResidues)\n      // console.log('handleInitAa runs (2) ' + this.getVariantResidues[this.getVariant].newAas + ' ' + this.getVariantIdx)\n      if (Object.hasOwnProperty.call(this.getVariantResidues, this.getVariant) && Object.hasOwnProperty.call(this.getVariantResidues[this.getVariant], 'newAas') && (this.getVariantIdx > -1 || this.pinned) && this.oneAaCodes.includes(this.getVariantResidues[this.getVariant].newAas[this.getVariantIdx][0].toUpperCase())) {\n        _this.highlightAa(this.getVariantResidues[this.getVariant].newAas[this.getVariantIdx][0].toUpperCase())\n        // const aaBtn = document.getElementById('btnVarInfo_' + this.getVariantResidues[this.getVariant].newAas[this.getVariantIdx][0].toUpperCase())\n        // aaBtn.click()\n      } else { // Hide all the divs\n        const oldAa = this.getOldAa()\n        for (let i = 0; i < this.oneAaCodes.length; i++) {\n          const theDiv = document.getElementById('divVarInfo_' + this.oneAaCodes[i])\n          if (typeof (theDiv) !== 'undefined' && theDiv !== null) {\n            document.getElementById('divVarInfo_' + this.oneAaCodes[i]).hidden = true\n            document.getElementById('btnVarInfo_' + this.oneAaCodes[i]).classList.remove('selCol')\n          }\n          // Hide oldAa btn\n          if (oldAa === this.oneAaCodes[i]) {\n            // document.getElementById('btnVarInfo_' + this.oneAaCodes[i]).hidden = true\n          }\n        }\n        _this.updateSpanAa('')\n      }\n    },\n    updateSpanAa: function (valToDisp) {\n      console.log('Value to display is ' + valToDisp + this.getVariantIdx)\n      if (document.getElementById('span_missenseHeading')) {\n        /*\n        let a = document.getElementById('span_missenseHeading').innerHTML\n        a = a.replace(/[A-Z]*\\)$/, valToDisp + ')')\n        document.getElementById('span_missenseHeading').innerHTML = a\n        */\n\n        if (this.getVariantResidues && (Object.hasOwnProperty.call(this.getVariantResidues, this.getVariant) && Object.hasOwnProperty.call(this.getVariantResidues[this.getVariant], 'isOne') && (this.getVariantIdx > -1 || this.pinned) && this.getVariantResidues[this.getVariant].isOne[this.getVariantIdx] === true)) {\n          // specify as 3 letters.\n          const idx = this.oneAaCodes.indexOf(valToDisp)\n          if (idx !== -1) {\n            document.getElementById('newAa').innerHTML = this.threeAaCodes[idx]\n          } else {\n            document.getElementById('newAa').innerHTML = ''\n          }\n        } else {\n          document.getElementById('newAa').innerHTML = valToDisp\n        }\n        // console.log('the heading is updating here ' + valToDisp)\n      }\n    },\n\n    getResInfo: function () {\n      return this.$children[0].getResInfo()\n    }\n  }\n}\n</script>\n\n<style>\n.topTail {\n  transform: rotate(180deg);\n}\n.aaLightBg {\n    padding: 7px;\n    cursor: pointer;\n    color: #666666;\n    background-color: var(--popup-body);\n}\n.btnsDiv {\n    display: block;\n    cursor: move;\n    font-size: 14px;\n    color: var(--primary-label) !important;\n    background: #acacacd4;\n    padding: 6px;\n    border-bottom-left-radius: 16px;\n    border-bottom-right-radius: 16px;\n}\n\n.btnsDiv > span:nth-of-type(1) {\n    font-weight: 600 !important;\n    font-size: 15px !important;\n    color: var(--dark-text) !important;\n}\n.pAaColor {\n    display: inline;\n    color: var(--dark-text) !important;\n    cursor: move; /* fallback if grab cursor is unsupported */\n}\n.btnAaBold {\n    border: none;\n    /* background-color: inherit; */\n    cursor: pointer;\n    color: var(--dark-text) !important;\n    padding: 0px 4px;\n    display: inline;\n    font-weight: 200;\n}\n.btnAaBold_b {\n    border: none;\n    /* background-color: inherit; */\n    cursor: pointer;\n    color: var(--dark-text) !important;\n    padding: 0px 4px;\n    display: inline;\n    font-weight: 800;\n}\nbutton {\n  background: #b2b2b221;\n}\n.btnAaBold:hover {\n    background-color: var(--primary-link);\n}\n\n.btnAaBold_b:hover {\n    background-color: var(--primary-link);\n    font-weight: bold;\n}\n.selCol {\n    color: var(--text) !important;\n    background-color: var(--primary-highlight);\n    border-radius: 25%;\n}\n.selCol_padded {\n  background-color: orange;\n}\n.noSelCol_padded {\n  background-color: #999;\n}\n.noSelCol_padded, .selCol_padded {\n  color: var(--text) !important;\n  border-radius: 25%;\n  padding-right: 4px;\n  margin-left: 4px;\n  padding-left: 4px;\n}\n\n.selCol_padded:hover {\n    background-color: var(--primary-link);\n}\n\n.noSelCol_padded:hover {\n    background-color: var(--primary-link);\n}\n.weight700{\n  font-weight: 700!important;\n  font-size: 12px!important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopUpVariant.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopUpVariant.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PopUpVariant.vue?vue&type=template&id=a591ac52\"\nimport script from \"./PopUpVariant.vue?vue&type=script&lang=js\"\nexport * from \"./PopUpVariant.vue?vue&type=script&lang=js\"\nimport style0 from \"./PopUpVariant.vue?vue&type=style&index=0&id=a591ac52&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('PopupGeneric',{key:'minimal',style:({display: (_vm.PopupPos && _vm.getPopupType) ? 'block' : 'none'}),attrs:{\"id\":\"minimal\",\"PopupPos\":_vm.PopupPos,\"parentRef\":_vm.ref}},[(_vm.PopupPos && _vm.getPopupType === 'minimal')?_c('div',{staticClass:\"minimal\"},[(_vm.getPopupTitle != '')?_c('b',{domProps:{\"innerHTML\":_vm._s(_vm.getPopupTitle)}}):_vm._e(),(_vm.getPopupTitle)?_c('br'):_vm._e(),_c('i',{domProps:{\"innerHTML\":_vm._s(_vm.getPopupText)}}),_c('span',{class:_vm.getTotalPDBres > 0 ? 'hasStruct' : 'noStruct',on:{\"click\":function($event){_vm.getTotalPDBres > 0 ? _vm.showTreeView($event) : ''}}},[_vm._v(\" \"+_vm._s(_vm.getTotalPDBres)+\" \")])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <PopupGeneric :key=\"'minimal'\" id='minimal' :PopupPos=\"PopupPos\" :parentRef=\"ref\" :style=\"{display: (PopupPos && getPopupType) ? 'block' : 'none'}\">\n        <div class='minimal' v-if=\"PopupPos && getPopupType === 'minimal'\">\n          <b v-if=\"getPopupTitle != ''\" v-html=\"getPopupTitle\"></b>\n          <br v-if=\"getPopupTitle\">\n          <i v-html=\"getPopupText\"></i>\n          <span :class=\"getTotalPDBres > 0 ? 'hasStruct' : 'noStruct'\" @click=\"getTotalPDBres > 0 ? showTreeView($event) : ''\"> {{ getTotalPDBres }} </span>\n        </div>\n    </PopupGeneric>\n</template>\n\n<script>\nimport PopupGeneric from './PopupGeneric.vue'\nimport { mapGetters } from 'vuex'\nimport store from '../../store/index'\n\nexport default {\n  name: 'PopupMinimal',\n  components: {\n    PopupGeneric\n  },\n  data () {\n    return {\n      PopupPos: null,\n      ref: 'minimal',\n      timeOutVar: null,\n      timer: null\n    }\n  },\n  computed: {\n    data () {\n      return {\n        variantStructs: store.state.variantStructs,\n        variantResidues: store.state.variantResidues,\n        popupTitle: store.state.popupTitle,\n        popupText: store.state.popupText,\n        residue: store.state.residue\n      }\n    },\n    popupCoordinates () {\n      return store.state.popupCoordinates\n    },\n    variantCoordinates () {\n      return store.state.variantCoordinates\n    },\n    ...mapGetters([\n      'getTotalPDBres',\n      'getVariant',\n      'getVariantStructs',\n      'getPopupText',\n      'getVariantIdx',\n      'getIsDefaultFeature',\n      'getPopupType',\n      'getPopupTitle'\n    ]),\n    getTotalPdbCount () {\n      return this.getTotalPDBres\n    }\n  },\n  watch: {\n    popupCoordinates: function (newVal) {\n      if (newVal) {\n        store.commit('setVariantCoordinates', null)\n        this.PopupPos = newVal\n        this.stoptimeout()\n      } else {\n        this.starttimeout()\n      }\n    },\n    variantCoordinates: function (newVal) {\n      if (newVal) {\n        this.PopupPos = null\n      }\n    }\n  },\n  methods: {\n    starttimeout: function () {\n      this.$children[0].timeout(true)\n    },\n    stoptimeout: function () {\n      this.$children[0].timeout(false)\n    },\n    getResInfo: function () {\n      return this.$children[0].getResInfo()\n    },\n    showTreeView: function (event) {\n      this.$children[0].showTreeView(event, null)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.minimal {\n    padding: 5px;\n    cursor: pointer;\n    color: var(--primary-label);\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupMinimal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupMinimal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PopupMinimal.vue?vue&type=template&id=b8b70cfc&scoped=true\"\nimport script from \"./PopupMinimal.vue?vue&type=script&lang=js\"\nexport * from \"./PopupMinimal.vue?vue&type=script&lang=js\"\nimport style0 from \"./PopupMinimal.vue?vue&type=style&index=0&id=b8b70cfc&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b8b70cfc\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('PopupGeneric',{key:'allVariants',style:({display: _vm.PopupPos ? 'block' : 'none'}),attrs:{\"id\":\"allVariants\",\"PopupPos\":_vm.PopupPos,\"parentRef\":_vm.ref,\"header2\":_vm.popupTitle}},[_c('div',{attrs:{\"id\":\"content2\"}},[_vm._l((_vm.sortedKeys),function(aKey,index){return _c('div',{key:aKey},[(_vm.dataToPrint[aKey] && _vm.dataToPrint[aKey].isShown)?_c('p',{staticClass:\"aLine\"},[_vm._v(\" Structures with \"),(index > 0 && (_vm.getIntersectingStructs && _vm.getIntersectingStructs[index-1] && _vm.getIntersectingStructs[index-1].length > 0))?_c('span',[_vm._v(\" above and \")]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.dataToPrint[aKey].oldAa)+_vm._s(aKey)+_vm._s(_vm.dataToPrint[aKey].newAa)+\": \"),(_vm.getIntersectingStructs && _vm.getIntersectingStructs[index] && _vm.getIntersectingStructs[index].length)?_c('span',{class:_vm.dataToPrint[aKey].theClass,on:{\"click\":function($event){return _vm.showTreeView($event, _vm.getIntersectingStructs[index], _vm.sortedKeys, _vm.getIntersectingStructs[index].length)}}},[_vm._v(\" \"+_vm._s(_vm.getIntersectingStructs[index].length)+\" \")]):_c('span',{staticClass:\"theRight\"},[_vm._v(\" 0 \")])]):_vm._e()])}),_c('div',[_vm._v(\" \"+_vm._s(_vm.noMissenseVars)+\" \")]),_c('div',{staticStyle:{\"visibility\":\"hidden\",\"height\":\"0px\"},attrs:{\"id\":\"theHelpContent\"}},[_c('hr',{staticClass:\"anAaHr\",attrs:{\"id\":\"anAaHr2\"}}),_c('p',{staticClass:\"aLine\"},[_vm._v(\" Shows how many matching structures have the missense variants specified in the URL. \")]),_c('p',{staticClass:\"aLine\"},[_vm._v(\" The selected structure is based on the order in which variants are specified. \")])])],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <PopupGeneric :key=\"'allVariants'\" id='allVariants' :PopupPos=\"PopupPos\" :parentRef=\"ref\" :header2=\"popupTitle\" :style=\"{display: PopupPos ? 'block' : 'none'}\">\n        <!-- div class='minimal' v-if=\"PopupPos && getPopupType === 'minimal'\" -->\n          <!-- i v-html=\"getPopupText\"></i>\n          <span :class=\"getTotalPdbCount > 0 ? 'hasStruct' : 'noStruct'\" @click=\"getTotalPdbCount > 0 ? showTreeView($event, null, getPopupText.replace(/\\D/g, '')) : ''\"> {{ getTotalPdbCount }} </span-->\n          <div id=\"content2\">\n            <div v-for='(aKey, index) in sortedKeys' v-bind:key='aKey'>\n              <p class='aLine' v-if=\"dataToPrint[aKey] && dataToPrint[aKey].isShown\">\n                Structures with\n                <span v-if=\"index > 0 && (getIntersectingStructs && getIntersectingStructs[index-1] && getIntersectingStructs[index-1].length > 0)\">\n                  above and\n                </span>\n                {{dataToPrint[aKey].oldAa}}{{aKey}}{{dataToPrint[aKey].newAa}}:\n                <!-- span v-if=\"dataToPrint[aKey].isCurrPdbInVar\" class=\"theRight_orange\"  @click=\"showTreeView($event,dataToPrint[aKey].newAa,aKey)\">\n                  {{dataToPrint[aKey].totalStructs}}\n                </span>\n                <span v-if=\"!dataToPrint[aKey].isCurrPdbInVar\" class=\"theRight\">\n                  {{dataToPrint[aKey].totalStructs}}\n                </span -->\n\n                <span v-if=\"getIntersectingStructs && getIntersectingStructs[index] && getIntersectingStructs[index].length\" :class=\"dataToPrint[aKey].theClass\" @click=\"showTreeView($event, getIntersectingStructs[index], sortedKeys, getIntersectingStructs[index].length)\">\n                  {{getIntersectingStructs[index].length}}\n                </span>\n                <span v-else class=\"theRight\">\n                  0\n                </span>\n              </p>\n            </div>\n            <div>\n              {{ noMissenseVars }}\n            </div>\n            <div id='theHelpContent' style=\"visibility:hidden;height:0px;\">\n              <hr id='anAaHr2' class='anAaHr'>\n              <p class=\"aLine\"> Shows how many matching structures have the missense variants specified in the URL. </p>\n              <p class=\"aLine\"> The selected structure is based on the order in which variants are specified. </p>\n            </div>\n          </div>\n        <!-- /div -->\n    </PopupGeneric>\n</template>\n\n<script>\nimport PopupGeneric from './PopupGeneric.vue'\nimport { mapGetters } from 'vuex'\nimport store from '../../store/index'\n\nexport default {\n  name: 'PopupAllVar',\n  components: {\n    PopupGeneric\n  },\n  data () {\n    return {\n      PopupPos: null,\n      ref: 'allVariants',\n      timeOutVar: null,\n      timer: null,\n      sortedKeys: [],\n      oneAaCodes: ['A', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'K', 'L', 'M', 'N', 'P', 'Q', 'R', 'S', 'T', 'V', 'W', 'Y'],\n      popupTitle: 'Structures with missense variants',\n      pinned: false,\n      dataToPrint: {},\n      isComputed: false,\n      noMissenseVars: '',\n      isAnyCountSeen: false\n    }\n  },\n  computed: {\n    data () {\n      return {\n        variantStructs: store.state.variantStructs,\n        variantResidues: store.state.variantResidues,\n        popupTitle: store.state.popupTitle,\n        popupText: store.state.popupText,\n        residue: store.state.residue\n      }\n    },\n    popupCoordinates () {\n      return store.state.popupCoordinates\n    },\n    variantCoordinates () {\n      return store.state.variantCoordinates\n    },\n    allVariantsCoordinates () {\n      return store.state.allVariantsCoordinates\n    },\n    ...mapGetters([\n      'getTotalPDBres',\n      'getVariant',\n      'getVariantStructs',\n      'getPopupText',\n      'getVariantIdx',\n      'getIsDefaultFeature',\n      'getPopupType',\n      'getSortedKeys',\n      'getIntersectingStructs',\n      'getVariantStructs',\n      'getVariantResidues',\n      'getCurrentSequence',\n      'getInitialSequence',\n      'getInitPdb'\n    ]),\n    getTotalPdbCount () {\n      return this.getTotalPDBres\n    }\n  },\n  watch: {\n    allVariantsCoordinates: function (newVal) {\n      if (newVal === 'hide') {\n        this.PopupPos = null\n      } else if (newVal) {\n        // store.commit('allVariantsCoordinates', null)\n        this.PopupPos = newVal\n        this.stoptimeout()\n      } else {\n        this.starttimeout()\n      }\n    },\n    popupCoordinates: function (newVal) {\n      if (newVal) {\n        // store.commit('setVariantCoordinates', null)\n        // this.PopupPos = newVal\n        this.stoptimeout()\n      } else {\n        this.starttimeout()\n      }\n    },\n    variantCoordinates: function (newVal) {\n      if (newVal) {\n        // this.PopupPos = null\n      }\n    },\n    getVariantStructs: function (newVal) {\n      console.log('Calling getVariantStructs')\n      if (this.isComputed === false) {\n        this.getSortedKeys1(newVal)\n        console.log(this.dataToPrint)\n      }\n    },\n    getIntersectingStructs: function (newVal) {\n      console.log('Calling getIntersectingStructs')\n      if (this.isComputed === false) {\n        this.getSortedKeys1(newVal)\n        console.log(this.dataToPrint)\n      }\n    },\n    getSortedKeys: function (newVal) {\n      console.log('Calling getSortedKeys')\n      if (this.isComputed === false) {\n        this.getSortedKeys1(newVal)\n        console.log(this.dataToPrint)\n      }\n    },\n    getVariantResidues: function (newVal) {\n      console.log('Calling getVariantResidues')\n      if (this.isComputed === false) {\n        this.getSortedKeys1(newVal)\n        console.log(this.dataToPrint)\n      }\n    }\n  },\n  methods: {\n    showTreeView: function (event, listOfPdbs, sortedKeys, count) {\n      this.$children[0].showTreeView(event, null, null, listOfPdbs, sortedKeys, count)\n    },\n    starttimeout: function () {\n      this.$children[0].timeout(true)\n    },\n    stoptimeout: function () {\n      this.$children[0].timeout(false)\n    },\n    getResInfo: function () {\n      return this.$children[0].getResInfo()\n    },\n    /* showTreeView: function (event, aaCode) {\n      this.$children[0].showTreeView(event, aaCode)\n    }, */\n    getSortedKeys1: function (newVal) {\n      /* var theKeys = Object.keys(_this.getVariantResidues).sort(function (a, b) {\n        return _this.getVariantResidues[a].order - _this.getVariantResidues[b].order\n      })\n      */\n      var _this = this\n      console.log('Calling getSortedKeys1')\n      if (_this.getSortedKeys && _this.getVariantResidues && _this.getVariantStructs && _this.getIntersectingStructs && _this.isComputed === false) {\n        _this.totalZeros = 0\n        _this.counter_intersectingStructs = 0\n        _this.getSortedKeys.forEach(function (key, keyI) {\n          if (!key.match(/\\-/) && _this.oneAaCodes.includes(String(_this.getVariantResidues[key].newAas[0][0]))) { // eslint-disable-line no-useless-escape\n            if (!_this.sortedKeys.includes(key)) {\n              _this.sortedKeys.push(key)\n              _this.dataToPrint[key] = {}\n              if (Object.hasOwnProperty.call(_this.getVariantResidues, key) && Object.hasOwnProperty.call(_this.getVariantResidues[key], 'newAas')) {\n                _this.dataToPrint[key].newAa = String(_this.getVariantResidues[key].newAas[0][0])\n              }\n              _this.dataToPrint[key].oldAa = _this.getTheOldAa(key)\n              // _this.dataToPrint[key].totalStructs = _this.structCounts(key, String(_this.dataToPrint[key].newAa), _this.counter_intersectingStructs)\n              _this.dataToPrint[key].totalStructs = _this.structCounts2(keyI)\n              _this.dataToPrint[key].theClass = _this.isInCurrStruct(key, String(_this.getVariantResidues[key].newAas[0][0]))\n              _this.counter_intersectingStructs = _this.counter_intersectingStructs + 1\n              _this.dataToPrint[key].isCurrPdbInVar = _this.isCurrPdbIncluded(key, String(_this.dataToPrint[key].newAa))\n\n              if (_this.totalZeros === 1 && _this.isAnyCountSeen === true) {\n                _this.dataToPrint[key].isShown = false\n              } else if (_this.dataToPrint[key].totalStructs > 0) {\n                _this.dataToPrint[key].isShown = true\n                _this.totalZeros = 0\n                _this.isAnyCountSeen = true\n              } else if (_this.dataToPrint[key].totalStructs === 0 && _this.totalZeros === 0) {\n                _this.totalZeros = 1\n                _this.dataToPrint[key].isShown = true\n              } else {\n                _this.dataToPrint[key].isShown = false\n              }\n            }\n          }\n        })\n        _this.isComputed = true\n        console.log('These are the dataToPrint: ')\n        console.log(_this.dataToPrint)\n        this.noMissenseVars = ''\n      } else {\n        console.log('These data are not ok?')\n        this.noMissenseVars = 'No missense variants specified.'\n      }\n    },\n    getTheOldAa: function (theRes) {\n      var _this = this\n      if (Object.hasOwnProperty.call(_this.getVariantResidues, theRes) && Object.hasOwnProperty.call(_this.getVariantResidues[theRes], 'oldAa')) {\n        if (_this.getVariantResidues[theRes].oldAa !== '') {\n          return _this.getVariantResidues[theRes].oldAa\n        } else if (_this.getInitialSequence) {\n          return _this.getInitialSequence[parseInt(theRes) - 1]\n        } else {\n          return '?'\n        }\n      } else {\n        return '?'\n      }\n    },\n    structCounts2: function (idxIntersectingStructs) {\n      if (this.getIntersectingStructs && Object.hasOwnProperty.call(this.getIntersectingStructs, idxIntersectingStructs)) {\n        console.log('Found the key ' + this.getIntersectingStructs[idxIntersectingStructs].length)\n        return this.getIntersectingStructs[idxIntersectingStructs].length\n      } else {\n        return 0\n      }\n    },\n    isInCurrStruct: function (resPos, newAa) {\n      var _this = this\n      if (!_this.getInitPdb || _this.getInitPdb === '') {\n        return 'theRight_orange'\n      } else {\n        // Check if in pdb list\n        let isFound = false\n        if (_this.getVariantStructs && Object.hasOwnProperty.call(_this.getVariantStructs, resPos) && Object.hasOwnProperty.call(_this.getVariantStructs[resPos], newAa) && Object.hasOwnProperty.call(_this.getVariantStructs[resPos][newAa], 'pdbs')) {\n          _this.getVariantStructs[resPos][newAa].pdbs.forEach(function (aPdbAndChain) {\n            if (aPdbAndChain.includes(_this.getInitPdb)) {\n              isFound = true\n            }\n          })\n          if (isFound === true) {\n            return 'theRight_orange'\n          } else {\n            return 'theRight_gray'\n          }\n        } else {\n          // else return default if len > 0\n          return 'theRight_gray'\n        }\n      }\n    },\n    structCounts: function (theRes, theAa, idxIntersectingStructs) {\n      console.log('testing123 ' + theRes + ' ' + theAa)\n      console.log(this.getVariantStructs)\n\n      if (this.getVariantStructs && Object.hasOwnProperty.call(this.getVariantStructs, theRes) && Object.hasOwnProperty.call(this.getVariantStructs[theRes], theAa) && Object.hasOwnProperty.call(this.getVariantStructs[theRes][theAa], 'pdbs') && Object.keys(this.getIntersectingStructs).length > idxIntersectingStructs) {\n        console.log('testing123 ' + theRes + ' ' + theAa + ' ' + this.getVariantStructs[theRes][theAa].pdbs.length)\n        if (this.getIntersectingStructs[idxIntersectingStructs].length <= this.getVariantStructs[theRes][theAa].pdbs.length) {\n          console.log('All good ')\n        }\n        return this.getIntersectingStructs[idxIntersectingStructs].length\n      } else {\n        return 0\n      }\n    },\n    isCurrPdbIncluded: function (key, newAa) {\n      var _this = this\n      if (!_this.getStructure) {\n        return false\n      }\n\n      var currPdbChain = _this.getStructure.pdb + ':' + _this.getStructure.chain\n      if (_this.getVariantStructs && Object.hasOwnProperty.call(_this.getVariantStructs, key) && Object.hasOwnProperty.call(_this.getVariantStructs[key], newAa) && _this.getVariantStructs[key][newAa].pdbs.includes(currPdbChain)) {\n        return true\n      } else {\n        return false\n      }\n    }\n  }\n}\n</script>\n\n<style>\n.allVariants {\n    cursor: pointer;\n    color: var(--primary-label);\n    padding: 5px;\n}\n\n#content2 {\n    cursor: pointer;\n    background-color: var(--popup-body);\n    border-bottom-left-radius: 16px;\n    border-bottom-right-radius: 16px;\n    padding: 5px;\n}\n\n.aLine {\n  margin:2px;\n}\n\n.theRight {\n  float: right;\n  padding-right: 5px;\n}\n\n.theRight_orange {\n  float: right;\n  padding-right: 4px;\n  color: var(--text) !important;\n  background-color: var(--primary-highlight);\n  border-radius: 25%;\n  padding-left: 4px;\n  cursor: pointer;\n}\n\n.theRight_gray {\n  float: right;\n  padding-right: 4px;\n  color: var(--text) !important;\n  background-color: #999;\n  border-radius: 25%;\n  padding-left: 4px;\n  cursor: pointer;\n}\n\n#theHelpContent {\n  overflow: hidden;\n  height: auto;\n}\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupAllVar.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupAllVar.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PopupAllVar.vue?vue&type=template&id=35c10a49\"\nimport script from \"./PopupAllVar.vue?vue&type=script&lang=js\"\nexport * from \"./PopupAllVar.vue?vue&type=script&lang=js\"\nimport style0 from \"./PopupAllVar.vue?vue&type=style&index=0&id=35c10a49&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"main\">\n    <GdprConsentModal />\n    <Header :showHelpIcon='showHelpIcon'/>\n    <Sequence v-if=\"!pdbOnly\" :showSequencePanel=\"showSequenceInfo\"/>\n    <AboutAlignment v-if=\"!pdbOnly\" :showAlignmentPanel=\"showAlignmentInfo\"/>\n    <AboutPdb v-bind:showPDBPanel=\"showStructureInfo\"/>\n    <div>\n      <AboutAquaria :showPanel=\"showAboutAquaria\"/>\n      <UserHelp />\n      <Errors />\n    </div>\n    <div id=\"heightinspector\"></div>\n    <StructureViewer />\n    <Tabs :style=\"{visibility: !pdbOnly ? 'visible' : 'hidden'}\"/>\n    <CoverageMap v-if=\"!pdbOnly\"/>\n    <PopUpVariant />\n    <PopupMinimal />\n    <PopupAllVar />\n    <Scrim :show=\"showScrim\"/>\n    <!-- <PopupAllVarSummary /> -->\n  </div>\n</template>\n\n<script>\nimport store from '../store/index'\nimport '../components/AquariaLayout/helpers/aquaria' // most legacy code bundling is triggered from here (expects global jolecule)\nimport Header from '../components/Header/Header'\nimport Scrim from '../components/AquariaLayout/Scrim.vue'\nimport Sequence from '../components/InfoAbout/Sequence'\nimport AboutAlignment from '../components/InfoAbout/AboutAlignment'\nimport AboutPdb from '../components/InfoAbout/AboutPdb'\nimport StructureViewer from '../components/StructureViewer/StructureViewer'\nimport Tabs from '../components/AquariaLayout/Tabs'\nimport CoverageMap from '../components/MatchingStructures/CoverageMap'\nimport AboutAquaria from '../components/InfoAbout/AboutAquaria'\nimport Errors from '../components/InfoAbout/Errors'\nimport UserHelp from '../components/InfoAbout/UserHelp'\nimport * as LoadAQUARIA from '../utils/loadData'\nimport PopUpVariant from '../components/Popup/PopUpVariant.vue'\nimport PopupMinimal from '../components/Popup/PopupMinimal.vue'\n// import PopupAllVarSummary from '../components/Popup/PopupAllVarSummary.vue'\nimport GdprConsentModal from '../views/GdprConsent.vue'\nimport * as showMatchingStructures from '../components/MatchingStructures/helpers/show_matching_structures'\nimport * as panel3d from '../components/StructureViewer/helpers/joleculeAPI'\nimport * as View from '../components/InfoAbout/helpers/ViewUtils'\nimport PopupAllVar from '../components/Popup/PopupAllVar.vue'\n\nexport default {\n  name: 'Wrapper',\n  components: {\n    GdprConsentModal,\n    Header,\n    Sequence,\n    AboutAlignment,\n    AboutPdb,\n    StructureViewer,\n    Tabs,\n    CoverageMap,\n    PopUpVariant,\n    PopupMinimal,\n    // PopupAllVarSummary,\n    AboutAquaria,\n    Errors,\n    UserHelp,\n    Scrim,\n    PopupAllVar\n  },\n  props: ['urlRequest'],\n  data () {\n    return {\n      pdbOnly: false,\n      showSequenceInfo: false,\n      showAlignmentInfo: false,\n      showStructureInfo: false,\n      showHelpIcon: true,\n      showAboutAquaria: false\n    }\n  },\n  computed: {\n    data () {\n      return {\n        hash: store.state.hash,\n        arrayOfVideos: [\n          'https://youtu.be/FAQ3yVGYSzY?list=PLsGaleFn8YydVFkxDhOvHHE5NoTsl6D1e',\n          'https://www.youtube.com/watch?v=UZNEmPOaVrA&list=PLsGaleFn8YydVFkxDhOvHHE5NoTsl6D1e&index=2'\n        ]\n      }\n    },\n    hash () {\n      return store.state.hash\n    },\n    residueSelected () {\n      return store.state.residueSelected\n    },\n    accession () {\n      return store.state.structure.accession\n    },\n    showScrim () {\n      return store.state.showScrim\n    }\n  },\n  watch: {\n    hash (fragment) {\n      var cleaned = decodeURIComponent(window.location.search)\n      history.replaceState(null, null, `${window.location.origin}${window.location.pathname}${cleaned}#${fragment}`)\n    },\n    residueSelected (value) {\n      var _this = this\n      document.querySelector('#toggle-toolbar-button').style.display = 'none'\n      if (!value) {\n        _this.showInitialState()\n      } else {\n        _this.showSelectedState()\n      }\n    },\n    accession (value) {\n      var _this = this\n      if (!value) {\n        value = ''\n      }\n      if (value.length > 0) {\n        _this.pdbOnly = false\n      } else {\n        _this.pdbOnly = true\n      }\n    }\n  },\n  methods: {\n    resetPopup: function () {\n      this.$store.commit('setPopupType', null)\n    },\n    appendHash: function (hash) {\n      // Store fragment value before it gets replaced\n      if (window.location.hash === '' || (!window.location.hash.includes('(') || !window.location.hash.includes('%'))) {\n        store.commit('setHash', hash)\n      }\n      if (window.location.hash.includes('(') || window.location.hash.includes('%') || window.location.hash.match(/[A-Z]?[0-9]/)) {\n        let oldHash = window.location.hash.split('#')[1]\n        if (oldHash.split('&').length > 1) {\n          oldHash = oldHash.includes('%') ? oldHash.split('%')[0] + '%' : (oldHash.includes(')') ? oldHash.split(')')[0] + ')' : '')\n        } else {\n          oldHash = oldHash.split('&')[0]\n        }\n        store.commit('setHash', oldHash + '&' + hash)\n      }\n    },\n    dropFragment: function () {\n      if (window.location.hash.length > 0) { // Continue if a fragment present\n        if (!(window.location.hash.includes('(') || window.location.hash.includes('%') || window.location.hash.match(/[A-Z]?[0-9]/))) {\n          store.commit('setHash', '')\n        } else {\n          let newHash = ''\n          const oldHash = window.location.hash.split('#')[1]\n          if (oldHash.split('&').length > 1) {\n            newHash = oldHash.includes('%') ? oldHash.split('%')[0] + '%' : (oldHash.includes(')') ? (oldHash.split(')')[0] + ')') : '')\n            newHash = (newHash.length < 1 && oldHash.match(/[A-Z]?[0-9]/)) ? oldHash.split('&')[0] : newHash\n          } else {\n            newHash = oldHash.split(')')[0] + ')'\n          }\n          store.commit('setHash', newHash)\n        }\n      }\n    },\n    showInitialState: function () {\n      document.querySelector('.jolecule-embed-footer').style.visibility = 'hidden'\n      document.querySelector('#color-legend').style.visibility = 'hidden'\n      document.querySelector('#color-legend').style.bottom = '105px'\n      document.querySelector('#threeDSpan-inner').style.height = '100%'\n      if (document.querySelector('#coverageMap')) {\n        document.querySelector('#coverageMap').style.display = 'block'\n      }\n      if (document.querySelector('#map')) {\n        document.querySelector('#map').style.visibility = 'visible'\n      }\n      if (document.querySelector('div.tabs')) {\n        document.querySelector('div.tabs').style = ''\n      }\n    },\n    showSelectedState: function () {\n      document.querySelector('.jolecule-embed-footer').style.display = 'flex'\n      document.querySelector('.jolecule-embed-footer').style.visibility = 'visible'\n      document.querySelector('#color-legend').style.bottom = '105px'\n      document.querySelector('#color-legend').style.visibility = 'visible'\n      document.querySelector('#threeDSpan-inner').style.height = '100%'\n      if (document.querySelector('#coverageMap')) {\n        document.querySelector('#coverageMap').style.display = 'none'\n      }\n      if (document.querySelector('#map')) {\n        document.querySelector('#map').style.visibility = 'hidden'\n      }\n      if (document.querySelector('div.tabs')) {\n        document.querySelector('div.tabs').style.top = '-1.1rem'\n      }\n      document.querySelector('#threeDSpan-inner-jolecule-soup-display-canvas-wrapper-selection').style.bottom = '105px'\n      var popupTail = document.getElementById('popupTail')\n      if (popupTail.classList.contains('show')) {\n        popupTail.classList.remove('show')\n        popupTail.classList.add('hide')\n      }\n      var popupTail2 = document.getElementById('popupTail2')\n      if (popupTail2.classList.contains('show')) {\n        popupTail2.classList.remove('show')\n        popupTail2.classList.add('hide')\n      }\n    },\n    checkPhone: function () {\n      var iDevices = [\n        'iPad Simulator',\n        'iPhone Simulator',\n        'iPod Simulator',\n        'iPad',\n        'iPhone',\n        'iPod'\n      ]\n\n      if (navigator.platform) {\n        while (iDevices.length) {\n          if (navigator.platform === iDevices.pop() || (screen.width >= 300 && screen.width <= 600)) { return true }\n        }\n      } else {\n        return false\n      }\n    },\n    inspectHeight: function () {\n      // var visible = window.toolbar.visible\n      document.querySelector('#heightinspector').innerHTML = 'reset'\n      var hDiff = (window.outerHeight - window.innerHeight)\n      document.querySelector('#heightinspector').innerHTML = 'HO:' + window.outerHeight + ', hDiff:' + hDiff + ', scroll: ' + window.scrollY + ' bodyHeight: ' + document.body.scrollHeight\n    },\n    // dismissPanel: function () {\n    //   // hide scrim\n    //   document.querySelector('#scrim').className = 'hide'\n    //   // reset title to neutral state\n    //   this.$store.commit('setScrim', false)\n    // },\n    toggleActive: function (ev) {\n      if (ev.className === 'lnk active') {\n        ev.className = 'lnk'\n      }\n    },\n    loadAccession () {\n      this.showInitialState()\n      LoadAQUARIA.loadAccession([this.$props.urlRequest.uniprotAccession], this.$props.urlRequest.pdbID, this.$props.urlRequest.chain)\n    },\n    loadPDB () {\n      this.pdbOnly = true\n      store.commit('setResidueSelected', false)\n      LoadAQUARIA.loadPDB(this.$props.urlRequest.pdbID)\n    }\n  },\n  mounted () {\n    // Functions to run immediately after home page DOM first finishes loading.\n    var _this = this\n    const hash = window.location.hash.split('#')[1]\n    if (hash) {\n      store.commit('setHash', hash)\n    } else {\n      store.commit('setHash', '')\n    }\n    /** Initialise Jolecule panel */\n    panel3d.initialisePanel3d()\n\n    /** Load State  */\n    if (this.$props.urlRequest.uniprotAccession) {\n      _this.loadAccession()\n    } else {\n      _this.loadPDB()\n    }\n\n    /** Watch for Jolecule change */\n    const joleculeWatcher = new View.JoleculeWatcher(panel3d.embededJolecule)\n    // update URL with view information upon 'view commit' events\n    // note: selection changes assumed to always also trigger an animation-driven viewcommit as Jolecule updates the view based on the new selection\n    joleculeWatcher.addEventListener('viewcommit', () => View.saveToUrl())\n\n    /** On resize update panels */\n    window.addEventListener('resize', function () {\n      window.scrollBy(0, 100)\n      document.querySelectorAll('#vis > .ruler').forEach(el => el.remove())\n      document.querySelectorAll('#vis > #allclusters .outer_container').forEach(el => el.remove())\n      showMatchingStructures.refresh()\n      var hDiff = (window.outerHeight - window.innerHeight)\n      document.querySelector('#heightinspector').innerHTML = 'HO:' + window.outerHeight + ', hDiff:' + hDiff + ', scroll: ' + window.scrollY + ' bodyHeight: ' + document.body.scrollHeight\n    })\n\n    /** COVID resource Scrim */\n    setTimeout(function () {\n      if (document.querySelector('.matrixLoading')) {\n        document.querySelector('.matrixLoading').style.visibility = 'hidden'\n        document.querySelector('.matrixLoading').style.display = 'none'\n      }\n    }, 1500)\n  },\n  updated () {\n    const isPhone = this.checkPhone()\n    var hDiff = (window.outerHeight - window.innerHeight)\n    if (isPhone && window.innerHeight > 315) {\n      if (Math.abs(hDiff) >= 114) {\n        window.scrollTo(0, 0)\n      } else {\n        window.scrollTo(0, 9)\n      }\n    }\n  }\n}\n</script>\n\n<style>\n/* .dimmer {\n  z-index: 99;\n  display: none;\n} */\n/* .close {\n  float: right;\n}\n#helpDoc {\n  background: white;\n  z-index: 9999;\n  position: relative;\n  padding: 4px;\n}\n#help {\n  position: absolute;\n  width: 90vw;\n  height: 90vh;\n  margin: 5vh 5vw 5vh 5vw;\n}\n\n#playlist {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  z-index: 9999;\n  background: black;\n} */\ndiv#heightinspector {\n  display: none;\n  position: absolute;\n  top:10em;\n  left:2em;\n  z-index: 1000;\n}\n/* general layout + styling */\n.main {\n    margin: auto;\n    display: flex;\n    flex-flow: column nowrap;\n    align-content: stretch;\n    height: 95vh;\n}\n#scrim {\n  background: dimgrey;\n  position: fixed;\n  opacity: 0.7;\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n}\n/* 3D structure viewer */\n#structure-viewer {\n    width: 100%;\n    height: calc(100% - 70px);\n    display: flex;\n}\n\n#structure-viewer:target {\n    /* when residue is selected */\n    background: radial-gradient(closest-side,var(--secondary-label), var(--background));\n}\n.panel.overlay.about {\n  padding-top: 4em;\n  max-height: 85vh;\n}\n.about p {\n  margin: 0.25em 0;\n}\n.scrollable {\n  overflow-y: scroll;\n  max-height: 80vh;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wrapper.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wrapper.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Wrapper.vue?vue&type=template&id=ea9b3d18\"\nimport script from \"./Wrapper.vue?vue&type=script&lang=js\"\nexport * from \"./Wrapper.vue?vue&type=script&lang=js\"\nimport style0 from \"./Wrapper.vue?vue&type=style&index=0&id=ea9b3d18&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/node.cac6f4f6.gif\";","module.exports = __webpack_public_path__ + \"img/aquaria-menu.1a89fbab.svg\";","/** generic functions and stuff to run once document is loaded\n *\n */\n\n// jQuery - format numbers with commas every 3 digits;   to use:  $(\"span.numbers\").digits();\n\n$.fn.digits = function () {\n  return this.each(function () {\n    $(this).text($(this).text().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, '$1,'))\n  })\n}\n\n// Once document is ready, move focus to protein input field\n\n$(document).ready(function () {\n\t  $('#protein_syn_input, #organism_syn_input').focus(function () {\n\t\t  $('.infocus').removeClass('infocus')\n\t\t  $('#searchByName').addClass('infocus')\n\t  })\n\n\t  $('#help3D').hide()\n})\n\n$(function () {\n  $(document).tooltip({ position: { my: 'right top+15', at: 'right center', collision: 'none' } }, { show: { delay: 1200 } })\n})\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserHelp.vue?vue&type=style&index=0&id=df550c62&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupAllVar.vue?vue&type=style&index=0&id=35c10a49&prod&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=style&index=0&id=2ba81711&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureMap.vue?vue&type=style&index=0&id=1f85a622&prod&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Playlist.vue?vue&type=style&index=0&id=e6e0d5fc&prod&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatchingStructures.vue?vue&type=style&index=0&id=79cd92bd&prod&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wrapper.vue?vue&type=style&index=0&id=ea9b3d18&prod&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StructureViewer.vue?vue&type=style&index=0&id=4ef440cd&prod&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Title.vue?vue&type=style&index=0&id=40f2069c&prod&scoped=true&lang=css\""],"sourceRoot":""}